<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom"><generator uri="http://jekyllrb.com" version="3.1.6">Jekyll</generator><link href="http://bblu.github.io/feed.xml" rel="self" type="application/atom+xml" /><link href="http://bblu.github.io/" rel="alternate" type="text/html" /><updated>2018-04-24T00:15:49+08:00</updated><id>http://bblu.github.io/</id><title>bblu&#39;s blog</title><subtitle>Just do IT</subtitle><author><name>bblu</name><email>gmwblu@gmail.com</email></author><entry><title>Go Webç¼–ç¨‹-ç±»å‹å’Œæ§åˆ¶</title><link href="http://bblu.github.io/2018-04-24-golang-type-1.html" rel="alternate" type="text/html" title="Go Webç¼–ç¨‹-ç±»å‹å’Œæ§åˆ¶" /><published>2018-04-24T00:10:00+08:00</published><updated>2018-04-24T00:10:00+08:00</updated><id>http://bblu.github.io/golang-type-1</id><content type="html" xml:base="http://bblu.github.io/2018-04-24-golang-type-1.html">&lt;blockquote&gt;
  &lt;p&gt;goè¯­è¨€å’ŒCå¾ˆåƒï¼Œåƒåˆ°æ˜¯æœ‰æŒ‡é’ˆç”šè‡³åˆ°äº†æœ‰å‡½æ•°æŒ‡é’ˆå’Œgotoçš„åœ°æ­¥ã€‚ç¬¦å·é¦–å­—æ¯çš„å¤§å°å†™å†³å®šäº†ç¬¦å·çš„å¯è§æ€§ï¼ˆæ¯”Fortranæœ‰è¿›æ­¥ğŸ˜‡ï¼‰ï¼Œforå’Œcç›¸æ¯”æœ‰å˜å¼ºï¼Œä¸ºä»€ä¹ˆå¤šè¡Œå­—ç¬¦ä¸²æ˜¯&lt;code class=&quot;highlighter-rouge&quot;&gt;multiLinestring&lt;/code&gt;å‘¢ã€‚ã€‚ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;section&quot;&gt;å®šä¹‰å˜é‡å’Œå¸¸é‡&lt;/h2&gt;

&lt;h3 id=&quot;var----&quot;&gt;var å˜é‡ ç±»å‹ [= å€¼]&lt;/h3&gt;
&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;isABug&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;bool&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;é»˜è®¤false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
 &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;addr&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
 &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Addr&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;bblu&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;china&quot;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
 &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;addr&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;bblu&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;china&quot;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
 &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Valuef32&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;float32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3.14&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
 &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;primes&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
 &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Arrays&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;45&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
 &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;arra10&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;   &lt;/span&gt;&lt;span class=&quot;c&quot;&gt;//éƒ¨åˆ†åˆå§‹åŒ–&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
 &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;silce0&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Arrays&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;   &lt;/span&gt;&lt;span class=&quot;c&quot;&gt;//[å‰å¼€åé—­)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
 &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;slice1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;slice2&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;byte&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
 &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dict&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
 &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dict&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;make&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
 &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;one&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
 &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rating&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;rune&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;red&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;green&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
 &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
 &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; 
 
 &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Person&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
     &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
     &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;addr&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
     &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;age&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
 &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
 &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Programmer&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
     &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Person&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;c&quot;&gt;//åŒ¿åå­—æ®µå¯ä»¥ç»§æ‰¿æˆ–è€…ç»„åˆ&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
     &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;language&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
 &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
 &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p1&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;person&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;bb&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;cn&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;35&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;### const å¸¸é‡ = å€¼
&lt;code class=&quot;highlighter-rouge&quot;&gt;go
const PI = 3.14159265358979323846264338
const Prefix = &quot;cn_bj&quot;
const greeting = \`multi   
                line string!\`
&lt;/code&gt;
## å†…ç½®ç±»å‹
- å¸ƒå°”ï¼šbool[false, true]
- æ•´å½¢ [int8, int16, rune=int32, int64]
- æ— ç¬¦ [byte=uint8, uint16, uint32, uint64]
- æµ®ç‚¹ [float32, float64]
- å¤æ•° [complex64, complex128]
- å­—ç¬¦ [string]
- é”™è¯¯ [error]
- æ•°ç»„ [array, slice]
- å­—å…¸ [map]éœ€è¦makeåˆå§‹åŒ–
- ç»„åˆ [struct]
- å‡½æ•° [funcï¼Œ method]
- æ¥å£ [interface]&lt;/p&gt;

&lt;h3 id=&quot;section-1&quot;&gt;æ“ä½œæŠ€å·§&lt;/h3&gt;
&lt;p&gt;#### å­—ç¬¦ä¸²è½¬å¯ç¼–è¾‘çš„æ•°ç»„ 
    c := []byte(â€œhelloâ€)
#### åˆ†ç»„å£°æ˜
&lt;code class=&quot;highlighter-rouge&quot;&gt;go
&quot;å¤§å†™å¼€å¤´çš„ç¬¦å·å¯ä»¥å¯¼å‡ºï¼Œå°å†™ç¬¦å·æ˜¯ç§æœ‰çš„&quot;
    import{
        &quot;fmt&quot;
        &quot;os&quot;
    }
    const{
        Pi = 3.14
        Db = &quot;pg&quot;
    }
    var{
        i int
        f float32
        s string
    }
&lt;/code&gt;
#### iotaæšä¸¾é»˜è®¤ä»0å¼€å§‹
```go
â€œåŒä¸€ç»„å¸¸é‡å£°æ˜çœç•¥ç±»å‹åˆ™å’Œå‰é¢ä¸€è‡´â€
cosnt{
    r = iota    // r = 0
    g = iota    // g = 1
    b = iota    // b = 2
    a           // a = 3
}&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;#### for
```go
for i &amp;lt; 10{
    i += 1
}

for i:=0; i &amp;lt; sum; i++{
    amount += arr[i]
}

for k,v := range dict{
    fmt.Println(&quot;dict[&quot;, k, &quot;]=&quot;, v)
}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h4 id=&quot;func-&quot;&gt;func è¿”å›å€¼çš„å£°æ˜å¯ä»¥çœç•¥&lt;/h4&gt;
&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;input1&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;input2&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;input1&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;input2&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subAdd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sub&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;#### deferæ ˆ å»¶è¿Ÿæ‰§è¡Œä¸€èˆ¬ç”¨äº†ç¡®ä¿èµ„æºè¢«é‡Šæ”¾&lt;/p&gt;

&lt;h4 id=&quot;panic--recover&quot;&gt;Panic &amp;amp; Recover&lt;/h4&gt;
&lt;p&gt;å…ˆä¸ç®¡è¿™äº›ç”¨ä¸åˆ°çš„ä¸œè¥¿&lt;/p&gt;

&lt;h4 id=&quot;main--init&quot;&gt;main &amp;amp; init&lt;/h4&gt;
&lt;p&gt;main å…¥å£å‡½æ•°ï¼ˆè¿™ç‚¹ä¸ŠCç¼–è¯‘æ—¶å€™æ˜¯å¯ä»¥-nostartfiles [-nostdlib]ç„¶å-eæŒ‡å®šè‡ªå®šä¹‰çš„å…¥å£å‡½æ•°ï¼‰&lt;/p&gt;

&lt;h4 id=&quot;make--new&quot;&gt;make å’Œ new&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;make T ç»™å†…å»ºç±»å‹åˆ†é…å†…å­˜ï¼Œè¿”å›ä¸€ä¸ªæœ‰åˆå§‹å€¼çš„Tç±»å‹&lt;/li&gt;
  &lt;li&gt;new(T) åˆ†é…äº†é›¶å€¼å¡«å……çš„Tç±»å‹çš„å†…å­˜ç©ºé—´ï¼Œè¿”å›åœ°å€&lt;/li&gt;
&lt;/ul&gt;</content><author><name>bblu</name><email>gmwblu@gmail.com</email></author><category term="go" /><summary>goè¯­è¨€å’ŒCå¾ˆåƒï¼Œåƒåˆ°æ˜¯æœ‰æŒ‡é’ˆç”šè‡³åˆ°äº†æœ‰å‡½æ•°æŒ‡é’ˆå’Œgotoçš„åœ°æ­¥ã€‚ç¬¦å·é¦–å­—æ¯çš„å¤§å°å†™å†³å®šäº†ç¬¦å·çš„å¯è§æ€§ï¼ˆæ¯”Fortranæœ‰è¿›æ­¥ğŸ˜‡ï¼‰ï¼Œforå’Œcç›¸æ¯”æœ‰å˜å¼ºï¼Œä¸ºä»€ä¹ˆå¤šè¡Œå­—ç¬¦ä¸²æ˜¯multiLinestringå‘¢ã€‚ã€‚ã€‚</summary></entry><entry><title>weeklyCoding-getIndicesByTarget</title><link href="http://bblu.github.io/2018-04-19-weekly-coding-getindices.html" rel="alternate" type="text/html" title="weeklyCoding-getIndicesByTarget" /><published>2018-04-19T23:54:00+08:00</published><updated>2018-04-19T23:54:00+08:00</updated><id>http://bblu.github.io/weekly-coding-getindices</id><content type="html" xml:base="http://bblu.github.io/2018-04-19-weekly-coding-getindices.html">&lt;blockquote&gt;
  &lt;p&gt;æ¯å‘¨ä¸€ç»ƒ-è®¡ç®—ç›®æ ‡ç´¢å¼•ã€‚å‡è®¾ç»™å®šæ•°ç»„ä¸­çš„ä¸¤ä¸ªå…ƒç´ å’Œç­‰äºç»™å®šå€¼è®¡ç®—è¿™ä¸ªç´¢å¼•ã€‚è¿™é“é¢˜å‘æœ€å¤šç­‰å°±æ˜¯C++çš„äº†ï¼šæ•°ç»„å‚æ•°ä¼ å€¼æ‹·è´ï¼Œæ•°ç»„é•¿åº¦ï¼Œè¿”å›æ•°ç»„æ€»ä¹‹æ˜¯åèƒŒå‘å‡‰ã€‚ï¼ˆè¿™ä¸ªæ¯å‘¨ä¸€ç»ƒä¸€å¼€å§‹è®¡åˆ’å«æ¯æ—¥ä¸€ç»ƒçš„ï¼Œå½“mkdirçš„æ—¶å€™æœ¬ç€ä»å®é™…çš„åŸåˆ™æ”¹æˆäº†weeklypracticeï¼‰&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;c&quot;&gt;C++&lt;/h2&gt;
&lt;div class=&quot;language-cpp highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// getIndicesByTarget.cpp @ 2018-04-14
&lt;/span&gt;&lt;span class=&quot;cp&quot;&gt;#include &amp;lt;stdlib.h&amp;gt;
#include &amp;lt;stdio.h&amp;gt;
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Solution&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getIndicesByTarget&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;indices&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]){&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tmp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tmp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;indices&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;tmp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tar&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tmp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]){&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;indices&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;//bblu @ 2018-04-20
&lt;/span&gt;    &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getIndicesByTarget2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;indices&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]){&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;len&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;len&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;indices&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;indices&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
            &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tmp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tmp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;indices&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;tmp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tar&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tmp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]){&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;indices&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;

&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;len&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;sizeof&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;sizeof&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tar&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;indices&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;Solution&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sol&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;sol&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;getIndicesByTarget&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;indices&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;indices&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;get indices[%d,%d] of number array.&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;indices&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;indices&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;sorry world!&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;sol&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;getIndicesByTarget2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;indices&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;indices&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;get indices[%d,%d] of number array.&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;indices&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;indices&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;sorry world again!&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;python&quot;&gt;Python&lt;/h2&gt;
&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# getIndicesByTarget.py @ 2018-4-19 23:27&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Solution&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;getIndicesByTarget&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nums&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;diff&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;indices&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;enumerate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nums&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;indices&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;tar&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tar&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v&lt;/span&gt; 
            &lt;span class=&quot;k&quot;&gt;elif&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;indices&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;indices&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;#bblu @ 2018-04-20&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;getIndicesByTarget2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nums&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;base&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nums&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)):&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;p0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&#39;|-deal with base=&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;s&#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;base&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;subNums&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nums&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;base&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:]&lt;/span&gt; 
            &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;enumerate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subNums&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;p0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;p0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;base&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;
                    &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&#39;|--p0=&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;s&#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p0&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;p1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tar&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v&lt;/span&gt; 
                &lt;span class=&quot;k&quot;&gt;elif&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;p1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                    &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&#39;|-find index:base=&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;s&#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;base&lt;/span&gt;
                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;base&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&#39;|-not find index:base=&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;s&#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;base&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;__name__&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&#39;__main__&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;mySolution&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Solution&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;nums&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;tar&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;indices&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mySolution&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;getIndicesByTarget&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nums&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;indices&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;indices&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&#39;sory world!&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;indices&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mySolution&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;getIndicesByTarget2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nums&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;indices&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;indices&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&#39;sory world again!&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;blockquote&gt;
  &lt;p&gt;TODO:Golang&lt;/p&gt;
&lt;/blockquote&gt;</content><author><name>bblu</name><email>gmwblu@gmail.com</email></author><category term="algorithm" /><summary>æ¯å‘¨ä¸€ç»ƒ-è®¡ç®—ç›®æ ‡ç´¢å¼•ã€‚å‡è®¾ç»™å®šæ•°ç»„ä¸­çš„ä¸¤ä¸ªå…ƒç´ å’Œç­‰äºç»™å®šå€¼è®¡ç®—è¿™ä¸ªç´¢å¼•ã€‚è¿™é“é¢˜å‘æœ€å¤šç­‰å°±æ˜¯C++çš„äº†ï¼šæ•°ç»„å‚æ•°ä¼ å€¼æ‹·è´ï¼Œæ•°ç»„é•¿åº¦ï¼Œè¿”å›æ•°ç»„æ€»ä¹‹æ˜¯åèƒŒå‘å‡‰ã€‚ï¼ˆè¿™ä¸ªæ¯å‘¨ä¸€ç»ƒä¸€å¼€å§‹è®¡åˆ’å«æ¯æ—¥ä¸€ç»ƒçš„ï¼Œå½“mkdirçš„æ—¶å€™æœ¬ç€ä»å®é™…çš„åŸåˆ™æ”¹æˆäº†weeklypracticeï¼‰</summary></entry><entry><title>ioså¼€å‘TimePieç¬¬7å¤©-åˆ†æ—¶æ®µç»Ÿè®¡</title><link href="http://bblu.github.io/2018-04-16-swift-timepie-statistics.html" rel="alternate" type="text/html" title="ioså¼€å‘TimePieç¬¬7å¤©-åˆ†æ—¶æ®µç»Ÿè®¡" /><published>2018-04-16T21:00:00+08:00</published><updated>2018-04-16T21:00:00+08:00</updated><id>http://bblu.github.io/swift-timepie-statistics</id><content type="html" xml:base="http://bblu.github.io/2018-04-16-swift-timepie-statistics.html">&lt;blockquote&gt;
  &lt;p&gt;æœ‰äº†æ•°æ®å°±å¯ä»¥ç»Ÿè®¡ä¸€ä¸‹æ¯å‘¨æˆ–è€…æ¯æœˆå¹³å‡æ—¶é—´å¼€é”€äº†ï¼Œå·¥ä½œæœ‰ä¸¤éƒ¨åˆ†ä¸€å—æ˜¯æ—¶é—´æ®µæ§åˆ¶ï¼ˆè‡³äºæ˜¯è‡ªç„¶æœˆè¿˜æ˜¯å‰30å¤©çœ‹ä¸ªäººå£å‘³äº†ï¼Œæˆ‘æ˜¯å–œæ¬¢å½“å‰å‘¨å’Œè‡ªç„¶æœˆæœ‰æ¸è¿›çš„æˆå°±æ„Ÿï¼‰å¦ä¸€éƒ¨åˆ†æ˜¯æ•°æ®åº“æŸ¥è¯¢é‚£ä¸ªå°±æ¯”è¾ƒç®€å•äº†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;date&quot;&gt;1.æ‰©å±•Dateè®¡ç®—æ—¶é—´æ®µ&lt;/h3&gt;
&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;extension&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Date&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// returns an integer from 1 - 7, with 1 being monday and 7 being Sunday&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;dayOfWeek&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Int&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// returns an integer from 1 - 7, with 1 being Sunday and 7 being Saturday&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;dow&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Calendar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;current&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;dateComponents&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;weekday&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;weekday&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dow&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dow&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;thisDay&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Date&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;base&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Calendar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;current&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Calendar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;current&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;dateComponents&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;year&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;month&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;day&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;today&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Calendar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;current&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;byAdding&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hour&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;base&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;today&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    
    &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;thisWeek&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Date&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;base&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Calendar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;current&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Calendar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;current&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;dateComponents&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;yearForWeekOfYear&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;weekOfYear&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;week&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Calendar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;current&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;byAdding&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hour&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;base&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;week&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;thisMonth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Date&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;base&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Calendar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;current&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Calendar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;current&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;dateComponents&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;year&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;month&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;month&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Calendar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;current&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;byAdding&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hour&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;base&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;month&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//é€‰æ‹©æ—¶é—´æ®µçš„æ“ä½œ&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;@IBAction&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;staticSpanChanged&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;sender&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UISegmentedControl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sender&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;selectedSegmentIndex&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;begin&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;thisDay&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;weekends&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dayOfWeek&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;ajust&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;days&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;begin&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;thisWeek&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;begin&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;thisMonth&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;ajust&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;days&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Calendar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;current&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;dateComponents&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;day&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;begin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;day&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;weekdays&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;weekdaysByNow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;dayofweek&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;weekends&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;days&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;days&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ajust&lt;/span&gt;
        &lt;span class=&quot;nf&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;days:&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;days&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;,weekdays:&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;weekdays&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;sumMain&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;sumMainClassSince&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;begin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;begin&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;timeIntervalSince1970&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;statistics&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&quot;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sumMain&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;enumerated&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;main&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;main&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;statistics&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;ğŸ›ï¸&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;shortTime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;interval&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;Double&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;days&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;Double&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;days&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s&quot;&gt; &quot;&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;main&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;statistics&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tdData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;icon&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;)\(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;shortTime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;interval&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Double&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;days&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;Double&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;weekdays&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s&quot;&gt; &quot;&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;statistics&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tdData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;icon&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;)\(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;shortTime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;interval&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Double&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;days&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;Double&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;days&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s&quot;&gt; &quot;&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;statisticsLabel&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;text&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;statistics&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;sqlite&quot;&gt;2.Sqliteæ•°æ®åº“æŸ¥è¯¢&lt;/h3&gt;
&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;//ä¸ºäº†æ–¹ä¾¿ç»Ÿè®¡åˆåŠ äº†ä¸€ä¸ªä¸»ç±»å­—æ®µ&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;alterTableDone&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;sqlite3_exec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;alter table Done add column main INTEGER&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;SQLITE_OK&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nf&quot;&gt;sqlite3_exec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;CREATE INDEX index_main ON Done (main);&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;nf&quot;&gt;sqlite3_exec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;CREATE INDEX index_code ON Done (code);&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;sqlite3_exec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;UPDATE Done SET main = code/100&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;SQLITE_OK&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;ok&quot;&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;errmsg&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;cString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;sqlite3_errmsg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;nf&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;error update table: &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;errmsg&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;errmsg&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;none&quot;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    
&lt;span class=&quot;c1&quot;&gt;// calculate the amount of main class timespan for a peried time&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;sumMainClassSince&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;begin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;aSum&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;queryString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;SELECT main,SUM(span) sums FROM Done WHERE stop &amp;gt; &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;begin&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s&quot;&gt; AND (code = 101 or main in (2,3,4,5,6)) GROUP BY main ORDER BY main&quot;&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;//statement pointer&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;stmt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;OpaquePointer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;?&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;//preparing the query&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;sqlite3_prepare&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;queryString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stmt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;SQLITE_OK&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;errmsg&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;cString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;sqlite3_errmsg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;nf&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;errmsg&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aSum&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;sqlite3_step&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stmt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;SQLITE_ROW&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;main&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;sqlite3_column_int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stmt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;sums&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;sqlite3_column_int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stmt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;//print(&quot;m:\(main),s:\(sums)&quot;)&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;aSum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sums&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aSum&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;section&quot;&gt;3.ç¦»ç›®æ ‡åˆè¿›äº†ä¸€æ­¥&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;../assets/in-post/2018-04-17-timepie-statistics.png&quot; alt=&quot;upload&quot; /&gt;&lt;/p&gt;</content><author><name>bblu</name><email>gmwblu@gmail.com</email></author><category term="ios" /><category term="swift" /><summary>æœ‰äº†æ•°æ®å°±å¯ä»¥ç»Ÿè®¡ä¸€ä¸‹æ¯å‘¨æˆ–è€…æ¯æœˆå¹³å‡æ—¶é—´å¼€é”€äº†ï¼Œå·¥ä½œæœ‰ä¸¤éƒ¨åˆ†ä¸€å—æ˜¯æ—¶é—´æ®µæ§åˆ¶ï¼ˆè‡³äºæ˜¯è‡ªç„¶æœˆè¿˜æ˜¯å‰30å¤©çœ‹ä¸ªäººå£å‘³äº†ï¼Œæˆ‘æ˜¯å–œæ¬¢å½“å‰å‘¨å’Œè‡ªç„¶æœˆæœ‰æ¸è¿›çš„æˆå°±æ„Ÿï¼‰å¦ä¸€éƒ¨åˆ†æ˜¯æ•°æ®åº“æŸ¥è¯¢é‚£ä¸ªå°±æ¯”è¾ƒç®€å•äº†ã€‚</summary></entry><entry><title>è®¡ç®—æœºå›¾å½¢æ˜¾ç¤ºä¹‹-æ¸²æŸ“ç®¡çº¿</title><link href="http://bblu.github.io/2018-04-12-cg-pipe-line.html" rel="alternate" type="text/html" title="è®¡ç®—æœºå›¾å½¢æ˜¾ç¤ºä¹‹-æ¸²æŸ“ç®¡çº¿" /><published>2018-04-12T20:12:00+08:00</published><updated>2018-04-12T20:12:00+08:00</updated><id>http://bblu.github.io/cg-pipe-line</id><content type="html" xml:base="http://bblu.github.io/2018-04-12-cg-pipe-line.html">&lt;blockquote&gt;
  &lt;p&gt;Rendering Pipelineè¿™ä¸ªä¸œè¥¿æˆ‘æœ€å¼€å§‹æ¥è§¦çš„æ—¶å€™å¦‚æœåå­—å«æ¸²æŸ“æµæ°´çº¿å°±ä¼šçœå»å¾ˆå¤šè„‘ç»†èƒå»ç†è§£ç®¡çº¿è¿™ä¸ªè¯æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ã€‚CPUçš„SuperPipelineå°±å¾ˆäººæ€§åŒ–çš„ç¿»è¯‘æˆè¶…çº§æµæ°´çº¿å°±å¾ˆå¥½ç†è§£ã€‚ç”±äºæˆ‘æ¥è§¦cgçš„æ—¶å€™å›ºå®šç®¡çº¿å’Œå¯ç¼–ç¨‹ç®¡çº¿å¤šåœ°ä½å’Œä»Šå¤©æ˜¯ç›¸åçš„ï¼Œæ‰€ä»¥å¤„äºç¤¼è²Œçš„åŸå› æˆ‘ä¹Ÿè¦å…ˆä»‹ç»ä¸€ä¸‹å›ºå®šç®¡çº¿ï¼Œè™½ç„¶ä»opengGL3.0å°±å¼€å§‹è¢«å‰¥ç¦»å‡ºå»äº†ï¼Œä»åº”ç”¨çš„è§’åº¦è¿˜æ˜¯æœ‰å¿…è¦æ‹¿å‡ºæ¥è¯´ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;section&quot;&gt;1.ä»å¨å¸ˆåˆ¶ä½œé¥¼å¹²å¼€å§‹æˆ‘ä»¬çš„æµæ°´çº¿ä¹‹æ—…&lt;/h2&gt;

&lt;p&gt;[å‡†å¤‡ææ–™] =&amp;gt; [åˆ¶ä½œå¥½å¤–å½¢] =&amp;gt; [çƒ¤ç®±å†…çƒ˜ç„™] =&amp;gt; [ğŸª]&lt;/p&gt;

&lt;h3 id=&quot;section-1&quot;&gt;1.1.çº¯æ‰‹å·¥åšé¥¼å¹²&lt;/h3&gt;
&lt;p&gt;å…¨æ‰‹å·¥è¿™ä¸ªå·¥ä½œæ¨¡å¼æ˜¯æ¯åå¨å¸ˆæ¥å…¨æƒè´Ÿè´£æ•´ä¸ªæµç¨‹çš„æ¨¡å¼ï¼Œä»ææ–™å‡†å¤‡åˆ°é¥¼å¹²å®šå‹åˆ°çƒ§ç«å»çƒ¤å…¨éƒ¨å·¥ä½œéƒ½ç”±ä¸€ä¸ªäººæ‰‹å·¥æ¥å®Œæˆï¼Œä¸¤åå¨å¸ˆæ²¡æœ‰åˆ†å·¥æ²¡æœ‰æµæ°´å®Œå…¨å¹¶è¡Œçš„å¹²è‡ªå·±çš„å·¥ä½œã€‚ä¼˜ç‚¹æ˜¯éå¸¸çµæ´»æƒ³åšæˆä»€ä¹ˆæ ·çš„å½¢çŠ¶æˆ–è€…æƒ³è¦å‡ æˆç†Ÿéƒ½å¯ä»¥å®ç°ï¼Œç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾å°±æ˜¯æ•ˆç‡åº•ã€‚&lt;/p&gt;

&lt;h3 id=&quot;section-2&quot;&gt;1.2.åŠè‡ªåŠ¨åŒ–é¥¼å¹²&lt;/h3&gt;
&lt;p&gt;å¨å¸ˆæƒ³è¦å·æ‡’ä¹°äº†è›‹ç³•æ¨¡å…·å’Œå¯å®šæ—¶çš„çƒ¤ç®±ã€‚åŠè‡ªåŠ¨åŒ–çš„å·¥ä½œæ¨¡å¼å¯ä»¥çœ‹æˆæ˜¯å¨å¸ˆç”¨å‡ ç§æ¨¡å…·æ¥åšè›‹ç³•ï¼Œçƒ¤ç®±ä¸Šä¹Ÿæœ‰8æˆç†Ÿ/10æˆç†Ÿ/12æˆç†Ÿå‡ ä¸ªé€‰æ‹©æŒ‰é’®å¯ä»¥é€‰ã€‚å¨å¸ˆè´Ÿè´£ç”¨ç£¨å…·ç»™è›‹ç³•å®šå‹ï¼Œç„¶åç”¨çƒ¤ç®±è´Ÿè´£çƒ˜ç„™ã€‚ä½†æ˜¯äºŒè€…çš„å·¥ä½œæ˜¯æœ‰ä¾èµ–çš„å¯ä»¥æµæ°´ä½†æ˜¯ä¸èƒ½å¹¶è¡Œï¼Œå³å¨å¸ˆåœ¨å®šå‹çš„æ—¶å€™çƒ¤ç®±å¤„äºç­‰å¾…çŠ¶æ€æ— æ³•å·¥ä½œçš„ï¼Œæ•ˆç‡ä¸Šæ¯”çº¯æ‰‹å·¥è¦å¿«ä½†æ˜¯è›‹ç³•çš„å½¢çŠ¶å—åˆ¶äºæ¨¡å…·çš„ç§ç±»ï¼Œå¦‚æœæ²¡æœ‰æŸä¸ªå½¢çŠ¶çš„æ¨¡å…·å°±ä¸èƒ½åšå‡ºç›¸åº”çš„è›‹ç³•ã€‚åŒç†å¦‚æœçƒ¤ç®±æ²¡æœ‰å‡†å¤‡3æˆç†Ÿçš„æŒ‰é’®ä¹ŸåŒæ ·çƒ˜ç„™ä¸å‡ºéœ€è¦çš„é¥¼å¹²ã€‚&lt;/p&gt;

&lt;h3 id=&quot;section-3&quot;&gt;1.3.å¯ç¼–ç¨‹åšé¥¼å¹²&lt;/h3&gt;
&lt;p&gt;å¯ç¼–ç¨‹çš„å·¥ä½œæ¨¡å¼å°±æ¯”è¾ƒé«˜çº§äº†ï¼Œéœ€è¦ä¸€ä¸ªç¥å¥‡çš„å·¥å…·ï¼Œè¿™ä¸ªå·¥å…·ä¸ä½†åŠŸèƒ½æ˜¯å¯ä»¥é…ç½®çš„ï¼Œå¹¶ä¸”å·¥ä½œå†…å®¹ä¹Ÿæ˜¯å¯ç¼–ç¨‹çš„ã€‚è¿™æ ·çš„å¥½å¤„å°±æ˜¯åœ¨é¥¼å¹²å®šå‹é˜¶æ®µè¿™ä¸¤ä¸ªå·¥å…·ä¸€èµ·åšé¥¼å¹²è‡ªåŠ¨æ¨¡å…·ç›´æ¥å‡ºéœ€è¦çš„å½¢çŠ¶ï¼Œå¹¶ä¸”å½¢çŠ¶æ˜¯å¯ä»¥ç”¨ç¨‹åºæ§åˆ¶çš„ï¼Œåœ¨çƒ˜ç„™é˜¶æ®µä¹Ÿå¯ä»¥ä¸€èµ·å½“çƒ¤ç®±å»çƒ˜ç„™ï¼Œå¹¶ä¸”çƒ˜ç„™çš„ç¨‹åº¦ä¹Ÿæ˜¯å¯ä»¥ç¼–ç¨‹æ§åˆ¶ç”Ÿäº§å‡ºé¢œè‰²ä¸åŒçš„é¥¼å¹²ã€‚å¦‚æœåªæœ‰ä¸¤ä¸ªå·¥å…·æå‡æ•ˆç‡çš„æ„Ÿè§‰å¯èƒ½è¿˜ä¸æ˜æ˜¾å¦‚æœæœ‰ä¸¤ç™¾ä¸ªè¿™æ ·çš„å·¥å…·é‚£ä¹ˆå¯ç¼–ç¨‹çš„å·¥ä½œæ–¹å¼å°±å¾ˆæ‹½é…·ç‚«äº†ã€‚&lt;/p&gt;

&lt;h2 id=&quot;section-4&quot;&gt;2.è¯´å®Œé¥¼å¹²å†æ¥è¯´è¯´æ¸²æŸ“çš„äº‹&lt;/h2&gt;

&lt;h3 id=&quot;cpu&quot;&gt;2.1.çº¯CPUæ¸²æŸ“&lt;/h3&gt;
&lt;p&gt;è¿™ç§æ–¹å¼CPUå…¨æƒè´Ÿè´£ç»„ç»‡æ•°æ®ï¼Œå®šç‚¹å˜æ¢å’Œç‰‡å…ƒå¤„ç†å„ä¸ªæ­¥éª¤ï¼Œæ‰€æœ‰å¤„ç†éƒ½æ˜¯çº¿æ€§çš„å¹¶ä¸”éƒ½è¦å ç”¨cpuèµ„æºã€‚&lt;/p&gt;

&lt;h3 id=&quot;section-5&quot;&gt;2.2.å›ºå®šç®¡çº¿æ¸²æŸ“&lt;/h3&gt;
&lt;p&gt;CUPå¤ªç´¯äº†ï¼Œæ‰¾æ˜¾å¡å¸®å¿™å»åšæ¸²æŸ“çš„äº‹ã€‚å›ºå®šç®¡çº¿çš„æ˜¾å¡ç”±é¡¶ç‚¹æ¸²æŸ“ç®¡çº¿å’Œåƒç´ æ¸²æŸ“ç®¡çº¿ç»„æˆï¼Œç”Ÿæˆå›¾åƒçš„è¿‡ç¨‹éƒ½æ˜¯å…ˆç”±é¡¶ç‚¹æ¸²æŸ“ç®¡çº¿ä¸­çš„Vertex Shaderï¼ˆé¡¶ç‚¹ç€è‰²å™¨ï¼‰ç”ŸæˆåŸºç¡€çš„å‡ ä½•å›¾å½¢ï¼ˆç”±ä¸‰è§’å½¢æ„æˆï¼‰ï¼Œç„¶åå†ç”±åƒç´ æ¸²æŸ“ç®¡çº¿ä¸­çš„Pixel Shaderï¼ˆåƒç´ ç€è‰²å™¨ï¼‰è¿›è¡Œå¡«è‰²ï¼Œæœ€åæ‰æ˜¯åƒç´ æ¸²æŸ“ç®¡çº¿ä¸­çš„çº¹ç†å•å…ƒè¿›è¡Œè´´å›¾ã€‚&lt;/p&gt;

&lt;p&gt;æŠŠå›¾å…ƒé¡¶ç‚¹ä½ç½®å’Œå±æ€§æ•°æ®å‡†å¤‡å¥½ï¼ˆåŒ…æ‹¬è´´å›¾/çº¹ç†åæ ‡/å…³ç…§/æè´¨ç­‰ç­‰ï¼‰ï¼ŒæŠŠç›¸åº”é˜¶æ®µçš„çŠ¶æ€è®¾å®šå¥½ç„¶åå¼€å§‹æ¸²æŸ“ï¼Œç­‰å¾…å±å¹•å‡ºç»“æœå°±å¯ä»¥äº†ã€‚æ¯”å¦‚å®šç‚¹å˜æ¢ï¼Œprimitiveçš„ç±»å‹æ˜¯ç‚¹ã€çº¿è¿˜æ˜¯ä¸‰è§’é¢äº¦æˆ–æ˜¯ä¸‰è§’æ¡å¸¦ï¼Œä¸€æ¬¡æ¸²æŸ“è¿™ä¸ªè®¾å®šå¥½å°±ä¸èƒ½ä¿®æ”¹äº†ã€‚è¿™æ ·é¡¶ç‚¹å¤„ç†å™¨å’Œç‰‡å…ƒå¤„ç†å™¨æœ‰ä¸Šä¸‹æ¸¸å…³ç³»ï¼Œç‰‡å…ƒå¤„ç†å™¨è¦ç­‰å¾…é¡¶ç‚¹å¤„ç†å™¨ç»™å®ƒæä¾›æ•°æ®æ‰èƒ½å·¥ä½œï¼Œè¿™æ— ç–‘é™ä½äº†æ˜¾å¡çš„å·¥ä½œæ•ˆç‡ã€‚&lt;/p&gt;

&lt;h3 id=&quot;section-6&quot;&gt;3.3.å¯ç¼–ç¨‹ç®¡çº¿æ¸²æŸ“&lt;/h3&gt;
&lt;p&gt;æ˜¾å¡ä¸ºäº†æé«˜æ•ˆç‡æŠŠæ¯ä¸ªå¤„ç†å™¨éƒ½ç£¨ç»ƒæˆå…¨èƒ½çš„é€‰æ‰‹ã€‚ç»Ÿä¸€æ¸²æŸ“æ¶æ„ï¼ˆUnified Shaderï¼‰æ˜¯ç›¸å¯¹äºåˆ†ç¦»å¼æ¸²æŸ“æ¶æ„è€Œè¨€çš„ã€‚æ–°çš„ç»Ÿä¸€æ¸²æŸ“æ¶æ„ï¼Œé¡¶ç‚¹ç€è‰²å™¨å’Œåƒç´ ç€è‰²å™¨è¢«åˆäºŒä¸ºä¸€ï¼Œæˆä¸ºæµå¤„ç†å™¨ã€‚æµå¤„ç†å™¨ï¼Œå³ç€è‰²å•å…ƒï¼ˆPixel
Shaderï¼‰å°±æ˜¯é‚£ä¸ªä¼—æœ›æ‰€å½’çš„ç¥å¥‡çš„å·¥å…·ã€‚å®ƒå°†åŒæ—¶è´Ÿè´£é¡¶ç‚¹ç€è‰²å’Œåƒç´ ç€è‰²ï¼Œé¿å…äº†é™„è½½ä¸å‡è¡¡çš„æƒ…å†µã€‚ï¼ˆç»Ÿä¸€æ¸²æŸ“æ¶æ„ä¸­è¿˜å¢åŠ äº†Geometry Shaderï¼‰åŒæ¶æ„æ˜¾å¡ä¸­ï¼Œæµå¤„ç†å™¨æ•°é‡è¶Šå¤šï¼Œæ€§èƒ½ä¹Ÿè¶Šå¼ºå¤§ã€‚&lt;/p&gt;

&lt;p&gt;å¯¹äºä¸€ä¸ªç€è‰²å•å…ƒé‡Œçš„ä¸€ä¸ªè¿ç®—å•å…ƒï¼ˆALUï¼‰æ¥è¯´è®¡ç®—é½æ¬¡åæ ‡å˜æ¢å’Œè®¡ç®—argbçš„é¢œè‰²èåˆå…¶å®å·®åˆ«ä¸å¤§æ²¡å¿…è¦ç”¨ä¸€å¥—é—²ä¸€å¥—ã€‚ä¸è®ºæ˜¯é¡¶ç‚¹å˜æ¢è¿˜æ˜¯ç‰‡å…ƒå¤„ç†å¤§å®¶ä¸€èµ·ä¸Šã€‚&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;ä»¥ä¸Šä¸¤å¥—ä¸œè¥¿å¯ä»¥å‚ç…§ç€çœ‹ï¼Œä½ å¯ä»¥æŠŠä¸€ä¸ªä¸‰ç»´åœºæ™¯é‡Œçš„æ¯ä¸ªé¢ç‰‡æƒ³è±¡æˆä¸€ä¸ªé¥¼å¹²ï¼Œåœ¨å¯ç¼–ç¨‹ç®¡çº¿å¤„ç†è¿‡ç¨‹ä¸­é¥¼å¹²çš„é¡¶ç‚¹å’Œé¢œè‰²éƒ½å¯ä»¥ç¼–ç¨‹è°ƒæ•´ã€‚è°ƒæ•´é¡¶ç‚¹çš„ç¨‹åºç‰‡æ®µå«é¡¶ç‚¹ç€è‰²å™¨ï¼Œè°ƒæ•´é¢œè‰²çš„ç¨‹åºç‰‡æ®µå«åƒç´ ç€è‰²å™¨ã€‚è¿™äº›ç€è‰²å™¨æœ€åè¢«ç¼–è¯‘æˆå¯ä»¥åœ¨æ˜¾å¡å†…éƒ¨çš„æµå¤„ç†å™¨ä¸­è¿è¡Œçš„ç¨‹åºã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æ¸²æŸ“æµæ°´çº¿çš„èµ·ç‚¹æ˜¯CPUä»æ•°æ®å‡†å¤‡å¼€å§‹ï¼Œç»ˆç‚¹æ˜¯å¸§ç¼“å­˜ï¼Œåˆ°æ˜¾ç¤ºå™¨å¯èƒ½è¿˜è¦è½¬æ¢ä¸€ä¸‹æ¯”å¦‚ç”¨VGAçš„æ¶²æ™¶æ˜¾ç¤ºå™¨ï¼Œå¸§ç¼“å­˜çš„æ•°å­—ä¿¡å·å…ˆè½¬æ¢æˆVAGæ¨¡æ‹Ÿä¿¡å·ç„¶åè¾“å…¥åˆ°æ˜¾ç¤ºå™¨å¦‚æœæˆ‘æ²¡è®°é”™çš„åŒ–VGAçš„RGBåˆ†é‡æ˜¯å‹ç¼©è¿‡çš„565çš„æ¯”ä¾‹æŸå¤±äº†ä¸‰åˆ†ä¹‹ä¸€çš„ä¿¡æ¯ä½†æ˜¯è¿™ä¸ªæ¯”ä¾‹æ˜¯æ ¹æ®äººçœ¼çš„æ„Ÿå…‰ç»†èƒä¼˜åŒ–è¿‡çš„æ„Ÿè§‰æ²¡é‚£ä¹ˆç³Ÿç³•ï¼Œä½†æ˜¯å› ä¸ºæ¶²æ™¶æ˜¯æ•°å­—ä¿¡å·é©±åŠ¨çš„æ¨¡æ‹Ÿä¿¡å·è¿˜è¦åœ¨æ¢å›å»ï¼Œè¿™å°±å¥½æ¯”ä½ ç”¨æ•°ç ç›¸æœºæ‹ç…§æ´—å‡ºæ¥å†ç¿»æ‹ä»¥åçš„æ•ˆæœï¼Œæ‰€ä»¥ç°åœ¨æ˜¾å¡ä¸Šå‡ ä¹çœ‹ä¸åˆ°è¿™ä¸ªæ¥å£äº†ã€‚&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#OpenGL 3.1ä¸»è¦æ–°ç‰¹æ€§ï¼š&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;Texture&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Buffer&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Objects&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;çº¹ç†ç¼“å†²å¯¹è±¡&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;ã€&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;Uniform&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Buffer&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Objects&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;ç»Ÿä¸€ç¼“å†²å¯¹è±¡&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;ã€&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;Signed&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Normalized&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Textures&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;ç¬¦å·æ­£å¸¸åŒ–çº¹ç†&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;ã€&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;Primitive&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Restart&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;åŸºæœ¬å…ƒç´ é‡å¯&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;ã€&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;Instancing&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;å®ä¾‹åŒ–&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;ã€&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;CopyBuffer&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;API&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;æ‹·è´ç¼“å†²æ¥å£&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;#OpenGL 3.1åˆ é™¤çš„åŠŸèƒ½ï¼š&lt;/span&gt;
    &lt;span class=&quot;err&quot;&gt;å›ºå®šç®¡çº¿&lt;/span&gt;
    &lt;span class=&quot;err&quot;&gt;é€‰æ‹©åé¦ˆæ¨¡å¼&lt;/span&gt;
    &lt;span class=&quot;err&quot;&gt;ç‚¹ç”»æ¨¡å¼åº”ç”¨ï¼ˆå®çº¿è™šçº¿ï¼‰&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;alpha&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;æµ‹è¯•ï¼ˆç”¨ç‰‡æ®µç€è‰²å™¨æ›¿ä»£&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;</content><author><name>bblu</name><email>gmwblu@gmail.com</email></author><category term="cg" /><category term="pipeline" /><summary>Rendering Pipelineè¿™ä¸ªä¸œè¥¿æˆ‘æœ€å¼€å§‹æ¥è§¦çš„æ—¶å€™å¦‚æœåå­—å«æ¸²æŸ“æµæ°´çº¿å°±ä¼šçœå»å¾ˆå¤šè„‘ç»†èƒå»ç†è§£ç®¡çº¿è¿™ä¸ªè¯æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ã€‚CPUçš„SuperPipelineå°±å¾ˆäººæ€§åŒ–çš„ç¿»è¯‘æˆè¶…çº§æµæ°´çº¿å°±å¾ˆå¥½ç†è§£ã€‚ç”±äºæˆ‘æ¥è§¦cgçš„æ—¶å€™å›ºå®šç®¡çº¿å’Œå¯ç¼–ç¨‹ç®¡çº¿å¤šåœ°ä½å’Œä»Šå¤©æ˜¯ç›¸åçš„ï¼Œæ‰€ä»¥å¤„äºç¤¼è²Œçš„åŸå› æˆ‘ä¹Ÿè¦å…ˆä»‹ç»ä¸€ä¸‹å›ºå®šç®¡çº¿ï¼Œè™½ç„¶ä»opengGL3.0å°±å¼€å§‹è¢«å‰¥ç¦»å‡ºå»äº†ï¼Œä»åº”ç”¨çš„è§’åº¦è¿˜æ˜¯æœ‰å¿…è¦æ‹¿å‡ºæ¥è¯´ä¸€ä¸‹ã€‚</summary></entry><entry><title>è®¡ç®—æœºå›¾å½¢æ˜¾ç¤ºä¹‹-å›¾å½¢æ¥å£</title><link href="http://bblu.github.io/2018-04-06-cg-graphic-lib.html" rel="alternate" type="text/html" title="è®¡ç®—æœºå›¾å½¢æ˜¾ç¤ºä¹‹-å›¾å½¢æ¥å£" /><published>2018-04-06T14:28:00+08:00</published><updated>2018-04-06T14:28:00+08:00</updated><id>http://bblu.github.io/cg-graphic-lib</id><content type="html" xml:base="http://bblu.github.io/2018-04-06-cg-graphic-lib.html">&lt;blockquote&gt;
  &lt;p&gt;ä¸Šç¯‡è¯´åˆ°åœ¨DOSæ—¶æœŸï¼Œåº”ç”¨ç¨‹åºå¦‚æœè¦å¯¹äºæ˜¾ç¤ºè®¾å¤‡åšè¾“å‡ºçš„è¯ï¼Œå¿…é¡»ä½¿ç”¨INT 10ä¸­æ–­ï¼Œæˆ–å¯¹äºVGAå¡ç›´æ¥I/Oï¼Œæˆ–ç›´æ¥å¯¹VRAMæ‰€åœ¨çš„è®°å¿†ä½“ä½ç½®ä½œå¡«å€¼ã€‚ä½†VGAå¡å½“æ—¶æ—¥æ–°æœˆå¼‚ï¼Œå„å®¶çš„VGAå¡åœ¨å…¶I/O portsçš„å®šä¹‰å¹¶ä¸ä¸€è‡´ï¼Œè™½ä¸­é—´æœ‰æ¨å‡ºä¸€ä¸ªåä¸ºVESA SVGAçš„æ˜¾å¡é©±åŠ¨ç¨‹åºçš„å…±ç”¨æ ‡å‡†ï¼Œä½†ç”±äºDOSæ—¶å…ˆå¤©çš„64KBçš„æ ‡ç­¾é¡µé™åˆ¶ï¼Œä»æœ‰è®¸å¤šä¸ä¾¿ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;å›¾å½¢åº“ç”¨æ¥å®Œæˆä¸€äº›å’Œç»˜åˆ¶æœ‰å…³çš„å·¥ä½œï¼Œåƒç›´çº¿æˆ–æ›²çº¿çš„ç»˜åˆ¶ï¼Œæ–‡å­—æ¸²æŸ“ï¼Œé¢œè‰²æ§åˆ¶ç­‰ã€‚æ¯”å¦‚å¾®è½¯çš„GDIã€Macintoshçš„Quartzå’ŒGTKçš„GDK/Xlibç­‰ã€‚æ¯”å¦‚è¦ç”»ä¸€æ¡çº¿å¦‚æœCPUäº²è‡ªæ¥çš„è¯ï¼Œåæ ‡ç³»è¦è‡ªå·±ç®¡ï¼Œçº¿å®½å†…åœ¨å±å¹•ä¸Šçš„ç‚¹è¦è‡ªå·±ç®—è‡ªå·±å¡«å……ï¼Œå¦‚æœè¦æŠ—é”¯é½¿è¿˜è¦è‡ªå·±å»æŸ”åŒ–è¾¹ç¼˜ã€‚å¾®è½¯åœ¨å¼€å‘Windowsæ—¶ï¼Œå‘ç°è¿™ä¸ªé—®é¢˜ï¼Œäºæ˜¯å†³å®šæ‰“é€ ä¸€ä¸ªGDIå­ç³»ç»Ÿï¼Œå°†æ˜¾ç¤ºè®¾å¤‡æ”¹ä»¥APIçš„æ–¹å¼è¿›è¡Œæ“ä½œï¼Œä»¥ä¾¿å°†å„VGAå¡çš„å·®å¼‚é€šè¿‡å„VGAå¡å‚å•†è‡ªè¡Œåˆ¶ä½œçš„é©±åŠ¨ç¨‹åºæ¥è¡”æ¥GDIï¼Œæ¥æ‰“æ¶ˆå„VGAå¡åœ¨æ“ä½œä¸Šçš„å½¼æ­¤å·®å¼‚ã€‚&lt;/p&gt;

&lt;p&gt;è¯è¯´äº‘é£çš„é‚£æœ¬ã€Šç¼–ç¨‹æ„Ÿæ‚Ÿã€‹é‡Œå¯¹GDIä¹Ÿæœ‰æ‰€ä»‹ç»ï¼Œé‚£æœ¬ä¹¦æŒºé€‚åˆå…¥é—¨çš„ã€‚å¾®è½¯åœ¨1995å¹´å‘å¸ƒDirect3Dï¼ŒDirect 3Dæœ€ç»ˆæˆä¸ºOpenGLçš„ä¸»è¦ç«äº‰å¯¹æ‰‹ã€‚ç°åœ¨åº”è¯¥QTçš„ç”¨æˆ·ä¼šæ›´å¤šä¸€äº›,æ¯•ç«Ÿæ”¯æŒåº•å±‚OpenGLåŠ é€Ÿï¼Œæœ¬æ¥å¾®è½¯DirectXå‡­å€Ÿç³»ç»Ÿçš„è£…æœºé‡å’Œå¯¹æ¸¸æˆçš„æ”¯æŒå·²ç»æŠŠSGIçš„OpenGLæ‰“å¾—æ²¡æœ‰è¿˜æ‰‹ä¹‹åŠ›äº†ï¼Œç»“æœç§»åŠ¨é¢†åŸŸçš„å¤§çˆ†å‘å‡­å€ŸOpenGL ESåˆå¼ºåŠ¿é€†è½¬äº†ã€‚ï¼ˆæ³¨ï¼š2006å¹´7æœˆï¼ŒOpenGLæ¶æ„è¯„å®¡å§”å‘˜ä¼šæŠ•ç¥¨å†³å®šå°†OpenGL APIæ ‡å‡†çš„æ§åˆ¶æƒäº¤ç»™Khronos Groupï¼‰&lt;/p&gt;

&lt;h2 id=&quot;gdigraphics-device-interface&quot;&gt;1.GDIã€Graphics Device Interfaceã€‘&lt;/h2&gt;

&lt;p&gt;å›¾å½¢è®¾å¤‡æ¥å£æ˜¯å¾®è½¯å…¬å¸è§†çª—æ“ä½œç³»ç»Ÿçš„ä¸‰å¤§æ ¸å¿ƒéƒ¨ä»¶ä¹‹ä¸€ï¼Œå›¾å½¢è®¾å¤‡åŒ…æ‹¬ä½†æ˜¯ä¸é™äºæ˜¾ç¤ºå™¨ã€æ‰“å°æœºä¹‹ç±»è¾“å‡ºè®¾å¤‡çš„æ ‡å‡†ï¼Œä¹Ÿå°±æ˜¯è¯´åªè¦è¿™äº›å›¾å½¢è®¾å¤‡é©±åŠ¨æ”¯æŒGDIè¿™ä¸ªæ ‡å‡†å°±å¯ä»¥è¢«ä½¿ç”¨GDIçš„åº”ç”¨ç¨‹åºä½¿ç”¨ã€‚&lt;/p&gt;

&lt;p&gt;GDIæœ€å¤§çš„å¥½å¤„æ˜¯å®ƒæœ‰å¯ä»¥ç›´æ¥è®¿é—®ç¡¬ä»¶è®¾å¤‡çš„èƒ½åŠ›ã€‚é€šè¿‡GDIå¯ä»¥éå¸¸å®¹æ˜“çš„åœ¨ä¸åŒç±»å‹çš„è®¾å¤‡ä¸Šç»˜åˆ¶å›¾å½¢ï¼Œåƒæ˜¾ç¤ºå±å’Œæ‰“å°æœºæˆ–ç±»ä¼¼çš„æ˜¾ç¤ºè®¾å¤‡ã€‚è¿™äº›èƒ½åŠ›æ˜¯å¾®è½¯Windowsç³»ç»Ÿâ€œæ‰€è§å³æ‰€å¾—â€ç¨‹åºçš„æ ¸å¿ƒã€‚ä½†å¾®è½¯å¾ˆå¿«å°±è¢«å…¶ä»–çš„ç¨‹åºå¼€å‘è€…å‘ŠçŸ¥ï¼ŒGDIå¤ªæ…¢äº†ï¼Œå› æ­¤Microsoftå°±å†å‡ºä¸€ä¸ªWINGç”¨äºWindows 3.0ï¼Œè®©åº”ç”¨ç¨‹åºèƒ½å¤Ÿç›´æ¥å¯¹VRAMè¿›è¡Œå¡«å€¼ï¼Œä»¥åŠ é€Ÿç»˜å›¾çš„ç›¸å…³è®¡ç®—ã€‚&lt;/p&gt;

&lt;p&gt;åæ¥ï¼ŒWINGå†æ”¹ä¸ºDirectDrawæˆä¸ºDirectXçš„ä¸€éƒ¨åˆ†ï¼Œç›´åˆ°DirectX 7ã€‚ï¼ˆDirectX 8ä»¥åï¼ŒDirectXä¸­2Dä¸3Dæ˜¾ç¤ºæŠ€æœ¯åˆå¹¶ï¼Œå¼€å§‹è¿›å…¥å…¨3Dçš„è´´å›¾è®¡ç®—æ–¹å¼ï¼‰
ç›´åˆ°DirectX 10æ—¶ï¼Œå·²ç»è¿›å…¥ä»¥DirectXçš„COMä¸ºåŸºç¡€ï¼Œä»¥.Net Frameworkæ–¹å¼è¿›è¡Œå°è£…çš„XNAä¹‹æ—¶ä»£ã€‚XNAèº«å…¼DirectXçš„æ€§èƒ½ä¸.Net Frameworkçš„ä½¿ç”¨ä¾¿åˆ©æ€§ï¼Œç›®å‰è¢«åº”ç”¨äºXBOXç³»åˆ—çš„æ¸¸æˆä¸»æœºä¸Šï¼Œç°å·²æˆä¸ºæ–°ä¸€ä»£çš„å›¾å½¢å­ç³»ç»Ÿçš„ä¸»æµã€‚&lt;/p&gt;

&lt;h3 id=&quot;gdi&quot;&gt;GDI+&lt;/h3&gt;
&lt;p&gt;GDI+ä»Windows XPæ“ä½œç³»ç»Ÿå¼€å§‹å¼•å…¥ï¼Œæä¾›äºŒç»´çš„å‘é‡å›¾å½¢ï¼Œæ”¹è¿›æ—§æœ‰çš„GDIï¼ŒåŠ å¼ºçš„å¯è§†åŒ–å±æ€§ï¼Œä¾‹å¦‚è¾¹ç•Œï¼Œæ¸å˜å’Œé€æ˜ã€‚é€šè¿‡GDI+ï¼Œèƒ½å¤Ÿç›´æ¥å°†BMPè½¬æˆJPGæˆ–å…¶å®ƒæ ¼å¼çš„å›¾ç‰‡ï¼Œè¿˜èƒ½å¤Ÿç”ŸæˆSVGã€Flashç­‰ã€‚GDI+ ä½¿ç”¨ARGBçš„å€¼æ¥è¡¨ç¤ºé¢œè‰²ã€‚GDI+çš„åŒç¼“å†²æŠ€æœ¯å¯ä»¥æé«˜ç»˜å›¾æ•ˆç‡ï¼Œå¯é¿å…å±å¹•é—ªçƒã€‚&lt;/p&gt;

&lt;p&gt;GDI+å·ç§°æä¾›äº†ç¡¬ä»¶åŠ é€ŸåŠŸèƒ½ï¼Œå¯ä»¥ç›´æ¥è®¿é—®ç¡¬ä»¶ã€‚ä½†è¿™ä¼¼ä¹æ˜¯å¤¸é¥°çš„è¯´æ³•ï¼ŒGDI+æ— æ³•ç›´æ¥ä½¿ç”¨VGAå¡ä¸Šçš„GPUæ¥åŠ é€Ÿç»˜å›¾çš„ç›¸å…³è®¡ç®—ï¼Œå› æ­¤åœ¨ç»˜å›¾æ€§èƒ½ä¸Šè¿œè¿œä¸åŠDirectXï¼Œåªèƒ½åšåˆ°Lockå†…å­˜è¿›è¡Œæ“ä½œã€‚ï¼ˆGDI+åªæ˜¯ä¸€ç»„é‡æ–°å°è£…GDIçš„APIï¼ŒDirectXåˆ™æ˜¯ä»COMåˆ°åº•å±‚çš„æ˜¾å¡é©±åŠ¨ç¨‹åºçš„ç»„åˆï¼‰&lt;/p&gt;

&lt;p&gt;éšGDI+æ¨å‡ºäº†åŠ å¼ºå‹EMFï¼Œå³EMF+ï¼Œå¯ä»¥åŒæ—¶æ”¯æŒGDIå’ŒGDI+ã€‚Microsoft .NETé€šè¿‡System.Drawingå‘½åç©ºé—´æä¾›å¯¹GDI+çš„æ”¯æŒã€‚The GDI+ çš„DLLå¯ç§»æ¤åˆ°æ—§æœ‰çš„Windowsç‰ˆæœ¬ä¸Šã€‚
GDI+ ç±»ä¼¼Appleçš„Quartz 2Då­ç³»ç»Ÿï¼Œä»¥åŠå±äºå¼€æ”¾æºä»£ç ï¼ˆopen-sourceï¼‰çš„libartå’ŒCairoåº“ã€‚&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;ä»Aè¯­è¨€åˆ°Bè¯­è¨€å†åˆ°Cè¯­è¨€ï¼Œç„¶åC++ è²Œä¼¼å¾®è½¯æŒºå–œæ¬¢+çš„C#é‡Œå°±ä¸€ä¸‹å°±æ•´äº†å››ä¸ªï¼&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;opengl&quot;&gt;OpenGL&lt;/h2&gt;
&lt;p&gt;1980å¹´ä»£ï¼Œå¼€å‘å¯ä»¥ç”¨åœ¨å„ç§å„æ ·å›¾å½¢ç¡¬ä»¶ä¸Šçš„è½¯ä»¶æ˜¯ä¸ªçœŸæ­£çš„æŒ‘æˆ˜ã€‚(è¿™ä¹ˆè¯´80åéƒ½å’ŒCGåŒæ—¶ä»£äº§ç”Ÿå–½)é€šå¸¸ï¼Œè½¯ä»¶å¼€å‘äººå‘˜ä¸ºæ¯ç§ç¡¬ä»¶ç¼–å†™è‡ªå®šä¹‰çš„æ¥å£å’Œé©±åŠ¨ç¨‹åºã€‚ä½†è¿™éå¸¸æ˜‚è´µå¹¶ä¼šå¯¼è‡´å¤§é‡å·¥ä½œçš„é‡å¤ã€‚90å¹´ä»£åˆï¼ŒSGIæˆä¸ºå·¥ä½œç«™3Då›¾å½¢é¢†åŸŸçš„é¢†å¯¼è€…ã€‚å…¶IRIS GLçš„APIè¢«è®¤ä¸ºæ˜¯æœ€å…ˆè¿›çš„ç§‘æŠ€å¹¶æˆä¸ºäº‹å®ä¸Šçš„è¡Œä¸šæ ‡å‡†ï¼Œ1992å¹´ï¼ŒSGIå…¬å¸é¢†å¯¼äº†OpenGLæ¶æ„å®¡æŸ¥å§”å‘˜ä¼šï¼ˆOpenGL ARBï¼‰çš„åˆ›å»ºã€‚è¯¥å§”å‘˜ä¼šç”±è‹¥å¹²å…¬å¸ç»„æˆï¼Œè´Ÿè´£æœªæ¥OpenGLè§„èŒƒçš„ç»´æŠ¤å’Œæ‰©å……ã€‚&lt;/p&gt;

&lt;p&gt;ä¹Ÿå°±æ˜¯è¯´OpenGLæ—©æœŸæ˜¯å›¾å½¢åº“åæ¥å°±è¿›åŒ–æˆä¸€å¥—æ¥å£è§„èŒƒäº†ï¼Œå‘ä¸Šä¸ºå›¾å½¢å¼€å‘è€…æä¾›æœåŠ¡ï¼Œå‘ä¸‹å¯¹æ¥æ˜¾å¡å‚å•†ï¼Œæ¥å£çš„å®ç°éƒ½æ˜¯å„å¤§å‚å•†å»åšäº†ã€‚è™½ç„¶è¿™äº›å‡½æ•°çš„å®šä¹‰è¡¨é¢ä¸Šç±»ä¼¼äºCè¯­è¨€ï¼Œä½†å®ƒä»¬æ˜¯è¯­è¨€ç‹¬ç«‹çš„ã€‚å› æ­¤ï¼ŒOpenGLæœ‰è®¸å¤šè¯­è¨€ç»‘å®šï¼Œå€¼å¾—ä¸€æçš„åŒ…æ‹¬ï¼šJavaScriptç»‘å®šçš„WebGL(æœ€æ–°çš„WebGL 2.0è§„èŒƒåŸºäºOpenGL ES 3.0å¹¶äº2017å¹´1æœˆå®Œæˆ)ï¼›Cç»‘å®šçš„WGLã€GLXå’ŒCGLï¼›iOSæä¾›çš„Cç»‘å®šï¼›Androidæä¾›çš„Javaå’ŒCç»‘å®šã€‚&lt;/p&gt;

&lt;p&gt;OpenGLä¸ä»…è¯­è¨€æ— å…³ï¼Œè€Œä¸”å¹³å°æ— å…³ã€‚è§„èŒƒåªå­—æœªæè·å¾—å’Œç®¡ç†OpenGLä¸Šä¸‹æ–‡ç›¸å…³çš„å†…å®¹ï¼Œè€Œæ˜¯å°†è¿™äº›ä½œä¸ºç»†èŠ‚äº¤ç»™åº•å±‚çš„çª—å£ç³»ç»Ÿã€‚å‡ºäºåŒæ ·çš„åŸå› ï¼ŒOpenGLçº¯ç²¹ä¸“æ³¨äºæ¸²æŸ“ï¼Œè€Œä¸æä¾›è¾“å…¥ã€éŸ³é¢‘ä»¥åŠçª—å£ç›¸å…³çš„APIï¼Œè¿™äº›äº‹ç†æ‰€åº”å½“çš„è¢«æµæ”¾åˆ°ä¸‰ç»´å¼•æ“é‚£ä¸€å±‚äº†ï¼Œé€šè¿‡åœºæ™¯æ ‘ç»´æŠ¤æ¸²æŸ“å¯¹è±¡ï¼Œæˆªè·ä¸Šå±‚çª—å£å’Œé”®ç›˜äº‹ä»¶å‘ä¸‹è½¬å‘ï¼Œå½“ç„¶æœ€ä¸»è¦çš„æ˜¯æŠŠæ¸²æŸ“çº¿çš„æ¥å£å°è£…æˆå„ç§å‚æ•°åŒ–å›¾å½¢çš„æ¥å£ï¼ŒæŠŠæ¸²æŸ“ä¸‰è§’å½¢çš„æ¥å£å°è£…æˆèƒ½åŠ è½½æ¨¡å‹çš„æ¥å£ï¼ŒæŠŠæ¨¡å‹è§†å›¾çŸ©é˜µåŒ…è£…æˆåœºæ™¯æ“æ§å™¨ã€‚&lt;/p&gt;

&lt;p&gt;OpenGLè§„èŒƒæè¿°äº†ç»˜åˆ¶2Då’Œ3Då›¾å½¢çš„æŠ½è±¡APIã€‚å°½ç®¡è¿™äº›APIå¯ä»¥å®Œå…¨é€šè¿‡è½¯ä»¶å®ç°ï¼Œä½†å®ƒæ˜¯ä¸ºå¤§éƒ¨åˆ†æˆ–è€…å…¨éƒ¨ä½¿ç”¨ç¡¬ä»¶åŠ é€Ÿè€Œè®¾è®¡çš„ã€‚OpenGLçš„APIå®šä¹‰äº†è‹¥å¹²å¯è¢«å®¢æˆ·ç«¯ç¨‹åºè°ƒç”¨çš„å‡½æ•°ï¼Œä»¥åŠä¸€äº›å…·åæ•´å‹å¸¸é‡ï¼ˆä¾‹å¦‚ï¼Œå¸¸é‡GL_TEXTURE_2Då¯¹åº”çš„åè¿›åˆ¶æ•´æ•°ä¸º3553ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../assets/in-post/2018-04-06-gl-fundamentals.png&quot; alt=&quot;OpenGL Fundamentals&quot; /&gt;&lt;/p&gt;

&lt;p&gt;OpenGLæ˜¯ä¸€ä¸ªä¸æ–­è¿›åŒ–çš„APIã€‚æ–°ç‰ˆOpenGLè§„èŒƒä¼šå®šæœŸç”±Khronos Groupå‘å¸ƒï¼Œæ–°ç‰ˆæœ¬é€šè¿‡æ‰©å±•APIæ¥æ”¯æŒå„ç§æ–°åŠŸèƒ½ã€‚æ¯ä¸ªç‰ˆæœ¬çš„ç»†èŠ‚ç”±Khronos Groupçš„æˆå‘˜ä¸€è‡´å†³å®šï¼ŒåŒ…æ‹¬æ˜¾å¡å‚å•†ã€æ“ä½œç³»ç»Ÿè®¾è®¡äººå‘˜ä»¥åŠç±»ä¼¼Mozillaå’Œè°·æ­Œçš„ä¸€èˆ¬æ€§æŠ€æœ¯å…¬å¸ã€‚&lt;/p&gt;

&lt;p&gt;é™¤äº†æ ¸å¿ƒAPIè¦æ±‚çš„åŠŸèƒ½ä¹‹å¤–ï¼ŒGPUä¾›åº”å•†å¯ä»¥é€šè¿‡æ‰©å±•çš„å½¢å¼æä¾›é¢å¤–åŠŸèƒ½ã€‚æ‰©å±•å¯èƒ½ä¼šå¼•å…¥æ–°åŠŸèƒ½å’Œæ–°å¸¸é‡ï¼Œå¹¶ä¸”å¯èƒ½æ”¾æ¾æˆ–å–æ¶ˆç°æœ‰çš„OpenGLå‡½æ•°çš„é™åˆ¶ã€‚ç„¶åä¸€ä¸ªæ‰©å±•å°±åˆ†æˆä¸¤éƒ¨åˆ†å‘å¸ƒï¼šåŒ…å«æ‰©å±•å‡½æ•°åŸå‹çš„å¤´æ–‡ä»¶å’Œä½œä¸ºå‚å•†çš„è®¾å¤‡é©±åŠ¨ã€‚ä¾›åº”å•†ä½¿ç”¨æ‰©å±•å…¬å¼€è‡ªå®šä¹‰çš„APIè€Œæ— éœ€è·å¾—å…¶ä»–ä¾›åº”å•†æˆ–Khronos Groupçš„æ”¯æŒï¼Œè¿™å¤§å¤§å¢åŠ äº†OpenGLçš„çµæ´»æ€§ã€‚OpenGL Registryè´Ÿè´£æ‰€æœ‰æ‰©å±•çš„æ”¶é›†å’Œå®šä¹‰ã€‚
æ¯ä¸ªæ‰©å±•éƒ½ä¸ä¸€ä¸ªç®€çŸ­çš„æ ‡è¯†ç¬¦å…³ç³»ï¼Œè¯¥æ ‡è¯†ç¬¦åŸºäºå¼€å‘å…¬å¸çš„åç§°ã€‚ä¾‹å¦‚ï¼Œè‹±ä¼Ÿè¾¾ï¼ˆnVidiaï¼‰çš„æ ‡è¯†ç¬¦æ˜¯NVã€‚å¦‚æœå¤šä¸ªä¾›åº”å•†åŒæ„ä½¿ç”¨ç›¸åŒçš„APIæ¥å®ç°ç›¸åŒçš„åŠŸèƒ½ï¼Œé‚£ä¹ˆå°±ç”¨EXTæ ‡å¿—ç¬¦ã€‚è¿™ç§æƒ…å†µæ›´è¿›ä¸€æ­¥ï¼ŒKhronos Groupçš„æ¶æ„è¯„å®¡å§”å‘˜ï¼ˆArchitecture Review Boardï¼ŒARBï¼‰æ­£å¼æ‰¹å‡†è¯¥æ‰©å±•ï¼Œé‚£ä¹ˆè¿™å°±è¢«ç§°ä¸ºä¸€ä¸ªâ€œæ ‡å‡†æ‰©å±•â€ï¼Œæ ‡è¯†ç¬¦ä½¿ç”¨ARBã€‚ç¬¬ä¸€ä¸ªARBæ‰©å±•æ˜¯GL_ARB_multitextureã€‚
OpenGLæ¯ä¸ªæ–°ç‰ˆæœ¬ä¸­å¼•å…¥çš„åŠŸèƒ½ï¼Œç‰¹åˆ«æ˜¯ARBå’ŒEXTç±»å‹çš„æ‰©å±•ï¼Œé€šå¸¸ç”±æ•°ä¸ªè¢«å¹¿æ³›å®ç°çš„æ‰©å±•åŠŸèƒ½ç»„åˆè€Œæˆã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../assets/in-post/2018-04-06-gl-extensions.svg&quot; alt=&quot;OpenGL Fundamentals&quot; /&gt;&lt;/p&gt;</content><author><name>bblu</name><email>gmwblu@gmail.com</email></author><category term="cg" /><category term="opengl" /><category term="d3d" /><summary>ä¸Šç¯‡è¯´åˆ°åœ¨DOSæ—¶æœŸï¼Œåº”ç”¨ç¨‹åºå¦‚æœè¦å¯¹äºæ˜¾ç¤ºè®¾å¤‡åšè¾“å‡ºçš„è¯ï¼Œå¿…é¡»ä½¿ç”¨INT 10ä¸­æ–­ï¼Œæˆ–å¯¹äºVGAå¡ç›´æ¥I/Oï¼Œæˆ–ç›´æ¥å¯¹VRAMæ‰€åœ¨çš„è®°å¿†ä½“ä½ç½®ä½œå¡«å€¼ã€‚ä½†VGAå¡å½“æ—¶æ—¥æ–°æœˆå¼‚ï¼Œå„å®¶çš„VGAå¡åœ¨å…¶I/O portsçš„å®šä¹‰å¹¶ä¸ä¸€è‡´ï¼Œè™½ä¸­é—´æœ‰æ¨å‡ºä¸€ä¸ªåä¸ºVESA SVGAçš„æ˜¾å¡é©±åŠ¨ç¨‹åºçš„å…±ç”¨æ ‡å‡†ï¼Œä½†ç”±äºDOSæ—¶å…ˆå¤©çš„64KBçš„æ ‡ç­¾é¡µé™åˆ¶ï¼Œä»æœ‰è®¸å¤šä¸ä¾¿ã€‚</summary></entry><entry><title>è®¡ç®—æœºå›¾å½¢æ˜¾ç¤ºä¹‹-å­—ç¬¦æ¥å£</title><link href="http://bblu.github.io/2018-04-01-cg-card-interface.html" rel="alternate" type="text/html" title="è®¡ç®—æœºå›¾å½¢æ˜¾ç¤ºä¹‹-å­—ç¬¦æ¥å£" /><published>2018-04-01T21:12:00+08:00</published><updated>2018-04-01T21:12:00+08:00</updated><id>http://bblu.github.io/cg-card-interface</id><content type="html" xml:base="http://bblu.github.io/2018-04-01-cg-card-interface.html">&lt;blockquote&gt;
  &lt;p&gt;è®¡ç®—æœºè·¨æ—¶ä»£æ„ä¹‰çš„è¿›æ­¥æœ‰ä¸¤ä¸ªä¸€ä¸ªæ˜¯å®æ¨¡å¼åˆ°ä¿æŠ¤æ¨¡å¼ï¼Œå¦ä¸€ä¸ªæ˜¯å‘½ä»¤è¡Œåˆ°GUIã€‚ç¬¬äºŒä¸ªè¿›æ­¥å’Œæ˜¾å¡æ˜¯äº’ç›¸ä¿ƒè¿›çš„å…³ç³»ï¼ŒGUIè®©è®¡ç®—æœºä»ç§‘ç ”é™¢æ‰€èµ°è¿›äº†äººä»¬çš„æ—¥å¸¸ç”Ÿæ´»ä¸­ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;section&quot;&gt;1.è¿œå¤æ—¶ä»£æ²¡æœ‰æ˜¾å¡çš„å­—ç¬¦æ˜¾ç¤ºæ–¹å¼&lt;/h2&gt;

&lt;h3 id=&quot;bios-int-0x10&quot;&gt;1.1.BIOS INT 0x10&lt;/h3&gt;
&lt;p&gt;åœ¨åŸºäºx86çš„è®¡ç®—æœºBIOSé€šå¸¸åœ¨ç¬¬17ä¸­æ–­å‘é‡åˆ›å»ºäº†ä¸€ä¸ªä¸­æ–­å¤„ç†ç¨‹åºæä¾›äº†å®æ¨¡å¼ä¸‹çš„æ˜¾ç¤ºæœåŠ¡ã€‚æ­¤ç±»æœåŠ¡åŒ…æ‹¬è®¾ç½®æ˜¾ç¤ºæ¨¡å¼ï¼Œå­—ç¬¦å’Œå­—ç¬¦ä¸²è¾“å‡ºï¼Œå’Œåœ¨å›¾å½¢æ¨¡å¼ä¸‹çš„è¯»å–å’Œå†™å…¥åƒç´ åŠŸèƒ½ã€‚è¦ä½¿ç”¨è¿™ä¸ªåŠŸèƒ½çš„è°ƒç”¨ï¼Œåœ¨å¯„å­˜å™¨AHèµ‹äºˆå­åŠŸèƒ½å·ï¼Œå…¶å®ƒçš„å¯„å­˜å™¨èµ‹äºˆå…¶å®ƒæ‰€éœ€çš„å‚æ•°ï¼Œå¹¶ç”¨æŒ‡ä»¤INT 10Hè°ƒç”¨ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-asm&quot;&gt;;é€šè¿‡å¯„å­˜å™¨è¿›è¡Œæ˜¾ç¤ºæ§åˆ¶
;use 0x06 to clear screen
	mov ax, 0x600   ;åŠŸèƒ½å·AH=0x06è¡¨ç¤ºä¸Šç¿»ï¼ŒAL0:æ¸…é™¤
	mov bx, 0x700   ;BHè®¾ç½®èƒŒæ™¯è‰²å’Œå‰æ™¯è‰²
	mov cx, 0		;çª—å£å·¦ä¸Šç‚¹(0,0)
	mov dx, 0x184f	;çª—å£å³ä¸‹ç‚¹(80,25)

	int 0x10        ;è§¦å‘ä¸­æ–­å¤„ç†å‡†å¤‡å†™å…¥å­—ç¬¦
	
;ä»¥ä¸‹å‘æ–‡æœ¬æ¨¡å¼æ˜¾å­˜å†™å…¥ â€œ1 MBRâ€
;0xA4æ˜¯æ ·å¼å®šä¹‰ï¼ŒA:ç»¿è‰²èƒŒæ™¯é—ªçƒ, 4:æ–‡å­—çº¢è‰²
	mov byte [gs:0x00],&#39;1&#39;
	mov byte [gs:0x01],0xA4
	mov byte [gs:0x02],&#39; &#39;
	mov byte [gs:0x03],0xA4
	mov byte [gs:0x04],&#39;M&#39;
	mov byte [gs:0x05],0xA4
	mov byte [gs:0x06],&#39;B&#39;
	mov byte [gs:0x07],0xA4
	mov byte [gs:0x08],&#39;R&#39;
	mov byte [gs:0x09],0xA4
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä»¥ä¸Šç¤ºä¾‹å®Œæ•´æºç :&lt;a href=&quot;https://github.com/bblu/samples/blob/efd0b955f80a57883745130c97f9d1aba1688cbe/os/boot/3mbr.S&quot;&gt;bblu/samples/os/boot/3mbr.S&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;bochsçš„åŸºæœ¬æ“ä½œ&lt;a href=&quot;https://github.com/bblu/samples/blob/efd0b955f80a57883745130c97f9d1aba1688cbe/os/bochs&quot;&gt;bblu/samples/os/bochs&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;section-1&quot;&gt;1.2.å®æ¨¡å¼æ˜¾å­˜åœ°å€åŒºé—´&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;| èµ·å§‹  | ç»“æŸ  | å¤§å°| ç”¨é€”  |
| ------| ----- |---- | :---- |
| C0000 |C7FFF  | 32k |æ˜¾ç¤ºé€‚é…å™¨BIOS|
| B8000 |BFFFF  | 32k |æ–‡æœ¬æ¨¡å¼æ˜¾ç¤ºé€‚é…å™¨ |
| B0000  |B7FFF | 32k |é»‘ç™½æ˜¾ç¤ºé€‚é…å™¨    |
| A0000  |AFFFF | 64k |å½©è‰²æ˜¾ç¤ºé€‚é…å™¨    |
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;blockquote&gt;
  &lt;p&gt;INT 10Hçš„æ‰§è¡Œé€Ÿåº¦æ˜¯ç›¸å½“ç¼“æ…¢çš„ï¼Œæ‰€ä»¥å¾ˆå¤šç¨‹åºéƒ½ç»•è¿‡è¿™ä¸ªBIOSä¾‹ç¨‹è€Œç›´æ¥è®¿é—®æ˜¾ç¤ºç¡¬ä»¶ã€‚è®¾ç½®æ˜¾ç¤ºæ¨¡å¼å¹¶ä¸ç»å¸¸ä½¿ç”¨ï¼Œå¯ä»¥é€šè¿‡BIOSæ¥å®ç°ï¼Œè€Œä¸€ä¸ªæ¸¸æˆåœ¨å±å¹•ä¸Šç»˜åˆ¶å›¾å½¢ï¼Œéœ€è¦åšå¾—å¾ˆå¿«ï¼Œæ‰€ä»¥ç›´æ¥è®¿é—®æ˜¾å­˜æ¯”ç”¨BIOSè°ƒç”¨æ¯ä¸ªåƒç´ æ›´é€‚åˆã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;section-2&quot;&gt;2.é€šç”¨å’Œä¸“ç”¨å›¾å½¢æ¥å£&lt;/h2&gt;

&lt;p&gt;ä»CPUçš„è§’åº¦æ˜¾å¡æ˜¯å¤–è®¾ï¼Œä»è®¡ç®—æœºçš„è§’åº¦æ˜¾ç¤ºå™¨æ˜¯å¤–è®¾ã€‚CPUæˆ–è€…è¯´æ“ä½œç³»ç»Ÿè¦ç»™æ˜¾å¡ï¼ˆGPUï¼‰åˆ†é…ä»»åŠ¡å¿…é¡»é€šè¿‡æ¥å£ç”µè·¯ï¼Œç»å…¸æ¶æ„çš„ä¸»æ¿æœ‰ä¸¤ä¸ªé›†ä¸­æ¥å£ç”µè·¯æ§åˆ¶å™¨ä¸€å—ä¸€åŒ—ï¼Œé«˜é€Ÿè®¾å¤‡æ¯”å¦‚å†…å­˜è¿æ¥åœ¨åŒ—æ¡¥èŠ¯ç‰‡ä¸Šï¼Œå—æ¡¥èŠ¯ç‰‡è¿æ¥PCIï¼ŒUSBï¼ŒSATAç­‰ä½é€Ÿè®¾å¤‡ã€‚&lt;/p&gt;

&lt;h3 id=&quot;pci&quot;&gt;2.1.PCI&lt;/h3&gt;
&lt;p&gt;Peripheral Component Interconnectï¼Œç¿»è¯‘æˆä¸­æ–‡æ˜¯â€œå¤–å›´å™¨ä»¶äº’è”â€ï¼Œæ˜¯ç”±PCISIG æ¨å‡ºçš„ä¸€ç§å±€éƒ¨å¹¶è¡Œæ€»çº¿æ ‡å‡†å¸¦å®½32ä½é¢‘ç‡33MHzã€‚PCIæ€»çº¿æ ‡å‡†æ˜¯1992å¹´åˆ¶å®šçš„ç”±ISA(Industy Standard Architecture)æ€»çº¿å‘å±•è€Œæ¥ï¼Œè¯è¯´æˆ‘è¿˜äº²çœ¼è§è¿‡ISAæ¥å£çš„å£°å¡çš„ï¼ŒISAæ¥å£æ˜¯é»‘è‰²çš„PCIæ˜¯ç™½è‰²çš„é»‘ç™½åˆ†æ˜ã€‚&lt;/p&gt;

&lt;h3 id=&quot;agp&quot;&gt;2.2.AGP&lt;/h3&gt;
&lt;p&gt;Accelerated Graphics
PortåŠ é€Ÿå›¾å½¢æ¥å£ï¼Œæ˜¯åœ¨1997å¹´ç”±Intelæå‡ºä¸ºäº†æ¶ˆé™¤PCIåœ¨å¤„ç†3Då›¾å½¢æ—¶çš„ç“¶é¢ˆï¼Œæ˜¯ä»PCIæ ‡å‡†ä¸Šåˆ›å»ºèµ·æ¥çš„é«˜é€Ÿç‚¹å¯¹ç‚¹æ˜¾å¡ä¸“ç”¨ä¼ è¾“é€šé“ï¼Œå·¥ä½œé¢‘ç‡66MHzå’Œ133MHzä¸¤ç§ï¼Œä¸»è¦åº”ç”¨åœ¨ä¸‰ç»´ç”µè„‘å›¾å½¢çš„åŠ é€Ÿä¸Šã€‚&lt;/p&gt;

&lt;p&gt;AGPæ€»çº¿ç›´æ¥ä¸ä¸»æ¿çš„åŒ—æ¡¥èŠ¯ç‰‡ç›¸è¿ï¼Œä¸”é€šè¿‡è¯¥æ¥å£è®©æ˜¾ç¤ºèŠ¯ç‰‡ä¸ç³»ç»Ÿä¸»å†…å­˜ç›´æ¥ç›¸è¿ï¼Œé¿å…äº†çª„å¸¦å®½çš„PCIæ€»çº¿å½¢æˆçš„ç³»ç»Ÿç“¶é¢ˆï¼Œå¢åŠ 3Då›¾å½¢æ•°æ®ä¼ è¾“é€Ÿåº¦ï¼ŒåŒæ—¶åœ¨æ˜¾å­˜ä¸è¶³çš„æƒ…å†µä¸‹è¿˜å¯ä»¥è°ƒç”¨ç³»ç»Ÿä¸»å†…å­˜ã€‚&lt;/p&gt;

&lt;h3 id=&quot;pci-e&quot;&gt;2.3.PCI-E&lt;/h3&gt;
&lt;p&gt;æ˜¯ç”±è‹±ç‰¹å°”æå‡ºçš„å°†å…¨é¢å–ä»£PCIå’ŒAGPï¼Œæœ€ç»ˆå®ç°æ€»çº¿æ ‡å‡†çš„ç»Ÿä¸€ã€‚å®ƒçš„ä¸»è¦ä¼˜åŠ¿å°±æ˜¯æ•°æ®ä¼ è¾“é€Ÿç‡é«˜ï¼Œç›®å‰æœ€é«˜å¯è¾¾åˆ°10GB/sä»¥ä¸Šã€‚&lt;/p&gt;

&lt;p&gt;PCI-Eæ˜¯é€šç”¨æ€»çº¿ä¸åƒAGPæ˜¯ç»™æ˜¾å¡ä¸“ç”¨çš„ï¼ŒAPGæœ‰ç‚¹å‘åŸå¸‚é“è·¯ä¸­çš„å…¬äº¤è½¦ä¸“ç”¨é€šé“åˆ«çš„æ±½è½¦ä¸èƒ½åœ¨ä¸Šè¾¹è·‘è€ŒPCIEå°±æ˜¯é«˜é€Ÿå…¬è·¯äº†ä»å…¥å£è¿›å»åå°±å¯ä»¥æ•å¼€è·‘äº†ã€‚&lt;/p&gt;

&lt;p&gt;ä¸è®ºä½•ç§æ¥å£ï¼Œæ˜¾ç¤ºé€‚é…å™¨/æ˜¾å¡æš´éœ²ç»™CPUçš„éƒ½æ˜¯IOç«¯å£å’Œæ˜¾å­˜ï¼ŒCPUè‡ªå·±è®¡ç®—å»å¡«å……æ˜¾å­˜çš„ç»“æœæ˜¯ä¸€æ ·çš„ï¼Œåªè¦æ˜¾å­˜ä¸­æœ‰å¯ä»¥æ˜¾ç¤ºçš„æ•°æ®æ˜¾å¡å°±æŠŠä»–ä»¬æäº¤åˆ°å±å¹•ä¸Šå»æ˜¾ç¤ºï¼Œä¸ä¸€æ ·çš„æ˜¯è¿‡ç¨‹ä¸­çš„å¤„ç†ä¸åŠ³CPUå¤§é©¾äº†å°¤å…¶æ˜¯ä¸‰ç»´æ¸²æŸ“å‰çš„é¡¶ç‚¹å˜æ¢ã€çº¹ç†åæ ‡ã€èåˆã€å„ç§æµ‹è¯•éƒ½ä¸æ˜¯cpuçš„å¼ºé¡¹ï¼Œè¿™æ ·æœ‰äº†æ˜¾å¡cpuå°±è½»æ¾è®¸å¤šäº†ã€‚&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;å‚è€ƒ &lt;a href=&quot;https://zh.wikipedia.org/wiki/INT_10H&quot;&gt;Wiki: INT 10H&lt;/a&gt;&lt;br /&gt;
ã€Šæ“ä½œç³»ç»Ÿ çœŸè±¡è¿˜åŸã€‹ç¬¬ä¸‰ç« &lt;/p&gt;
&lt;/blockquote&gt;</content><author><name>bblu</name><email>gmwblu@gmail.com</email></author><category term="cg" /><category term="bios" /><summary>è®¡ç®—æœºè·¨æ—¶ä»£æ„ä¹‰çš„è¿›æ­¥æœ‰ä¸¤ä¸ªä¸€ä¸ªæ˜¯å®æ¨¡å¼åˆ°ä¿æŠ¤æ¨¡å¼ï¼Œå¦ä¸€ä¸ªæ˜¯å‘½ä»¤è¡Œåˆ°GUIã€‚ç¬¬äºŒä¸ªè¿›æ­¥å’Œæ˜¾å¡æ˜¯äº’ç›¸ä¿ƒè¿›çš„å…³ç³»ï¼ŒGUIè®©è®¡ç®—æœºä»ç§‘ç ”é™¢æ‰€èµ°è¿›äº†äººä»¬çš„æ—¥å¸¸ç”Ÿæ´»ä¸­ã€‚</summary></entry><entry><title>ioså¼€å‘TimePieç¬¬6å¤©-Flush UI when Active</title><link href="http://bblu.github.io/2018-03-27-swift-timepie-active.html" rel="alternate" type="text/html" title="ioså¼€å‘TimePieç¬¬6å¤©-Flush UI when Active" /><published>2018-03-27T00:20:00+08:00</published><updated>2018-03-27T00:20:00+08:00</updated><id>http://bblu.github.io/swift-timepie-active</id><content type="html" xml:base="http://bblu.github.io/2018-03-27-swift-timepie-active.html">&lt;blockquote&gt;
  &lt;p&gt;å¾ˆä¹…æ²¡è¿™ä¹ˆè¿ç»­åŠ ç­åˆ°ååŠå¤œçš„äº†ï¼ŒçœŸæœ‰ç‚¹åƒä¸æ¶ˆã€‚ä¹‹å‰ç¨‹åºè®¡æ—¶å™¨åå°ä¼šåœæ‘†å”¤é†’åæ—¶é—´ä¼šè½åï¼Œåå°åˆ‡æ¢åˆ°å‰å°éœ€è¦åˆ·æ–°æ˜¾ç¤ºã€‚å¦å¤–å› ä¸ºç›®å‰æŒ‰ç…§è®¡åˆ’è‡ªåŠ¨æ—¥ç¨‹çš„åŠŸèƒ½è¿˜æ²¡å®ç°ï¼ŒåŠ äº†ä¸€ä¸ªè°ƒæ•´ä¸Šæ¬¡è®°å½•åŠŸèƒ½æ˜¯åœ¨å¿˜è®°è®°å½•çš„æ—¶å€™ä½¿ç”¨çš„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;section&quot;&gt;1.å†æ¬¡å”¤é†’ç¨‹åºåˆ·æ–°é¡µé¢&lt;/h3&gt;
&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;viewDidLoad&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;viewDidLoad&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;NotificationCenter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;addObserver&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;selector&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;#selector(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;applicationDidBecomeActive(_:)&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                                            &lt;span class=&quot;nv&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSNotification&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;Name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;UIApplicationDidBecomeActive&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                                            &lt;span class=&quot;nv&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;//...&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;viewWillDisappear&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;animated&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Bool&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;viewWillDisappear&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;animated&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;NotificationCenter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;removeObserver&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;nv&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NSNotification&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;Name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;UIApplicationDidBecomeActive&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;//print(&quot;removeObserver&quot;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;section-1&quot;&gt;2.è®°å½•è°ƒæ•´ä¸»è¦çœ‹ç•Œé¢&lt;/h3&gt;
&lt;p&gt;ä»£ç å°±æ˜¯æ™®é€šé€»è¾‘æ²¡ä»€ä¹ˆå¯çœ‹çš„ï¼Œç‚¹å‡»ï¸ã€âš™ï¸ ã€‘æŒ‰é’®æ˜¾ç¤ºä¸€ä¸ªè¿”å›æŒ‰é’®ğŸ”™  å’Œæ‹–åŠ¨æ¡&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../assets/in-post/2018-03-27-12.23.58-AM.png&quot; alt=&quot;EditLast&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;debug&quot;&gt;3.å®Œå–„å’ŒDebug&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;åŠ å…¥äº†å‰å°æ—¥å¿—åœ¨æœ€åº•ä¸‹&lt;/li&gt;
  &lt;li&gt;ä¿®æ­£é€‰æ‹©å»¶æ—¶çš„é€»è¾‘BUGï¼šå»¶æ—¶æ²¡æœ‰é¡ºå»¶æ›´æ–°å˜é‡ã€‚&lt;/li&gt;
  &lt;li&gt;å°è£…äº†æ—¥å¿—æ¥å£å¯ä»¥ä»¥åæ‰©å±•è¾“å‡º&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ç›®å‰æ˜¯è¿™æ ·çš„&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../assets/in-post/2018-03-27-12.15.49-AM.png&quot; alt=&quot;upload&quot; /&gt;&lt;/p&gt;</content><author><name>bblu</name><email>gmwblu@gmail.com</email></author><category term="ios" /><category term="swift" /><summary>å¾ˆä¹…æ²¡è¿™ä¹ˆè¿ç»­åŠ ç­åˆ°ååŠå¤œçš„äº†ï¼ŒçœŸæœ‰ç‚¹åƒä¸æ¶ˆã€‚ä¹‹å‰ç¨‹åºè®¡æ—¶å™¨åå°ä¼šåœæ‘†å”¤é†’åæ—¶é—´ä¼šè½åï¼Œåå°åˆ‡æ¢åˆ°å‰å°éœ€è¦åˆ·æ–°æ˜¾ç¤ºã€‚å¦å¤–å› ä¸ºç›®å‰æŒ‰ç…§è®¡åˆ’è‡ªåŠ¨æ—¥ç¨‹çš„åŠŸèƒ½è¿˜æ²¡å®ç°ï¼ŒåŠ äº†ä¸€ä¸ªè°ƒæ•´ä¸Šæ¬¡è®°å½•åŠŸèƒ½æ˜¯åœ¨å¿˜è®°è®°å½•çš„æ—¶å€™ä½¿ç”¨çš„ã€‚</summary></entry><entry><title>è¯»ä¹¦ç¬”è®°-ã€Šç½‘ç»œæ˜¯å¦‚ä½•è¿æ¥çš„ã€‹</title><link href="http://bblu.github.io/2018-03-23-book-network-link.html" rel="alternate" type="text/html" title="è¯»ä¹¦ç¬”è®°-ã€Šç½‘ç»œæ˜¯å¦‚ä½•è¿æ¥çš„ã€‹" /><published>2018-03-23T00:10:00+08:00</published><updated>2018-03-23T00:10:00+08:00</updated><id>http://bblu.github.io/book-network-link</id><content type="html" xml:base="http://bblu.github.io/2018-03-23-book-network-link.html">&lt;blockquote&gt;
  &lt;p&gt;ä»¥å‰è€æ˜¯è§‰å¾—å­¦ä¹ ä»€ä¹ˆä¸œè¥¿åº”è¯¥ç”±æµ…å…¥æ·±ï¼Œä¸€æ­¥ä¸€æ­¥æ­¥å…¥æ·±æ¸Šã€‚ç°åœ¨æ„Ÿè§‰å¥½åƒå€’è¿‡æ¥ä¹Ÿæ˜¯å¯è¡Œçš„å½“ç„¶æ‹¿åˆ°ä¸€æœ¬ä¹¦å³ä½¿çœ‹ä¸æ‡‚ä¹Ÿèƒ½åšæŒçœ‹ä¸‹å»æ‰è¡Œã€‚ä¸»è¦æ˜¯ç½‘ç»œè¿™å—çœŸæ˜¯å¦‚æ­¤ï¼Œæœ€æ—©çœ‹è®¡ç®—æœºç½‘ç»œç¬¬äº”ç‰ˆï¼Œäº‘é‡Œé›¾é‡Œçš„é‚£äº›ä»€ä¹ˆå¸¦ç¢°æ’æ£€æµ‹æ˜¯è½½æ³¢ä¾¦å¬æçš„å¾ˆç‹¼ç‹ˆï¼Œåæ¥çœ‹è¯¦è§£TCP/IPæ„Ÿè§‰å°±å¥½ä¸€ç‚¹ï¼Œè¿™ä¸¤å¤©çœ‹åˆ°Kindleé‡Œçš„ç½‘ç»œæ˜¯æ€ä¹ˆè¿æ¥çš„ï¼Œç»ˆäºæœ‰å±±é‡æ°´å¤ç–‘æ— è·¯ï¼ŒæŸ³æš—èŠ±æ˜åˆä¸€æ‘çš„æ„Ÿè§‰äº†ï¼ŒæŠŠä¸€äº›çŸ¥è¯†ç‚¹å’Œä¹‹å‰çš„å›°æƒ‘è®°å½•ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;|ç½‘ç»œåº”ç”¨ç¨‹åºï¼ˆæµè§ˆå™¨ã€foxmailã€webæœåŠ¡å™¨ï¼‰---|
|----------------------------------------|
|---------Socketåº“------------[DNè§£æå™¨]--|
|------ [20]TCP----ã€OSã€‘-----[20]UDP-----|
|[ICMP]-------0x0800:IP----[0x0806:ARP]--|
|----------------ç½‘å¡é©±åŠ¨ç¨‹åº--------------|
|--------------------ç½‘å¡-----------------|
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;section&quot;&gt;0.æµè§ˆå™¨è¾“å…¥ç½‘å€&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;URLï¼šåè®®//webæœåŠ¡å™¨/ç›®å½•/æ–‡ä»¶&lt;/li&gt;
  &lt;li&gt;HTTP 1.1 Methodï¼šHEADã€GETã€POSTã€PUTã€DELETEã€OPTIONSã€TRACEã€CONNECT&lt;/li&gt;
  &lt;li&gt;ç”ŸæˆHTTPè¯·æ±‚æ¶ˆæ¯&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#ç¬¬ä¸€è¡Œè¯·æ±‚çš„å†…å®¹&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;&amp;lt;method&amp;gt; &lt;/span&gt;&amp;lt;uri&amp;gt; &amp;lt;HTTP/1.1&amp;gt;
&lt;span class=&quot;c&quot;&gt;#ä»¥ä¸‹æ˜¯å­—æ®µåå’Œå€¼&lt;/span&gt;
Authorizationï¼šèº«ä»½è®¤è¯
Hostï¼šæœåŠ¡å™¨IPå’Œç«¯å£å·
User-Agentï¼šå®¢æˆ·ç«¯è½¯ä»¶ä¿¡æ¯
Acceptï¼šå®¢æˆ·ç«¯æ”¯æŒçš„MIMEç±»å‹
Rangeï¼šæŒ‡å®šè·å–çš„æ•°æ®èŒƒå›´
Connection:æ˜¯å¦ä¿æŒè¿æ¥
Viaï¼šè®°å½•é€”ä¸­çš„ä»£ç†å’Œç½‘å…³
&lt;span class=&quot;c&quot;&gt;#ç©ºè¡Œ&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#æ¶ˆæ¯ä½“&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;#å“åº”æ¶ˆæ¯ç¬¬ä¸€è¡Œ HTTP/1.1 200 OK&lt;/span&gt;
httpç‰ˆæœ¬+çŠ¶æ€ç +å“åº”çŸ­è¯­

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;æµè§ˆå™¨ä½¿ç”¨Socketåº“ä¸­çš„DNè§£æå™¨(gethostbyname)å‘DNSå‘UDPæ¶ˆæ¯æŸ¥è¯¢IP&lt;/li&gt;
  &lt;li&gt;
    &lt;h2 id=&quot;section-1&quot;&gt;åŸŸåè®°å½•ï¼š&lt;/h2&gt;
    &lt;p&gt;|DomainNameï¼š|bblu.tk&lt;br /&gt;
|Classï¼š|IN[åªå‰©è¿™ä¸€ç›´ç±»å‹] &lt;br /&gt;
|Typeï¼š|Address|MaileXchange&lt;br /&gt;
|Dataï¼š|167.211.34.1|10 mail.163.com&lt;br /&gt;
â€”
ps:ç½‘ç»œå±‚ä¾é ARPåè®®IP-&amp;gt;MAC&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;section-2&quot;&gt;2.æµè§ˆå™¨äº¤ç»™ç³»ç»Ÿçš„åè®®æ ˆ&lt;/h2&gt;

&lt;p&gt;socketï¼šç¨‹åºç»„ä»¶åç§°&lt;br /&gt;
Socketï¼šç³»ç»Ÿåè®®æ ˆåº“ã€åŠ å·ä¼¯å…‹åˆ©åˆ†æ ¡BSDç³»ç»Ÿcåº“ã€‘&lt;br /&gt;
å¥—æ¥å­—ï¼šç®¡é“ä¸¤ç«¯æ¥å£&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;IPåœ°å€çš„å­ç½‘ç›¸å½“äºå°åŒºï¼Œæœºå™¨å·ç›¸å½“äºæ¥¼å·ï¼Œç«¯å£å·ç›¸å½“äºæˆ¿é—´å·ã€‚ä¸€å°è®¡ç®—æœºå†…æœ‰è®¸å¤šç½‘ç»œé€šä¿¡å®¢æˆ·ç«¯ï¼Œä¸€ä¸ªæ¥¼å†…æœ‰è®¸å¤šå•å…ƒæˆ¿ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
  &lt;li&gt;è°ƒç”¨socketç»„ä»¶åˆ›å»ºå¥—æ¥å­—ï¼Œåè®®æ ˆä¸ºè¿™ä¸ªå¥—æ¥å­—éšæœºåˆ†é…ä¸€ä¸ªå¯ç”¨çš„ç«¯å£å·å¹¶è¿”å›ä¸€ä¸ªæè¿°ç¬¦ç»™å®¢æˆ·ç«¯ã€‚&lt;/li&gt;
  &lt;li&gt;è°ƒç”¨connectç»„ä»¶ï¼ˆæè¿°ç¬¦ï¼ŒIPï¼Œportï¼‰&lt;/li&gt;
  &lt;li&gt;è°ƒç”¨Socketåº“writeç»„ä»¶å§”æ‰˜ç³»ç»ŸæŠŠæ¶ˆæ¯å†™å…¥åè®®æ ˆ&lt;/li&gt;
  &lt;li&gt;Socketåº“ä¸­çš„readç¨‹åºç»„ä»¶å§”æ‰˜ç³»ç»Ÿåè®®æ ˆæ¥æ”¶æ¶ˆæ¯&lt;/li&gt;
  &lt;li&gt;HTTPåè®®è§„å®šwebæœåŠ¡å™¨å“åº”å®Œæ¶ˆæ¯ååº”è¯¥ä¸»åŠ¨æ–­å¼€ï¼Œæ‰€ä»¥webæœåŠ¡å™¨ä¼šé¦–å…ˆè°ƒç”¨closeæ–­å¼€è¿æ¥ã€‚
&amp;gt; å®é™…æ”¶å‘æ•°æ®çš„æ˜¯åè®®æ ˆ-&amp;gt;ç½‘å¡é©±åŠ¨-&amp;gt;ç½‘å¡&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;tcpip&quot;&gt;3.[TCP/IP]åè®®åŸå‹æ˜¯ä¸€ä¸ªåæ¥æ‹†åˆ†äº†&lt;/h2&gt;

&lt;p&gt;TCPè´Ÿè´£å®¢æˆ·ç«¯å†…ï¼ŒIPè´Ÿè´£å®¢æˆ·ç«¯å¤–&lt;br /&gt;
åè®®æ ˆé€šè¿‡TCPæ”¶å‘æ•°æ®ï¼šå‡ºé”™é‡å‘&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;1.åˆ›å»ºå¥—æ¥å­—&lt;/li&gt;
  &lt;li&gt;2.è¿æ¥æœåŠ¡å™¨&lt;/li&gt;
  &lt;li&gt;3.æ”¶å‘æ•°æ®&lt;/li&gt;
  &lt;li&gt;4.æ–­å¼€åˆ é™¤å¥—æ¥å­—&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;åè®®æ ˆé€šè¿‡UDPæ”¶å‘æ•°æ®ï¼šå®¢æˆ·ç«¯è‡ªå·±è´Ÿè´£&lt;/p&gt;

&lt;h3 id=&quot;section-3&quot;&gt;3.1å¥—æ¥å­—çš„å®ä½“å°±æ˜¯é€šä¿¡æ§åˆ¶ä¿¡æ¯&lt;/h3&gt;

&lt;p&gt;åè®®æ ˆæ˜¯æ ¹æ®å¥—æ¥å­—è®°å½•çš„æ§åˆ¶ä¿¡æ¯è¿›è¡Œå·¥ä½œçš„
windowsä½¿ç”¨netstat -ano æŸ¥çœ‹å¥—æ¥å­—&lt;/p&gt;

&lt;table&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;Proto&lt;/td&gt;
      &lt;td&gt;LocalAddress&lt;/td&gt;
      &lt;td&gt;ForeignAddress&lt;/td&gt;
      &lt;td&gt;State&lt;/td&gt;
      &lt;td&gt;PID&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;ç½‘ç»œåŒ…{[IP][TCP][Data]} &lt;br /&gt;
[A]SYN=1â€”â€”&amp;gt;[B]  æ­ªæ­ªä½ æ˜¯Bå—ï¼Ÿ&lt;br /&gt;
[A]&amp;lt;â€”â€”ACK=1[B]  å—¯å—¯æˆ‘æ˜¯Bä½ æ˜¯Aå—ï¼Ÿ&lt;br /&gt;
[A]ACK=1â€”â€”&amp;gt;[B]  æˆ‘æ˜¯Aï¼Œæ˜¯è¿™æ ·ã€‚ã€‚ã€‚(å¼€å§‹ä¼šè¯)&lt;/p&gt;

&lt;p&gt;ç»è¿‡ä¸‰æ¬¡æ¡æ‰‹ä¹‹åçš„connectionä»ä¸šåŠ¡è§’åº¦å¯ä»¥ç§°ä¸ºsessionã€ä¼šè¯ã€‘&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ä»¥å¤ªç½‘çš„MTU&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1500å­—èŠ‚ï¼ŒPPPoEæœ‰é¢å¤–çš„å¤´ä¿¡æ¯MTUä¼šå˜å°   
1500- 20-20&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 1460  
MTU - HEAD &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; MSSã€æœ€å¤§åˆ†æ®µå¤§å°ã€‘ 

èµ·å§‹å¸§åˆ†ç•Œç¬¦SFD

|-----å¸§ -----|ä»¥å¤ªåŒ…--------------|  
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;56bæŠ¥å¤´/8bSFD][MAC][IP][TCP][Data][32bå¸§æ ¡éªŒFCS]  
|-------------|-IPè´Ÿè´£--|  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;IPåè®®æ ¹æ®IPåœ°å€æŸ¥æ‰¾åŒ…çš„ä¼ è¾“æ–¹å‘ï¼Œå³ä¸‹ä¸€ä¸ªè·¯ç”±å™¨çš„ä½ç½®ï¼Œæ¥ä¸‹æ¥å§”æ‰˜ä»¥å¤ªç½‘åè®®æŠŠåŒ…ä¼ è¾“è¿‡å»ï¼Œä¸‹ä¸€ä¸ªè·¯ç”±å™¨çš„MACåœ°å€è¢«å†™å…¥åˆ°MACå¤´éƒ¨ä¸­å»ï¼ŒIPæ¨¡å—ç»™TCPåŒ…åŠ äº†ä¸¤ä¸ªå¤´MACå¤´å’ŒIPå¤´ï¼ŒPhysicalLayerDeviceï¼ˆPHYï¼‰æ¨¡å—å°†MACæ¨¡å—äº§ç”Ÿçš„ä¿¡å·è½¬æ¢ä¸ºå¯ä»¥åœ¨ç½‘çº¿ä¸Šä¼ è¾“çš„æ ¼å¼è¿˜æœ‰ç›‘å¬æœ‰æ²¡æœ‰ä¿¡å·è¿›æ¥ï¼ŒåŠåŒå·¥æ¨¡å¼ä¸‹ä¿¡å·ç¢°æ’åç»ˆæ­¢å‘é€ï¼Œå¹¿æ’­é˜»å¡éšæœºå»¶æ—¶åé‡è¯•ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ARPåè®®é€šè¿‡å¹¿æ’­ï¼Œå¯¹åº”çš„ç»ˆç«¯ä¼šå›åº”è‡ªå·±çš„MACã€‚ARPç¼“å­˜ä¸€èˆ¬ä¿å­˜å‡ åˆ†é’Ÿï¼Œåˆšåˆšä¿®æ”¹IPåœ°å€åå¯èƒ½ä¼šå‘ç”Ÿé€šä¿¡å¼‚å¸¸ã€‚&lt;/li&gt;
  &lt;li&gt;ä»¥å¤ªç½‘æŠ¥å¤´ç»™äº†56æ¯”ç‰¹çš„101010â€¦äº¤æ›¿çš„åºåˆ—æ˜¯ç»™æ¥æ”¶æ–¹åŒæ­¥æ—¶é’Ÿçš„ç½‘ç»œä¼ è¾“é€Ÿç‡å°±æ˜¯æ—¶é’Ÿçš„é¢‘ç‡æ¯”å¦‚10Mbit/sæˆ–è€…100Mbit/sï¼Œä»SFDåé©¬ä¸Šè¿›å…¥å·¥ä½œçŠ¶æ€ã€‚å‰é¢çš„åºåˆ—å¯ä»¥ç†è§£ä¸ºidleåé¢çš„SFDå¯ä»¥å½“ä½œæ˜¯è¯»å–æŒ‡ä»¤ã€‚&lt;/li&gt;
  &lt;li&gt;å‘é€å¸§ä½¿ç”¨é›†çº¿å™¨çš„åŠåŒå·¥æ¨¡å¼æˆ–äº¤æ¢æœºçš„å…¨åŒå·¥æ¨¡å¼ã€‚æ¥æ”¶æ–¹å…ˆç”¨FCSåšæœ‰æ•ˆæ£€æŸ¥å†æ¯”å¯¹MACåœ°å€å¦‚æœä¸ä¸€è‡´å°†ä¸¢æ‰ï¼Œç›¸åŒå°±å°†åŒ…æ”¾å…¥ç¼“å†²åŒºç”±ç½‘å¡å‘èµ·ä¸€ä¸ªä¸­æ–­é€šçŸ¥CPUï¼ŒCPUå‘Šè¯‰åœ¨å¯¹åº”ä¸­æ–­å·æ³¨å†Œçš„ç½‘å¡é©±åŠ¨çš„ä¸­æ–­å¤„ç†ç¨‹åºå»å–åŒ…è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œï¼Œç±»å‹æ˜¯0x0080çš„åŒ…ç»™TCP/IPåè®®æ ˆï¼Œ0x809Bçš„åŒ…ç»™AppleTalkçš„åè®®æ ˆã€‚&lt;/li&gt;
  &lt;li&gt;è¿›å…¥TCP/IPåå¦‚æœå‘ç°IPåœ°å€é”™è¯¯IPæ¨¡å—ä¼šé€šè¿‡ICMPæ¶ˆæ¯é€šçŸ¥å‘é€æ–¹ï¼Œä½†æ˜¯æœ‰ç½‘ç»œè½¬å‘åŠŸèƒ½çš„æœåŠ¡å™¨ä¼šè½¬å‘åŒ…ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;bash
 ä¸»è¦çš„ICMPæ¶ˆæ¯  
 ç±»å‹ï¼šæè¿°
 0ï¼šEchoReply
 3: DestinationUnreachable
 4: Source Quenchè·¯ç”±å™¨è´Ÿè½½æŠ¥è­¦
 5: Redirect åŒ…çš„å‡ºå…¥å£ç›¸åŒå‘Šè¯‰å‘é€æ–¹ä¸‹ä¸€ä¸ªè·¯ç”±è®©å®ƒç›´æ¥å‘è¿‡å»
 8: Echo Pingå‘½ä»¤å‘é€çš„æ¶ˆæ¯ï¼Œæ¥æ”¶æ–¹è¿”å›ä¸€ä¸ªEchoReply
 11: TimeExeccded è¶…è¿‡IPå¤´éƒ¨çš„TTLè¢«ä¸¢å¼ƒé€šçŸ¥å‘é€æ–¹
 12:IPå¤´é”™è¯¯è¢«ä¸¢å¼ƒ
&lt;/code&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;IPåè®®é‡Œæ¥æ”¶åˆ°å¼€å¯åˆ†ç‰‡çš„åŒ…è¿˜è¦åˆ†ç‰‡é‡ç»„&lt;/li&gt;
  &lt;li&gt;PromiscuousModeæ··æ‚æ¨¡å¼ä¸‹ç½‘å¡ä¸æ£€æŸ¥æ¥æ”¶æ–¹MACåœ°å€ç…§å•å…¨æ”¶ã€‚&lt;/li&gt;
  &lt;li&gt;ç½‘ç»œè¶…æ—¶å°±æ˜¯æŒ‡æŒ‡å®šæ—¶é—´æ²¡æœ‰æ”¶åˆ°è¿”å›çš„ACKå·ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
  &lt;p&gt;å°½ç®¡æˆ‘ä»¬è¯´IPæ¨¡å—è´Ÿè´£å°†åŒ…å‘ç»™å¯¹æ–¹ï¼Œä½†å®é™…ä¸Šå°†åŒ…ä»å‘é€æ–¹ä¼ è¾“åˆ°æ¥æ”¶æ–¹çš„å·¥ä½œæ˜¯ç”±é›†çº¿å™¨ã€è·¯ç”±å™¨ç­‰ç½‘ç»œè®¾å¤‡æ¥å®Œæˆçš„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;å‘é€æ•°æ®æ–¹ä¼šæŠŠæ•°æ®çš„å­—èŠ‚åºå·+é•¿åº¦ä¸€åŒå‘ç»™æ¥æ”¶æ–¹ï¼Œæ¥æ”¶æ–¹æŠŠå­—èŠ‚åºå·+1è®¾ç½®ä¸ºACKåº”ç­”ç»™å‘é€æ–¹ï¼Œé…åˆæ»‘åŠ¨çª—å£ACKå¯ä»¥é—´éš”å›åº”ï¼Œå®é™…ä½¿ç”¨ä¸ºäº†å®‰å…¨å¼€å§‹ä¼ è¾“ä¼šç»™å­—èŠ‚åºå·ä¸€ä¸ªéšæœºæ•°ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ps:Gatewayåœ¨TCP/IPçš„ä¸–ç•Œé‡Œå°±æ˜¯è·¯ç”±å™¨&lt;/p&gt;

&lt;h2 id=&quot;udp&quot;&gt;4.UDP&lt;/h2&gt;
&lt;p&gt;å¦‚æœæ•°æ®å¾ˆçŸ­ä¸€ä¸ªåŒ…å°±èƒ½è½»æ¾è£…ä¸‹å°±æ²¡æœ‰å¿…è¦è€ƒè™‘è¿›åº¦äº†ï¼Œå‡ºé”™ä¹Ÿå°±æ˜¯æŠŠä¸€ä¸ªåŒ…é‡æ–°å‘ä¸€ä¸‹ï¼Œä»£ä»·å´æ¯”TCPå°çš„å¤šã€‚æ¯”å¦‚DNSæŸ¥è¯¢ï¼Œå¯¹æ–¹çš„å›å¤å°±æ˜¯æ¥æ”¶ç¡®è®¤ã€‚&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;UDPå¯ä»¥å‘é€çš„æœ€å¤§æ•°æ®æ˜¯ç”±IPåŒ…å¤´çš„å…¨é•¿å­—æ®µ16bå†³å®šçš„ï¼ŒIPåè®®åŒ…æœ€å¤§é•¿åº¦æ˜¯65535ï¼Œå†å‡å»20IP+8UDPç­‰äº65507ï¼Œéœ€è¦IPæ¨¡å—åˆ†ç‰‡ä¼ è¾“ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;section-4&quot;&gt;5.äº¤æ¢æœºå’Œè·¯ç”±å™¨çš„åŒ…è½¬å‘æ“ä½œ&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;å®é™…ä¸Šè·¯ç”±å™¨ä¸­è·¯ç”±è¡¨çš„ç›®æ ‡IPåœ°å€åªéœ€è¦è¡¨ç¤ºå­ç½‘éƒ¨åˆ†çš„æ¯”ç‰¹å€¼å°±å¯ä»¥äº†ï¼Œä¸»æœºå·éƒ¨åˆ†å…¨éƒ¨ä¸º0ï¼ˆä¹Ÿæœ‰ä¸€äº›IPåœ°å€ä¸»æœºå·ä¸æ˜¯å…¨éƒ¨ä¸º0ï¼‰ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
  &lt;li&gt;è·¯ç”±å™¨çš„ç«¯å£å¹¶ä¸åªæœ‰ä»¥å¤ªç½‘ä¸€ç§ï¼Œä¸åŒçº¿è·¯å’Œå±€åŸŸç½‘ç±»å‹æ”¯æŒçš„æœ€å¤§åŒ…ä¹Ÿä¸åŒã€‚æ¯”å¦‚PPPoEåè®®é‡åˆ°è¿™ç§æƒ…å†µï¼Œå¯ä»¥ä½¿ç”¨IPåè®®ä¸­å®šä¹‰çš„åˆ†ç‰‡åŠŸèƒ½å¯¹åŒ…è¿›è¡Œæ‹†åˆ†ï¼Œç¼©çŸ­æ¯ä¸ªåŒ…çš„é•¿åº¦ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œè¯´çš„åˆ†ç‰‡å’Œç¬¬2ç« ä»‹ç»çš„TCPå¯¹æ•°æ®è¿›è¡Œæ‹†åˆ†çš„æœºåˆ¶æ˜¯ä¸åŒçš„ã€‚TCPæ‹†åˆ†æ•°æ®çš„æ“ä½œæ˜¯åœ¨å°†æ•°æ®è£…åˆ°åŒ…é‡Œä¹‹å‰è¿›è¡Œçš„ï¼Œæ¢å¥è¯è¯´ï¼Œæ‹†åˆ†å¥½çš„ä¸€ä¸ªæ•°æ®å—æ­£å¥½è£…è¿›ä¸€ä¸ªåŒ…é‡Œã€‚ä»IPåˆ†ç‰‡çš„è§’åº¦æ¥çœ‹ï¼Œè¿™æ ·ä¸€ä¸ªåŒ…å…¶å®æ˜¯ä¸€ä¸ªæœªæ‹†åˆ†çš„æ•´ä½“ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåˆ†ç‰‡æ˜¯å¯¹ä¸€ä¸ªå®Œæ•´çš„åŒ…å†è¿›è¡Œæ‹†åˆ†çš„è¿‡ç¨‹ã€‚&lt;/li&gt;
  &lt;li&gt;ç¨‹åºä¸å…è®¸åˆ†ç‰‡æˆ–è€…å·²ç»åˆ†ç‰‡çš„åŒ…ä¸èƒ½åˆ†ç‰‡ã€‚&lt;/li&gt;
  &lt;li&gt;å…¬ç½‘åœ°å€ç´§ç¼ºåæŠŠå…¬ç½‘æ²¡åˆ†é…çš„ä¸‰ä¸ªæ®µæ‹¿å‡ºæ¥å½“æˆç§æœ‰åœ°å€&lt;/li&gt;
  &lt;li&gt;10.ï½ 172.16.ï½ 192.168.ï½ ,ä»¥å¤ªç½‘å¤–ç½‘éƒ¨åˆ†åˆ†é…PublicAddress,å†…ç½‘éƒ¨åˆ†é€šè¿‡åœ°å€è½¬æ¢ï¼ˆNATï¼‰æœºåˆ¶ä¸Šç½‘ï¼Œå³åœ¨è½¬å‘åŒ…æ—¶å¤´éƒ¨çš„IPåœ°å€å’Œç«¯å£å·ï¼ŒNATè®¾å¤‡ä¸€èˆ¬æ˜¯è·¯ç”±å™¨ä¸­çš„16bç«¯å£å·å¯ä»¥è¡¨ç¤º65536ä¸ªå€¼é™¤å»å‰é¢ä¿ç•™çš„1024ä¸ªå…¶ä½™çš„éƒ½å¯ä»¥æ˜ å°„ç»™å†…ç½‘çš„ä¸Šç½‘è®¾å¤‡ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
  &lt;p&gt;ps:ç½‘ç»œå­—èŠ‚åºåˆ—ä¸ºä»€ä¹ˆæ˜¯å¤§ç«¯çš„ï¼Ÿå› ä¸ºæ‰€æœ‰çš„åè®®å¤´éƒ½åœ¨å‰é¢ï¼Œä¸å…ˆæŠŠåè®®å¤´å‘å‡ºå»ç½‘ç»œåè®®æ²¡æ³•å·¥ä½œã€‚&lt;/p&gt;
&lt;/blockquote&gt;</content><author><name>bblu</name><email>gmwblu@gmail.com</email></author><category term="network" /><category term="note" /><summary>ä»¥å‰è€æ˜¯è§‰å¾—å­¦ä¹ ä»€ä¹ˆä¸œè¥¿åº”è¯¥ç”±æµ…å…¥æ·±ï¼Œä¸€æ­¥ä¸€æ­¥æ­¥å…¥æ·±æ¸Šã€‚ç°åœ¨æ„Ÿè§‰å¥½åƒå€’è¿‡æ¥ä¹Ÿæ˜¯å¯è¡Œçš„å½“ç„¶æ‹¿åˆ°ä¸€æœ¬ä¹¦å³ä½¿çœ‹ä¸æ‡‚ä¹Ÿèƒ½åšæŒçœ‹ä¸‹å»æ‰è¡Œã€‚ä¸»è¦æ˜¯ç½‘ç»œè¿™å—çœŸæ˜¯å¦‚æ­¤ï¼Œæœ€æ—©çœ‹è®¡ç®—æœºç½‘ç»œç¬¬äº”ç‰ˆï¼Œäº‘é‡Œé›¾é‡Œçš„é‚£äº›ä»€ä¹ˆå¸¦ç¢°æ’æ£€æµ‹æ˜¯è½½æ³¢ä¾¦å¬æçš„å¾ˆç‹¼ç‹ˆï¼Œåæ¥çœ‹è¯¦è§£TCP/IPæ„Ÿè§‰å°±å¥½ä¸€ç‚¹ï¼Œè¿™ä¸¤å¤©çœ‹åˆ°Kindleé‡Œçš„ç½‘ç»œæ˜¯æ€ä¹ˆè¿æ¥çš„ï¼Œç»ˆäºæœ‰å±±é‡æ°´å¤ç–‘æ— è·¯ï¼ŒæŸ³æš—èŠ±æ˜åˆä¸€æ‘çš„æ„Ÿè§‰äº†ï¼ŒæŠŠä¸€äº›çŸ¥è¯†ç‚¹å’Œä¹‹å‰çš„å›°æƒ‘è®°å½•ä¸€ä¸‹ã€‚</summary></entry><entry><title>ioså¼€å‘TimePieç¬¬5å¤©-ç½‘ç»œå¤‡ä»½æ•°æ®</title><link href="http://bblu.github.io/2018-03-19-swift-timepie-backup.html" rel="alternate" type="text/html" title="ioså¼€å‘TimePieç¬¬5å¤©-ç½‘ç»œå¤‡ä»½æ•°æ®" /><published>2018-03-19T20:22:00+08:00</published><updated>2018-03-19T20:22:00+08:00</updated><id>http://bblu.github.io/swift-timepie-backup</id><content type="html" xml:base="http://bblu.github.io/2018-03-19-swift-timepie-backup.html">&lt;blockquote&gt;
  &lt;p&gt;ä¸€ä¸ªç¨‹åºæœ€æœ‰ä»·å€¼çš„å°±æ˜¯æ•°æ®äº†ï¼Œtodoæ˜¯ä¸€ä¸ªé«˜åº¦ç»“æ„åŒ–çš„æ•°æ®æ”¾åˆ°sqliteæ˜¯æœ€åˆé€‚ä¸è¿‡çš„äº†ï¼Œå­˜åˆ°æœ¬åœ°çš„æ•°æ®åº“ä¸­è¿˜æ˜¯è¿œè¿œä¸å¤Ÿçš„å¦‚æœæ‰‹æœºä¸¢äº†å°±åºŸäº†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;jsonæ•°æ®æœ€å¥½çš„å½’å®¿å°±æ˜¯mongodbï¼Œç”¨mongodbæ”¯æŒæœ€å¥½çš„å°±æ˜¯JavaScriptäº†ï¼Œæ‰€ä»¥åå°ç”¨Express+mongoose+mongodbã€‚è‡³æ­¤è¿™ä¸ªappçš„æ ¸å¿ƒåŠŸèƒ½æ ¹æ®é…ç½®åˆå§‹åŒ–ç•Œé¢ï¼Œæ•°æ®æœ¬åœ°å­˜å‚¨å’Œç½‘ç»œå¤‡ä»½å’Œæ¢å¤å°±å®Œæˆäº†ï¼Œäº”å¤©æ—¶é—´è¿™ä¸ªappè‡³å°‘å¤„äºå¯ç”¨çŠ¶æ€äº†åé¢å°±æ˜¯æŒ‰éœ€ä¼˜åŒ–ï¼Œç„¶åæ˜¯è®¡åˆ’ç¼–æ’ç„¶åæ˜¯ç»Ÿè®¡åˆ†æï¼Œå®Œæˆç‡åˆ†æˆä¸¤ç§ä¸€ç§æ˜¯æ ¹æ®æ—¶é—´é•¿åº¦çš„æ¯”å¦‚æ¯å¤©è¯»ä¹¦1ä¸ªå°æ—¶ï¼Œä¸¥æ ¼çš„æ£€éªŒæ˜¯æ™šä¸Š9ç‚¹-10ç‚¹è¯»ä¹¦ä¸€ä¸ªå°æ—¶ï¼Œè¿™æ ·æ¿€åŠ±è‡ªå·±ä¸æ–­çš„å‘è®¡åˆ’é æ‹¢ã€‚å®šä¸€ä¸ªç›®æ ‡å®Œæˆåç„¶åç»™äºˆè‡ªå·±ä¸€å®šçš„å¥–åŠ±ï¼Œæ¯”å¦‚å¥–åŠ±è‡ªå·±ä¸€ä¸ªQC35ã€‚&lt;/p&gt;

&lt;h3 id=&quot;jsonencoder&quot;&gt;1.å¯¹è±¡ç¼–ç  JSONEncoder&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨JSONEncoderçš„åŒ–å¼€å‘è€…è¦åšçš„å·¥ä½œå°±æ˜¯æŠŠè‡ªå·±çš„å®Œäº‹é¡¹ç»§æ‰¿è‡ªEncodaableå°±å¯ä»¥äº†&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#ä»£ç ç¤ºä¾‹&lt;/span&gt;
struct DoneList: Encodable&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;let &lt;/span&gt;items:[DoneItem]
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
struct DoneItem: Encodable&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;let &lt;/span&gt;id:Int
    &lt;span class=&quot;nb&quot;&gt;let &lt;/span&gt;code:Int      // 3digits support &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;two steps of actions
    ...
    &lt;span class=&quot;nb&quot;&gt;let &lt;/span&gt;desc:String
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#ä»æ•°æ®åˆå§‹åŒ–&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;let &lt;/span&gt;d &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; DoneItem&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;id:id, code:code, star:start, stop:stop,span:span, name:name, alia:&lt;span class=&quot;s2&quot;&gt;&quot;alia&quot;&lt;/span&gt;, desc: &lt;span class=&quot;s2&quot;&gt;&quot;desc&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
doneList.append&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;d&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;#ä¸¤è¡Œä»£ç å®Œæˆéœ€è¦çš„ç¼–ç &lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;let &lt;/span&gt;encoder &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; JSONEncoder&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;let &lt;/span&gt;json &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; try encoder.encode&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;doneList&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;urlrequest&quot;&gt;2.ç½‘ç»œå‘é€ URLRequest&lt;/h3&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#æ¨¡æ‹Ÿå™¨è°ƒè¯•çš„è¯endpointUrlå¯ä»¥å–æœ¬åœ°åœ°å€&lt;/span&gt;
var request &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; URLRequest&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;url: endpointUrl&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
request.httpMethod &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;POST&quot;&lt;/span&gt;
request.httpBody &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; json
request.addValue&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;application/json&quot;&lt;/span&gt;, forHTTPHeaderField: &lt;span class=&quot;s2&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
request.addValue&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;application/json&quot;&lt;/span&gt;, forHTTPHeaderField: &lt;span class=&quot;s2&quot;&gt;&quot;Accept&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;let &lt;/span&gt;task &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; URLSession.shared.dataTask&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;with: request&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
task.resume&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;section&quot;&gt;3.æœåŠ¡ç«¯æ¥æ”¶&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;../assets/in-post/2018-03-19-swift-timepie-bkup.png&quot; alt=&quot;received json&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ServerCode:ã€&lt;a href=&quot;https://github.com/bblu/timepie/tree/master/nodeServer&quot;&gt;nodeServer&lt;/a&gt;ã€‘&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;è®²çœŸåœ¨ç‚¹å‡»æ‰‹æœºbackupæŒ‰é’®æ•°æ®çªçªçš„ä¸Šæ•°æ®çš„é‚£ä¸€åˆ»è¿˜æ˜¯æŒºå…´å¥‹çš„&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;img src=&quot;../assets/in-post/2018-03-19-swift-timepie-upload.png&quot; alt=&quot;upload&quot; /&gt;&lt;/p&gt;</content><author><name>bblu</name><email>gmwblu@gmail.com</email></author><category term="ios" /><category term="swift" /><summary>ä¸€ä¸ªç¨‹åºæœ€æœ‰ä»·å€¼çš„å°±æ˜¯æ•°æ®äº†ï¼Œtodoæ˜¯ä¸€ä¸ªé«˜åº¦ç»“æ„åŒ–çš„æ•°æ®æ”¾åˆ°sqliteæ˜¯æœ€åˆé€‚ä¸è¿‡çš„äº†ï¼Œå­˜åˆ°æœ¬åœ°çš„æ•°æ®åº“ä¸­è¿˜æ˜¯è¿œè¿œä¸å¤Ÿçš„å¦‚æœæ‰‹æœºä¸¢äº†å°±åºŸäº†ã€‚</summary></entry><entry><title>Jmeter å­¦ä¹ ç¬”è®°ä¹‹GettingStarted</title><link href="http://bblu.github.io/2018-03-18-jmeter-get-started-1st.html" rel="alternate" type="text/html" title="Jmeter å­¦ä¹ ç¬”è®°ä¹‹GettingStarted" /><published>2018-03-18T23:34:00+08:00</published><updated>2018-03-18T23:34:00+08:00</updated><id>http://bblu.github.io/jmeter-get-started-1st</id><content type="html" xml:base="http://bblu.github.io/2018-03-18-jmeter-get-started-1st.html">&lt;blockquote&gt;
  &lt;p&gt;Apache JMeter ä¸€ä¸ªæµ‹è¯•webåŠŸèƒ½å’Œæ€§èƒ½çš„å¼€æºJavaè½¯ä»¶ï¼Œå¯¹javaæ¡†æ¶å’Œåè®®æ”¯æŒè‰¯å¥½ï¼ŒåŸºæœ¬ä¸Šåº”ç”¨åè®®éƒ½èƒ½æµ‹è¯•ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;å…ˆä¸Šå›¾å®‰è£…å®Œåé•¿è¿™ä¸ªæ ·å­ï¼Œçœ‹äº†ä¸€ä¸‹è¿™è´§æˆ‘çš„æ„Ÿæƒ³æ˜¯è¿™ä¸ªä¸œè¥¿æ˜¯çº¯ç¨‹åºå‘˜æ€ç»´çš„äº§å“ï¼Œè‚¯å®šæ²¡æœ‰å’Œæµ‹è¯•å•†é‡å»é—®ä»–ä»¬çš„éœ€æ±‚å°±å¼€å‘å‡ºæ¥çš„ä¸œè¥¿ï¼Œéšç€å¼€å‘å‘è¿ç»´å’Œæµ‹è¯•ä¾µå…¥çš„å¤§è¶‹åŠ¿ä»¥åè¿™ç§ç¨‹åºå‹å¥½äº§å“ä¼šè¶Šæ¥è¶Šå¤šçš„ï¼ŒGUIçš„å·¥ä½œåŸç†ç›¸å½“äºæŠŠæµ‹è¯•ç¨‹åºç¼–æ’å¯è§†åŒ–ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥å†™ç¨‹åºå•¦ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../assets/in-post/2018-03-18-jmeter-get-started-1.png&quot; alt=&quot;JmeterMainView&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Web - HTTP, HTTPS (Java, NodeJS, PHP, ASP.NET, â€¦)&lt;/li&gt;
  &lt;li&gt;SOAP / REST Webservices&lt;/li&gt;
  &lt;li&gt;FTP&lt;/li&gt;
  &lt;li&gt;Database via JDBC&lt;/li&gt;
  &lt;li&gt;LDAP&lt;/li&gt;
  &lt;li&gt;Message-oriented middleware (MOM) via JMS&lt;/li&gt;
  &lt;li&gt;Mail - SMTP(S), POP3(S) and IMAP(S)&lt;/li&gt;
  &lt;li&gt;Native commands or shell scripts&lt;/li&gt;
  &lt;li&gt;TCP&lt;/li&gt;
  &lt;li&gt;Java Objects&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æ”¯æŒæµè§ˆå™¨æˆ–ç¨‹åºç•Œé¢å½•åˆ¶æµ‹è¯•ç”¨ä¾‹æˆ–è€…å‘½ä»¤è¡Œæ¨¡å¼å·¥ä½œï¼Œç”ŸæˆåŠ¨æ€é¡µé¢æŠ¥å‘Šã€‚&lt;/p&gt;

&lt;h2 id=&quot;testplan&quot;&gt;TestPlançš„èŠ‚ç‚¹&lt;/h2&gt;
&lt;p&gt;JMeterçš„TestPlanå¯¹åº”çš„åº”è¯¥æ˜¯TestSuitï¼Œå®ƒä¸‹é¢èŠ‚ç‚¹çš„ä»‹ç»ï¼Œæ³¨æ„çš„æ˜¯è¿™äº›ä¸åŒç±»å‹çš„èŠ‚ç‚¹å¯ä»¥äº’ç›¸åµŒå¥—çš„ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Thread groupï¼š the beginning points of any test plan.&lt;/li&gt;
  &lt;li&gt;Controllerï¼šæ§åˆ¶å™¨èŠ‚ç‚¹å¯ä»¥ç»„åˆåµŒå¥—å®ç°æµç¨‹æ§åˆ¶åƒç¨‹åºè¯­è¨€åˆ°æ§åˆ¶è¯­å¥ï¼Œæœ‰ä¸‹é¢ä¸‰ç§ç±»å‹ã€‚&lt;/li&gt;
  &lt;li&gt;Samplers:åŠŸèƒ½å’Œå®ƒåå­—ä¸€æ ·è§¦å‘æœåŠ¡æµ‹è¯•&lt;/li&gt;
  &lt;li&gt;LogicControllers:é€»è¾‘æ§åˆ¶æ¯”å¦‚å¯¹åº”ç™»å½•æ“ä½œåªæ‰§è¡Œä¸€é&lt;/li&gt;
  &lt;li&gt;TestFramentsï¼šå½“å‰TreadGroupçš„åˆ«åä¾›å…¶ä»–groupå¼•ç”¨åšåˆ°å¤ç”¨çš„ç‰¹æ®Šæ§åˆ¶èŠ‚ç‚¹&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;../assets/in-post/2018-03-18-jmeter-get-started-2.png&quot; alt=&quot;JmeterMainView&quot; /&gt;&lt;/p&gt;</content><author><name>bblu</name><email>gmwblu@gmail.com</email></author><category term="test" /><category term="jmeter" /><summary>Apache JMeter ä¸€ä¸ªæµ‹è¯•webåŠŸèƒ½å’Œæ€§èƒ½çš„å¼€æºJavaè½¯ä»¶ï¼Œå¯¹javaæ¡†æ¶å’Œåè®®æ”¯æŒè‰¯å¥½ï¼ŒåŸºæœ¬ä¸Šåº”ç”¨åè®®éƒ½èƒ½æµ‹è¯•ã€‚</summary></entry></feed>
