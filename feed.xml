<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom"><generator uri="http://jekyllrb.com" version="3.1.6">Jekyll</generator><link href="http://bblu.github.io/feed.xml" rel="self" type="application/atom+xml" /><link href="http://bblu.github.io/" rel="alternate" type="text/html" /><updated>2018-04-01T21:35:38+08:00</updated><id>http://bblu.github.io/</id><title>bblu&#39;s blog</title><subtitle>Just do IT</subtitle><author><name>bblu</name><email>gmwblu@gmail.com</email></author><entry><title>æ·±å…¥è®¡ç®—æœºå›¾å½¢æ˜¾ç¤ºä¹‹-æ¥å£ç¯‡</title><link href="http://bblu.github.io/2018-04-01-cg-card-interface.html" rel="alternate" type="text/html" title="æ·±å…¥è®¡ç®—æœºå›¾å½¢æ˜¾ç¤ºä¹‹-æ¥å£ç¯‡" /><published>2018-04-01T21:12:00+08:00</published><updated>2018-04-01T21:12:00+08:00</updated><id>http://bblu.github.io/cg-card-interface</id><content type="html" xml:base="http://bblu.github.io/2018-04-01-cg-card-interface.html">&lt;blockquote&gt;
  &lt;p&gt;è®¡ç®—æœºè·¨æ—¶ä»£æ„ä¹‰çš„è¿›æ­¥æœ‰ä¸¤ä¸ªä¸€ä¸ªæ˜¯å®æ¨¡å¼åˆ°ä¿æŠ¤æ¨¡å¼ï¼Œå¦ä¸€ä¸ªæ˜¯å‘½ä»¤è¡Œåˆ°GUIã€‚ç¬¬äºŒä¸ªè¿›æ­¥å’Œæ˜¾å¡æ˜¯äº’ç›¸ä¿ƒè¿›çš„å…³ç³»ï¼ŒGUIè®©è®¡ç®—æœºä»ç§‘ç ”é™¢æ‰€èµ°è¿›äº†äººä»¬çš„æ—¥å¸¸ç”Ÿæ´»ä¸­ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;section&quot;&gt;1.è¿œå¤æ—¶ä»£æ²¡æœ‰æ˜¾å¡çš„å­—ç¬¦æ˜¾ç¤ºæ–¹å¼&lt;/h2&gt;

&lt;h3 id=&quot;bios-int-0x10&quot;&gt;1.1.BIOS INT 0x10&lt;/h3&gt;
&lt;p&gt;åœ¨åŸºäºx86çš„è®¡ç®—æœºBIOSé€šå¸¸åœ¨ç¬¬17ä¸­æ–­å‘é‡åˆ›å»ºäº†ä¸€ä¸ªä¸­æ–­å¤„ç†ç¨‹åºæä¾›äº†å®æ¨¡å¼ä¸‹çš„æ˜¾ç¤ºæœåŠ¡ã€‚æ­¤ç±»æœåŠ¡åŒ…æ‹¬è®¾ç½®æ˜¾ç¤ºæ¨¡å¼ï¼Œå­—ç¬¦å’Œå­—ç¬¦ä¸²è¾“å‡ºï¼Œå’Œåœ¨å›¾å½¢æ¨¡å¼ä¸‹çš„è¯»å–å’Œå†™å…¥åƒç´ åŠŸèƒ½ã€‚è¦ä½¿ç”¨è¿™ä¸ªåŠŸèƒ½çš„è°ƒç”¨ï¼Œåœ¨å¯„å­˜å™¨AHèµ‹äºˆå­åŠŸèƒ½å·ï¼Œå…¶å®ƒçš„å¯„å­˜å™¨èµ‹äºˆå…¶å®ƒæ‰€éœ€çš„å‚æ•°ï¼Œå¹¶ç”¨æŒ‡ä»¤INT 10Hè°ƒç”¨ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-asm&quot;&gt;;é€šè¿‡å¯„å­˜å™¨è¿›è¡Œæ˜¾ç¤ºæ§åˆ¶
;use 0x06 to clear screen
	mov ax, 0x600   ;åŠŸèƒ½å·AH=0x06è¡¨ç¤ºä¸Šç¿»ï¼ŒAL0:æ¸…é™¤
	mov bx, 0x700   ;BHè®¾ç½®èƒŒæ™¯è‰²å’Œå‰æ™¯è‰²
	mov cx, 0		;çª—å£å·¦ä¸Šç‚¹(0,0)
	mov dx, 0x184f	;çª—å£å³ä¸‹ç‚¹(80,25)

	int 0x10        ;è§¦å‘ä¸­æ–­å¤„ç†å‡†å¤‡å†™å…¥å­—ç¬¦
	
;ä»¥ä¸‹å‘æ–‡æœ¬æ¨¡å¼æ˜¾å­˜å†™å…¥ â€œ1 MBRâ€
;0xA4æ˜¯æ ·å¼å®šä¹‰ï¼ŒA:ç»¿è‰²èƒŒæ™¯é—ªçƒ, 4:æ–‡å­—çº¢è‰²
	mov byte [gs:0x00],&#39;1&#39;
	mov byte [gs:0x01],0xA4
	mov byte [gs:0x02],&#39; &#39;
	mov byte [gs:0x03],0xA4
	mov byte [gs:0x04],&#39;M&#39;
	mov byte [gs:0x05],0xA4
	mov byte [gs:0x06],&#39;B&#39;
	mov byte [gs:0x07],0xA4
	mov byte [gs:0x08],&#39;R&#39;
	mov byte [gs:0x09],0xA4
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä»¥ä¸Šç¤ºä¾‹å®Œæ•´æºç :&lt;a href=&quot;https://github.com/bblu/samples/blob/efd0b955f80a57883745130c97f9d1aba1688cbe/os/boot/3mbr.S&quot;&gt;bblu/samples/os/boot/3mbr.S&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;bochsçš„åŸºæœ¬æ“ä½œ&lt;a href=&quot;https://github.com/bblu/samples/blob/efd0b955f80a57883745130c97f9d1aba1688cbe/os/bochs&quot;&gt;bblu/samples/os/bochs&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;section-1&quot;&gt;1.2.å®æ¨¡å¼æ˜¾å­˜åœ°å€åŒºé—´&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;| èµ·å§‹  | ç»“æŸ  | å¤§å°| ç”¨é€”  |
| ------| ----- |---- | :---- |
| C0000 |C7FFF  | 32k |æ˜¾ç¤ºé€‚é…å™¨BIOS|
| B8000 |BFFFF  | 32k |æ–‡æœ¬æ¨¡å¼æ˜¾ç¤ºé€‚é…å™¨ |
| B0000  |B7FFF | 32k |é»‘ç™½æ˜¾ç¤ºé€‚é…å™¨    |
| A0000  |AFFFF | 64k |å½©è‰²æ˜¾ç¤ºé€‚é…å™¨    |
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;blockquote&gt;
  &lt;p&gt;INT 10Hçš„æ‰§è¡Œé€Ÿåº¦æ˜¯ç›¸å½“ç¼“æ…¢çš„ï¼Œæ‰€ä»¥å¾ˆå¤šç¨‹åºéƒ½ç»•è¿‡è¿™ä¸ªBIOSä¾‹ç¨‹è€Œç›´æ¥è®¿é—®æ˜¾ç¤ºç¡¬ä»¶ã€‚è®¾ç½®æ˜¾ç¤ºæ¨¡å¼å¹¶ä¸ç»å¸¸ä½¿ç”¨ï¼Œå¯ä»¥é€šè¿‡BIOSæ¥å®ç°ï¼Œè€Œä¸€ä¸ªæ¸¸æˆåœ¨å±å¹•ä¸Šç»˜åˆ¶å›¾å½¢ï¼Œéœ€è¦åšå¾—å¾ˆå¿«ï¼Œæ‰€ä»¥ç›´æ¥è®¿é—®æ˜¾å­˜æ¯”ç”¨BIOSè°ƒç”¨æ¯ä¸ªåƒç´ æ›´é€‚åˆã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;section-2&quot;&gt;2.é€šç”¨å’Œä¸“ç”¨å›¾å½¢æ¥å£&lt;/h2&gt;

&lt;p&gt;ä»CPUçš„è§’åº¦æ˜¾å¡æ˜¯å¤–è®¾ï¼Œä»è®¡ç®—æœºçš„è§’åº¦æ˜¾ç¤ºå™¨æ˜¯å¤–è®¾ã€‚CPUæˆ–è€…è¯´æ“ä½œç³»ç»Ÿè¦ç»™æ˜¾å¡ï¼ˆGPUï¼‰åˆ†é…ä»»åŠ¡å¿…é¡»é€šè¿‡æ¥å£ç”µè·¯ï¼Œç»å…¸æ¶æ„çš„ä¸»æ¿æœ‰ä¸¤ä¸ªé›†ä¸­æ¥å£ç”µè·¯æ§åˆ¶å™¨ä¸€å—ä¸€åŒ—ï¼Œé«˜é€Ÿè®¾å¤‡æ¯”å¦‚å†…å­˜è¿æ¥åœ¨åŒ—æ¡¥èŠ¯ç‰‡ä¸Šï¼Œå—æ¡¥èŠ¯ç‰‡è¿æ¥PCIï¼ŒUSBï¼ŒSATAç­‰ä½é€Ÿè®¾å¤‡ã€‚&lt;/p&gt;

&lt;h3 id=&quot;pci&quot;&gt;2.1.PCI&lt;/h3&gt;
&lt;p&gt;Peripheral Component Interconnectï¼Œç¿»è¯‘æˆä¸­æ–‡æ˜¯â€œå¤–å›´å™¨ä»¶äº’è”â€ï¼Œæ˜¯ç”±PCISIG æ¨å‡ºçš„ä¸€ç§å±€éƒ¨å¹¶è¡Œæ€»çº¿æ ‡å‡†å¸¦å®½32ä½é¢‘ç‡33MHzã€‚PCIæ€»çº¿æ ‡å‡†æ˜¯1992å¹´åˆ¶å®šçš„ç”±ISA(Industy Standard Architecture)æ€»çº¿å‘å±•è€Œæ¥ï¼Œè¯è¯´æˆ‘è¿˜äº²çœ¼è§è¿‡ISAæ¥å£çš„å£°å¡çš„ï¼ŒISAæ¥å£æ˜¯é»‘è‰²çš„PCIæ˜¯ç™½è‰²çš„é»‘ç™½åˆ†æ˜ã€‚&lt;/p&gt;

&lt;h3 id=&quot;agp&quot;&gt;2.2.AGP&lt;/h3&gt;
&lt;p&gt;Accelerated Graphics
PortåŠ é€Ÿå›¾å½¢æ¥å£ï¼Œæ˜¯åœ¨1997å¹´ç”±Intelæå‡ºä¸ºäº†æ¶ˆé™¤PCIåœ¨å¤„ç†3Då›¾å½¢æ—¶çš„ç“¶é¢ˆï¼Œæ˜¯ä»PCIæ ‡å‡†ä¸Šåˆ›å»ºèµ·æ¥çš„é«˜é€Ÿç‚¹å¯¹ç‚¹æ˜¾å¡ä¸“ç”¨ä¼ è¾“é€šé“ï¼Œå·¥ä½œé¢‘ç‡66MHzå’Œ133MHzä¸¤ç§ï¼Œä¸»è¦åº”ç”¨åœ¨ä¸‰ç»´ç”µè„‘å›¾å½¢çš„åŠ é€Ÿä¸Šã€‚&lt;/p&gt;

&lt;p&gt;AGPæ€»çº¿ç›´æ¥ä¸ä¸»æ¿çš„åŒ—æ¡¥èŠ¯ç‰‡ç›¸è¿ï¼Œä¸”é€šè¿‡è¯¥æ¥å£è®©æ˜¾ç¤ºèŠ¯ç‰‡ä¸ç³»ç»Ÿä¸»å†…å­˜ç›´æ¥ç›¸è¿ï¼Œé¿å…äº†çª„å¸¦å®½çš„PCIæ€»çº¿å½¢æˆçš„ç³»ç»Ÿç“¶é¢ˆï¼Œå¢åŠ 3Då›¾å½¢æ•°æ®ä¼ è¾“é€Ÿåº¦ï¼ŒåŒæ—¶åœ¨æ˜¾å­˜ä¸è¶³çš„æƒ…å†µä¸‹è¿˜å¯ä»¥è°ƒç”¨ç³»ç»Ÿä¸»å†…å­˜ã€‚&lt;/p&gt;

&lt;h3 id=&quot;pci-e&quot;&gt;2.3.PCI-E&lt;/h3&gt;
&lt;p&gt;æ˜¯ç”±è‹±ç‰¹å°”æå‡ºçš„å°†å…¨é¢å–ä»£PCIå’ŒAGPï¼Œæœ€ç»ˆå®ç°æ€»çº¿æ ‡å‡†çš„ç»Ÿä¸€ã€‚å®ƒçš„ä¸»è¦ä¼˜åŠ¿å°±æ˜¯æ•°æ®ä¼ è¾“é€Ÿç‡é«˜ï¼Œç›®å‰æœ€é«˜å¯è¾¾åˆ°10GB/sä»¥ä¸Šã€‚&lt;/p&gt;

&lt;p&gt;PCI-Eæ˜¯é€šç”¨æ€»çº¿ä¸åƒAGPæ˜¯ç»™æ˜¾å¡ä¸“ç”¨çš„ï¼ŒAPGæœ‰ç‚¹å‘åŸå¸‚é“è·¯ä¸­çš„å…¬äº¤è½¦ä¸“ç”¨é€šé“åˆ«çš„æ±½è½¦ä¸èƒ½åœ¨ä¸Šè¾¹è·‘è€ŒPCIEå°±æ˜¯é«˜é€Ÿå…¬è·¯äº†ä»å…¥å£è¿›å»åå°±å¯ä»¥æ•å¼€è·‘äº†ã€‚&lt;/p&gt;

&lt;p&gt;ä¸è®ºä½•ç§æ¥å£ï¼Œæ˜¾ç¤ºé€‚é…å™¨/æ˜¾å¡æš´éœ²ç»™CPUçš„éƒ½æ˜¯IOç«¯å£å’Œæ˜¾å­˜ï¼ŒCPUè‡ªå·±è®¡ç®—å»å¡«å……æ˜¾å­˜çš„ç»“æœæ˜¯ä¸€æ ·çš„ï¼Œåªè¦æ˜¾å­˜ä¸­æœ‰å¯ä»¥æ˜¾ç¤ºçš„æ•°æ®æ˜¾å¡å°±æŠŠä»–ä»¬æäº¤åˆ°å±å¹•ä¸Šå»æ˜¾ç¤ºï¼Œä¸ä¸€æ ·çš„æ˜¯è¿‡ç¨‹ä¸­çš„å¤„ç†ä¸åŠ³CPUå¤§é©¾äº†å°¤å…¶æ˜¯ä¸‰ç»´æ¸²æŸ“å‰çš„é¡¶ç‚¹å˜æ¢ã€çº¹ç†åæ ‡ã€èåˆã€å„ç§æµ‹è¯•éƒ½ä¸æ˜¯cpuçš„å¼ºé¡¹ï¼Œè¿™æ ·æœ‰äº†æ˜¾å¡cpuå°±è½»æ¾è®¸å¤šäº†ã€‚&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;å‚è€ƒ &lt;a href=&quot;https://zh.wikipedia.org/wiki/INT_10H&quot;&gt;Wiki: INT 10H&lt;/a&gt;&lt;br /&gt;
ã€Šæ“ä½œç³»ç»Ÿ çœŸè±¡è¿˜åŸã€‹ç¬¬ä¸‰ç« &lt;/p&gt;
&lt;/blockquote&gt;</content><author><name>bblu</name><email>gmwblu@gmail.com</email></author><category term="cg" /><category term="gpu" /><category term="interface" /><summary>è®¡ç®—æœºè·¨æ—¶ä»£æ„ä¹‰çš„è¿›æ­¥æœ‰ä¸¤ä¸ªä¸€ä¸ªæ˜¯å®æ¨¡å¼åˆ°ä¿æŠ¤æ¨¡å¼ï¼Œå¦ä¸€ä¸ªæ˜¯å‘½ä»¤è¡Œåˆ°GUIã€‚ç¬¬äºŒä¸ªè¿›æ­¥å’Œæ˜¾å¡æ˜¯äº’ç›¸ä¿ƒè¿›çš„å…³ç³»ï¼ŒGUIè®©è®¡ç®—æœºä»ç§‘ç ”é™¢æ‰€èµ°è¿›äº†äººä»¬çš„æ—¥å¸¸ç”Ÿæ´»ä¸­ã€‚</summary></entry><entry><title>ioså¼€å‘TimePieç¬¬6å¤©-Flush UI when Active</title><link href="http://bblu.github.io/2018-03-27-swift-timepie-active.html" rel="alternate" type="text/html" title="ioså¼€å‘TimePieç¬¬6å¤©-Flush UI when Active" /><published>2018-03-27T00:20:00+08:00</published><updated>2018-03-27T00:20:00+08:00</updated><id>http://bblu.github.io/swift-timepie-active</id><content type="html" xml:base="http://bblu.github.io/2018-03-27-swift-timepie-active.html">&lt;blockquote&gt;
  &lt;p&gt;å¾ˆä¹…æ²¡è¿™ä¹ˆè¿ç»­åŠ ç­åˆ°ååŠå¤œçš„äº†ï¼ŒçœŸæœ‰ç‚¹åƒä¸æ¶ˆã€‚ä¹‹å‰ç¨‹åºè®¡æ—¶å™¨åå°ä¼šåœæ‘†å”¤é†’åæ—¶é—´ä¼šè½åï¼Œåå°åˆ‡æ¢åˆ°å‰å°éœ€è¦åˆ·æ–°æ˜¾ç¤ºã€‚å¦å¤–å› ä¸ºç›®å‰æŒ‰ç…§è®¡åˆ’è‡ªåŠ¨æ—¥ç¨‹çš„åŠŸèƒ½è¿˜æ²¡å®ç°ï¼ŒåŠ äº†ä¸€ä¸ªè°ƒæ•´ä¸Šæ¬¡è®°å½•åŠŸèƒ½æ˜¯åœ¨å¿˜è®°è®°å½•çš„æ—¶å€™ä½¿ç”¨çš„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;section&quot;&gt;1.å†æ¬¡å”¤é†’ç¨‹åºåˆ·æ–°é¡µé¢&lt;/h3&gt;
&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;viewDidLoad&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;viewDidLoad&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;NotificationCenter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;addObserver&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;selector&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;#selector(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;applicationDidBecomeActive(_:)&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                                            &lt;span class=&quot;nv&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSNotification&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;Name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;UIApplicationDidBecomeActive&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                                            &lt;span class=&quot;nv&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;//...&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;viewWillDisappear&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;animated&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Bool&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;viewWillDisappear&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;animated&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;NotificationCenter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;removeObserver&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;nv&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;NSNotification&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;Name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;UIApplicationDidBecomeActive&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;//print(&quot;removeObserver&quot;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;section-1&quot;&gt;2.è®°å½•è°ƒæ•´ä¸»è¦çœ‹ç•Œé¢&lt;/h3&gt;
&lt;p&gt;ä»£ç å°±æ˜¯æ™®é€šé€»è¾‘æ²¡ä»€ä¹ˆå¯çœ‹çš„ï¼Œç‚¹å‡»ï¸ã€âš™ï¸ ã€‘æŒ‰é’®æ˜¾ç¤ºä¸€ä¸ªè¿”å›æŒ‰é’®ğŸ”™  å’Œæ‹–åŠ¨æ¡&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../assets/in-post/2018-03-27-12.23.58-AM.png&quot; alt=&quot;EditLast&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;debug&quot;&gt;3.å®Œå–„å’ŒDebug&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;åŠ å…¥äº†å‰å°æ—¥å¿—åœ¨æœ€åº•ä¸‹&lt;/li&gt;
  &lt;li&gt;ä¿®æ­£é€‰æ‹©å»¶æ—¶çš„é€»è¾‘BUGï¼šå»¶æ—¶æ²¡æœ‰é¡ºå»¶æ›´æ–°å˜é‡ã€‚&lt;/li&gt;
  &lt;li&gt;å°è£…äº†æ—¥å¿—æ¥å£å¯ä»¥ä»¥åæ‰©å±•è¾“å‡º&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ç›®å‰æ˜¯è¿™æ ·çš„&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../assets/in-post/2018-03-27-12.15.49-AM.png&quot; alt=&quot;upload&quot; /&gt;&lt;/p&gt;</content><author><name>bblu</name><email>gmwblu@gmail.com</email></author><category term="ios" /><category term="swift" /><summary>å¾ˆä¹…æ²¡è¿™ä¹ˆè¿ç»­åŠ ç­åˆ°ååŠå¤œçš„äº†ï¼ŒçœŸæœ‰ç‚¹åƒä¸æ¶ˆã€‚ä¹‹å‰ç¨‹åºè®¡æ—¶å™¨åå°ä¼šåœæ‘†å”¤é†’åæ—¶é—´ä¼šè½åï¼Œåå°åˆ‡æ¢åˆ°å‰å°éœ€è¦åˆ·æ–°æ˜¾ç¤ºã€‚å¦å¤–å› ä¸ºç›®å‰æŒ‰ç…§è®¡åˆ’è‡ªåŠ¨æ—¥ç¨‹çš„åŠŸèƒ½è¿˜æ²¡å®ç°ï¼ŒåŠ äº†ä¸€ä¸ªè°ƒæ•´ä¸Šæ¬¡è®°å½•åŠŸèƒ½æ˜¯åœ¨å¿˜è®°è®°å½•çš„æ—¶å€™ä½¿ç”¨çš„ã€‚</summary></entry><entry><title>è¯»ä¹¦ç¬”è®°-ã€Šç½‘ç»œæ˜¯å¦‚ä½•è¿æ¥çš„ã€‹</title><link href="http://bblu.github.io/2018-03-23-book-network-link.html" rel="alternate" type="text/html" title="è¯»ä¹¦ç¬”è®°-ã€Šç½‘ç»œæ˜¯å¦‚ä½•è¿æ¥çš„ã€‹" /><published>2018-03-23T00:10:00+08:00</published><updated>2018-03-23T00:10:00+08:00</updated><id>http://bblu.github.io/book-network-link</id><content type="html" xml:base="http://bblu.github.io/2018-03-23-book-network-link.html">&lt;blockquote&gt;
  &lt;p&gt;ä»¥å‰è€æ˜¯è§‰å¾—å­¦ä¹ ä»€ä¹ˆä¸œè¥¿åº”è¯¥ç”±æµ…å…¥æ·±ï¼Œä¸€æ­¥ä¸€æ­¥æ­¥å…¥æ·±æ¸Šã€‚ç°åœ¨æ„Ÿè§‰å¥½åƒå€’è¿‡æ¥ä¹Ÿæ˜¯å¯è¡Œçš„å½“ç„¶æ‹¿åˆ°ä¸€æœ¬ä¹¦å³ä½¿çœ‹ä¸æ‡‚ä¹Ÿèƒ½åšæŒçœ‹ä¸‹å»æ‰è¡Œã€‚ä¸»è¦æ˜¯ç½‘ç»œè¿™å—çœŸæ˜¯å¦‚æ­¤ï¼Œæœ€æ—©çœ‹è®¡ç®—æœºç½‘ç»œç¬¬äº”ç‰ˆï¼Œäº‘é‡Œé›¾é‡Œçš„é‚£äº›ä»€ä¹ˆå¸¦ç¢°æ’æ£€æµ‹æ˜¯è½½æ³¢ä¾¦å¬æçš„å¾ˆç‹¼ç‹ˆï¼Œåæ¥çœ‹è¯¦è§£TCP/IPæ„Ÿè§‰å°±å¥½ä¸€ç‚¹ï¼Œè¿™ä¸¤å¤©çœ‹åˆ°Kindleé‡Œçš„ç½‘ç»œæ˜¯æ€ä¹ˆè¿æ¥çš„ï¼Œç»ˆäºæœ‰å±±é‡æ°´å¤ç–‘æ— è·¯ï¼ŒæŸ³æš—èŠ±æ˜åˆä¸€æ‘çš„æ„Ÿè§‰äº†ï¼ŒæŠŠä¸€äº›çŸ¥è¯†ç‚¹å’Œä¹‹å‰çš„å›°æƒ‘è®°å½•ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;|ç½‘ç»œåº”ç”¨ç¨‹åºï¼ˆæµè§ˆå™¨ã€foxmailã€webæœåŠ¡å™¨ï¼‰---|
|----------------------------------------|
|---------Socketåº“------------[DNè§£æå™¨]--|
|------ [20]TCP----ã€OSã€‘-----[20]UDP-----|
|[ICMP]-------0x0800:IP----[0x0806:ARP]--|
|----------------ç½‘å¡é©±åŠ¨ç¨‹åº--------------|
|--------------------ç½‘å¡-----------------|
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;section&quot;&gt;0.æµè§ˆå™¨è¾“å…¥ç½‘å€&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;URLï¼šåè®®//webæœåŠ¡å™¨/ç›®å½•/æ–‡ä»¶&lt;/li&gt;
  &lt;li&gt;HTTP 1.1 Methodï¼šHEADã€GETã€POSTã€PUTã€DELETEã€OPTIONSã€TRACEã€CONNECT&lt;/li&gt;
  &lt;li&gt;ç”ŸæˆHTTPè¯·æ±‚æ¶ˆæ¯&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#ç¬¬ä¸€è¡Œè¯·æ±‚çš„å†…å®¹&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;&amp;lt;method&amp;gt; &lt;/span&gt;&amp;lt;uri&amp;gt; &amp;lt;HTTP/1.1&amp;gt;
&lt;span class=&quot;c&quot;&gt;#ä»¥ä¸‹æ˜¯å­—æ®µåå’Œå€¼&lt;/span&gt;
Authorizationï¼šèº«ä»½è®¤è¯
Hostï¼šæœåŠ¡å™¨IPå’Œç«¯å£å·
User-Agentï¼šå®¢æˆ·ç«¯è½¯ä»¶ä¿¡æ¯
Acceptï¼šå®¢æˆ·ç«¯æ”¯æŒçš„MIMEç±»å‹
Rangeï¼šæŒ‡å®šè·å–çš„æ•°æ®èŒƒå›´
Connection:æ˜¯å¦ä¿æŒè¿æ¥
Viaï¼šè®°å½•é€”ä¸­çš„ä»£ç†å’Œç½‘å…³
&lt;span class=&quot;c&quot;&gt;#ç©ºè¡Œ&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#æ¶ˆæ¯ä½“&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;#å“åº”æ¶ˆæ¯ç¬¬ä¸€è¡Œ HTTP/1.1 200 OK&lt;/span&gt;
httpç‰ˆæœ¬+çŠ¶æ€ç +å“åº”çŸ­è¯­

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;æµè§ˆå™¨ä½¿ç”¨Socketåº“ä¸­çš„DNè§£æå™¨(gethostbyname)å‘DNSå‘UDPæ¶ˆæ¯æŸ¥è¯¢IP&lt;/li&gt;
  &lt;li&gt;
    &lt;h2 id=&quot;section-1&quot;&gt;åŸŸåè®°å½•ï¼š&lt;/h2&gt;
    &lt;p&gt;|DomainNameï¼š|bblu.tk&lt;br /&gt;
|Classï¼š|IN[åªå‰©è¿™ä¸€ç›´ç±»å‹] &lt;br /&gt;
|Typeï¼š|Address|MaileXchange&lt;br /&gt;
|Dataï¼š|167.211.34.1|10 mail.163.com&lt;br /&gt;
â€”
ps:ç½‘ç»œå±‚ä¾é ARPåè®®IP-&amp;gt;MAC&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;section-2&quot;&gt;2.æµè§ˆå™¨äº¤ç»™ç³»ç»Ÿçš„åè®®æ ˆ&lt;/h2&gt;

&lt;p&gt;socketï¼šç¨‹åºç»„ä»¶åç§°&lt;br /&gt;
Socketï¼šç³»ç»Ÿåè®®æ ˆåº“ã€åŠ å·ä¼¯å…‹åˆ©åˆ†æ ¡BSDç³»ç»Ÿcåº“ã€‘&lt;br /&gt;
å¥—æ¥å­—ï¼šç®¡é“ä¸¤ç«¯æ¥å£&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;IPåœ°å€çš„å­ç½‘ç›¸å½“äºå°åŒºï¼Œæœºå™¨å·ç›¸å½“äºæ¥¼å·ï¼Œç«¯å£å·ç›¸å½“äºæˆ¿é—´å·ã€‚ä¸€å°è®¡ç®—æœºå†…æœ‰è®¸å¤šç½‘ç»œé€šä¿¡å®¢æˆ·ç«¯ï¼Œä¸€ä¸ªæ¥¼å†…æœ‰è®¸å¤šå•å…ƒæˆ¿ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
  &lt;li&gt;è°ƒç”¨socketç»„ä»¶åˆ›å»ºå¥—æ¥å­—ï¼Œåè®®æ ˆä¸ºè¿™ä¸ªå¥—æ¥å­—éšæœºåˆ†é…ä¸€ä¸ªå¯ç”¨çš„ç«¯å£å·å¹¶è¿”å›ä¸€ä¸ªæè¿°ç¬¦ç»™å®¢æˆ·ç«¯ã€‚&lt;/li&gt;
  &lt;li&gt;è°ƒç”¨connectç»„ä»¶ï¼ˆæè¿°ç¬¦ï¼ŒIPï¼Œportï¼‰&lt;/li&gt;
  &lt;li&gt;è°ƒç”¨Socketåº“writeç»„ä»¶å§”æ‰˜ç³»ç»ŸæŠŠæ¶ˆæ¯å†™å…¥åè®®æ ˆ&lt;/li&gt;
  &lt;li&gt;Socketåº“ä¸­çš„readç¨‹åºç»„ä»¶å§”æ‰˜ç³»ç»Ÿåè®®æ ˆæ¥æ”¶æ¶ˆæ¯&lt;/li&gt;
  &lt;li&gt;HTTPåè®®è§„å®šwebæœåŠ¡å™¨å“åº”å®Œæ¶ˆæ¯ååº”è¯¥ä¸»åŠ¨æ–­å¼€ï¼Œæ‰€ä»¥webæœåŠ¡å™¨ä¼šé¦–å…ˆè°ƒç”¨closeæ–­å¼€è¿æ¥ã€‚
&amp;gt; å®é™…æ”¶å‘æ•°æ®çš„æ˜¯åè®®æ ˆ-&amp;gt;ç½‘å¡é©±åŠ¨-&amp;gt;ç½‘å¡&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;tcpip&quot;&gt;3.[TCP/IP]åè®®åŸå‹æ˜¯ä¸€ä¸ªåæ¥æ‹†åˆ†äº†&lt;/h2&gt;

&lt;p&gt;TCPè´Ÿè´£å®¢æˆ·ç«¯å†…ï¼ŒIPè´Ÿè´£å®¢æˆ·ç«¯å¤–&lt;br /&gt;
åè®®æ ˆé€šè¿‡TCPæ”¶å‘æ•°æ®ï¼šå‡ºé”™é‡å‘&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;1.åˆ›å»ºå¥—æ¥å­—&lt;/li&gt;
  &lt;li&gt;2.è¿æ¥æœåŠ¡å™¨&lt;/li&gt;
  &lt;li&gt;3.æ”¶å‘æ•°æ®&lt;/li&gt;
  &lt;li&gt;4.æ–­å¼€åˆ é™¤å¥—æ¥å­—&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;åè®®æ ˆé€šè¿‡UDPæ”¶å‘æ•°æ®ï¼šå®¢æˆ·ç«¯è‡ªå·±è´Ÿè´£&lt;/p&gt;

&lt;h3 id=&quot;section-3&quot;&gt;3.1å¥—æ¥å­—çš„å®ä½“å°±æ˜¯é€šä¿¡æ§åˆ¶ä¿¡æ¯&lt;/h3&gt;

&lt;p&gt;åè®®æ ˆæ˜¯æ ¹æ®å¥—æ¥å­—è®°å½•çš„æ§åˆ¶ä¿¡æ¯è¿›è¡Œå·¥ä½œçš„
windowsä½¿ç”¨netstat -ano æŸ¥çœ‹å¥—æ¥å­—&lt;/p&gt;

&lt;table&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;Proto&lt;/td&gt;
      &lt;td&gt;LocalAddress&lt;/td&gt;
      &lt;td&gt;ForeignAddress&lt;/td&gt;
      &lt;td&gt;State&lt;/td&gt;
      &lt;td&gt;PID&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;ç½‘ç»œåŒ…{[IP][TCP][Data]} &lt;br /&gt;
[A]SYN=1â€”â€”&amp;gt;[B]  æ­ªæ­ªä½ æ˜¯Bå—ï¼Ÿ&lt;br /&gt;
[A]&amp;lt;â€”â€”ACK=1[B]  å—¯å—¯æˆ‘æ˜¯Bä½ æ˜¯Aå—ï¼Ÿ&lt;br /&gt;
[A]ACK=1â€”â€”&amp;gt;[B]  æˆ‘æ˜¯Aï¼Œæ˜¯è¿™æ ·ã€‚ã€‚ã€‚(å¼€å§‹ä¼šè¯)&lt;/p&gt;

&lt;p&gt;ç»è¿‡ä¸‰æ¬¡æ¡æ‰‹ä¹‹åçš„connectionä»ä¸šåŠ¡è§’åº¦å¯ä»¥ç§°ä¸ºsessionã€ä¼šè¯ã€‘&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ä»¥å¤ªç½‘çš„MTU&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1500å­—èŠ‚ï¼ŒPPPoEæœ‰é¢å¤–çš„å¤´ä¿¡æ¯MTUä¼šå˜å°   
1500- 20-20&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 1460  
MTU - HEAD &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; MSSã€æœ€å¤§åˆ†æ®µå¤§å°ã€‘ 

èµ·å§‹å¸§åˆ†ç•Œç¬¦SFD

|-----å¸§ -----|ä»¥å¤ªåŒ…--------------|  
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;56bæŠ¥å¤´/8bSFD][MAC][IP][TCP][Data][32bå¸§æ ¡éªŒFCS]  
|-------------|-IPè´Ÿè´£--|  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;IPåè®®æ ¹æ®IPåœ°å€æŸ¥æ‰¾åŒ…çš„ä¼ è¾“æ–¹å‘ï¼Œå³ä¸‹ä¸€ä¸ªè·¯ç”±å™¨çš„ä½ç½®ï¼Œæ¥ä¸‹æ¥å§”æ‰˜ä»¥å¤ªç½‘åè®®æŠŠåŒ…ä¼ è¾“è¿‡å»ï¼Œä¸‹ä¸€ä¸ªè·¯ç”±å™¨çš„MACåœ°å€è¢«å†™å…¥åˆ°MACå¤´éƒ¨ä¸­å»ï¼ŒIPæ¨¡å—ç»™TCPåŒ…åŠ äº†ä¸¤ä¸ªå¤´MACå¤´å’ŒIPå¤´ï¼ŒPhysicalLayerDeviceï¼ˆPHYï¼‰æ¨¡å—å°†MACæ¨¡å—äº§ç”Ÿçš„ä¿¡å·è½¬æ¢ä¸ºå¯ä»¥åœ¨ç½‘çº¿ä¸Šä¼ è¾“çš„æ ¼å¼è¿˜æœ‰ç›‘å¬æœ‰æ²¡æœ‰ä¿¡å·è¿›æ¥ï¼ŒåŠåŒå·¥æ¨¡å¼ä¸‹ä¿¡å·ç¢°æ’åç»ˆæ­¢å‘é€ï¼Œå¹¿æ’­é˜»å¡éšæœºå»¶æ—¶åé‡è¯•ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ARPåè®®é€šè¿‡å¹¿æ’­ï¼Œå¯¹åº”çš„ç»ˆç«¯ä¼šå›åº”è‡ªå·±çš„MACã€‚ARPç¼“å­˜ä¸€èˆ¬ä¿å­˜å‡ åˆ†é’Ÿï¼Œåˆšåˆšä¿®æ”¹IPåœ°å€åå¯èƒ½ä¼šå‘ç”Ÿé€šä¿¡å¼‚å¸¸ã€‚&lt;/li&gt;
  &lt;li&gt;ä»¥å¤ªç½‘æŠ¥å¤´ç»™äº†56æ¯”ç‰¹çš„101010â€¦äº¤æ›¿çš„åºåˆ—æ˜¯ç»™æ¥æ”¶æ–¹åŒæ­¥æ—¶é’Ÿçš„ç½‘ç»œä¼ è¾“é€Ÿç‡å°±æ˜¯æ—¶é’Ÿçš„é¢‘ç‡æ¯”å¦‚10Mbit/sæˆ–è€…100Mbit/sï¼Œä»SFDåé©¬ä¸Šè¿›å…¥å·¥ä½œçŠ¶æ€ã€‚å‰é¢çš„åºåˆ—å¯ä»¥ç†è§£ä¸ºidleåé¢çš„SFDå¯ä»¥å½“ä½œæ˜¯è¯»å–æŒ‡ä»¤ã€‚&lt;/li&gt;
  &lt;li&gt;å‘é€å¸§ä½¿ç”¨é›†çº¿å™¨çš„åŠåŒå·¥æ¨¡å¼æˆ–äº¤æ¢æœºçš„å…¨åŒå·¥æ¨¡å¼ã€‚æ¥æ”¶æ–¹å…ˆç”¨FCSåšæœ‰æ•ˆæ£€æŸ¥å†æ¯”å¯¹MACåœ°å€å¦‚æœä¸ä¸€è‡´å°†ä¸¢æ‰ï¼Œç›¸åŒå°±å°†åŒ…æ”¾å…¥ç¼“å†²åŒºç”±ç½‘å¡å‘èµ·ä¸€ä¸ªä¸­æ–­é€šçŸ¥CPUï¼ŒCPUå‘Šè¯‰åœ¨å¯¹åº”ä¸­æ–­å·æ³¨å†Œçš„ç½‘å¡é©±åŠ¨çš„ä¸­æ–­å¤„ç†ç¨‹åºå»å–åŒ…è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œï¼Œç±»å‹æ˜¯0x0080çš„åŒ…ç»™TCP/IPåè®®æ ˆï¼Œ0x809Bçš„åŒ…ç»™AppleTalkçš„åè®®æ ˆã€‚&lt;/li&gt;
  &lt;li&gt;è¿›å…¥TCP/IPåå¦‚æœå‘ç°IPåœ°å€é”™è¯¯IPæ¨¡å—ä¼šé€šè¿‡ICMPæ¶ˆæ¯é€šçŸ¥å‘é€æ–¹ï¼Œä½†æ˜¯æœ‰ç½‘ç»œè½¬å‘åŠŸèƒ½çš„æœåŠ¡å™¨ä¼šè½¬å‘åŒ…ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;bash
 ä¸»è¦çš„ICMPæ¶ˆæ¯  
 ç±»å‹ï¼šæè¿°
 0ï¼šEchoReply
 3: DestinationUnreachable
 4: Source Quenchè·¯ç”±å™¨è´Ÿè½½æŠ¥è­¦
 5: Redirect åŒ…çš„å‡ºå…¥å£ç›¸åŒå‘Šè¯‰å‘é€æ–¹ä¸‹ä¸€ä¸ªè·¯ç”±è®©å®ƒç›´æ¥å‘è¿‡å»
 8: Echo Pingå‘½ä»¤å‘é€çš„æ¶ˆæ¯ï¼Œæ¥æ”¶æ–¹è¿”å›ä¸€ä¸ªEchoReply
 11: TimeExeccded è¶…è¿‡IPå¤´éƒ¨çš„TTLè¢«ä¸¢å¼ƒé€šçŸ¥å‘é€æ–¹
 12:IPå¤´é”™è¯¯è¢«ä¸¢å¼ƒ
&lt;/code&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;IPåè®®é‡Œæ¥æ”¶åˆ°å¼€å¯åˆ†ç‰‡çš„åŒ…è¿˜è¦åˆ†ç‰‡é‡ç»„&lt;/li&gt;
  &lt;li&gt;PromiscuousModeæ··æ‚æ¨¡å¼ä¸‹ç½‘å¡ä¸æ£€æŸ¥æ¥æ”¶æ–¹MACåœ°å€ç…§å•å…¨æ”¶ã€‚&lt;/li&gt;
  &lt;li&gt;ç½‘ç»œè¶…æ—¶å°±æ˜¯æŒ‡æŒ‡å®šæ—¶é—´æ²¡æœ‰æ”¶åˆ°è¿”å›çš„ACKå·ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
  &lt;p&gt;å°½ç®¡æˆ‘ä»¬è¯´IPæ¨¡å—è´Ÿè´£å°†åŒ…å‘ç»™å¯¹æ–¹ï¼Œä½†å®é™…ä¸Šå°†åŒ…ä»å‘é€æ–¹ä¼ è¾“åˆ°æ¥æ”¶æ–¹çš„å·¥ä½œæ˜¯ç”±é›†çº¿å™¨ã€è·¯ç”±å™¨ç­‰ç½‘ç»œè®¾å¤‡æ¥å®Œæˆçš„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;å‘é€æ•°æ®æ–¹ä¼šæŠŠæ•°æ®çš„å­—èŠ‚åºå·+é•¿åº¦ä¸€åŒå‘ç»™æ¥æ”¶æ–¹ï¼Œæ¥æ”¶æ–¹æŠŠå­—èŠ‚åºå·+1è®¾ç½®ä¸ºACKåº”ç­”ç»™å‘é€æ–¹ï¼Œé…åˆæ»‘åŠ¨çª—å£ACKå¯ä»¥é—´éš”å›åº”ï¼Œå®é™…ä½¿ç”¨ä¸ºäº†å®‰å…¨å¼€å§‹ä¼ è¾“ä¼šç»™å­—èŠ‚åºå·ä¸€ä¸ªéšæœºæ•°ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ps:Gatewayåœ¨TCP/IPçš„ä¸–ç•Œé‡Œå°±æ˜¯è·¯ç”±å™¨&lt;/p&gt;

&lt;h2 id=&quot;udp&quot;&gt;4.UDP&lt;/h2&gt;
&lt;p&gt;å¦‚æœæ•°æ®å¾ˆçŸ­ä¸€ä¸ªåŒ…å°±èƒ½è½»æ¾è£…ä¸‹å°±æ²¡æœ‰å¿…è¦è€ƒè™‘è¿›åº¦äº†ï¼Œå‡ºé”™ä¹Ÿå°±æ˜¯æŠŠä¸€ä¸ªåŒ…é‡æ–°å‘ä¸€ä¸‹ï¼Œä»£ä»·å´æ¯”TCPå°çš„å¤šã€‚æ¯”å¦‚DNSæŸ¥è¯¢ï¼Œå¯¹æ–¹çš„å›å¤å°±æ˜¯æ¥æ”¶ç¡®è®¤ã€‚&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;UDPå¯ä»¥å‘é€çš„æœ€å¤§æ•°æ®æ˜¯ç”±IPåŒ…å¤´çš„å…¨é•¿å­—æ®µ16bå†³å®šçš„ï¼ŒIPåè®®åŒ…æœ€å¤§é•¿åº¦æ˜¯65535ï¼Œå†å‡å»20IP+8UDPç­‰äº65507ï¼Œéœ€è¦IPæ¨¡å—åˆ†ç‰‡ä¼ è¾“ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;section-4&quot;&gt;5.äº¤æ¢æœºå’Œè·¯ç”±å™¨çš„åŒ…è½¬å‘æ“ä½œ&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;å®é™…ä¸Šè·¯ç”±å™¨ä¸­è·¯ç”±è¡¨çš„ç›®æ ‡IPåœ°å€åªéœ€è¦è¡¨ç¤ºå­ç½‘éƒ¨åˆ†çš„æ¯”ç‰¹å€¼å°±å¯ä»¥äº†ï¼Œä¸»æœºå·éƒ¨åˆ†å…¨éƒ¨ä¸º0ï¼ˆä¹Ÿæœ‰ä¸€äº›IPåœ°å€ä¸»æœºå·ä¸æ˜¯å…¨éƒ¨ä¸º0ï¼‰ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
  &lt;li&gt;è·¯ç”±å™¨çš„ç«¯å£å¹¶ä¸åªæœ‰ä»¥å¤ªç½‘ä¸€ç§ï¼Œä¸åŒçº¿è·¯å’Œå±€åŸŸç½‘ç±»å‹æ”¯æŒçš„æœ€å¤§åŒ…ä¹Ÿä¸åŒã€‚æ¯”å¦‚PPPoEåè®®é‡åˆ°è¿™ç§æƒ…å†µï¼Œå¯ä»¥ä½¿ç”¨IPåè®®ä¸­å®šä¹‰çš„åˆ†ç‰‡åŠŸèƒ½å¯¹åŒ…è¿›è¡Œæ‹†åˆ†ï¼Œç¼©çŸ­æ¯ä¸ªåŒ…çš„é•¿åº¦ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œè¯´çš„åˆ†ç‰‡å’Œç¬¬2ç« ä»‹ç»çš„TCPå¯¹æ•°æ®è¿›è¡Œæ‹†åˆ†çš„æœºåˆ¶æ˜¯ä¸åŒçš„ã€‚TCPæ‹†åˆ†æ•°æ®çš„æ“ä½œæ˜¯åœ¨å°†æ•°æ®è£…åˆ°åŒ…é‡Œä¹‹å‰è¿›è¡Œçš„ï¼Œæ¢å¥è¯è¯´ï¼Œæ‹†åˆ†å¥½çš„ä¸€ä¸ªæ•°æ®å—æ­£å¥½è£…è¿›ä¸€ä¸ªåŒ…é‡Œã€‚ä»IPåˆ†ç‰‡çš„è§’åº¦æ¥çœ‹ï¼Œè¿™æ ·ä¸€ä¸ªåŒ…å…¶å®æ˜¯ä¸€ä¸ªæœªæ‹†åˆ†çš„æ•´ä½“ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåˆ†ç‰‡æ˜¯å¯¹ä¸€ä¸ªå®Œæ•´çš„åŒ…å†è¿›è¡Œæ‹†åˆ†çš„è¿‡ç¨‹ã€‚&lt;/li&gt;
  &lt;li&gt;ç¨‹åºä¸å…è®¸åˆ†ç‰‡æˆ–è€…å·²ç»åˆ†ç‰‡çš„åŒ…ä¸èƒ½åˆ†ç‰‡ã€‚&lt;/li&gt;
  &lt;li&gt;å…¬ç½‘åœ°å€ç´§ç¼ºåæŠŠå…¬ç½‘æ²¡åˆ†é…çš„ä¸‰ä¸ªæ®µæ‹¿å‡ºæ¥å½“æˆç§æœ‰åœ°å€&lt;/li&gt;
  &lt;li&gt;10.ï½ 172.16.ï½ 192.168.ï½ ,ä»¥å¤ªç½‘å¤–ç½‘éƒ¨åˆ†åˆ†é…PublicAddress,å†…ç½‘éƒ¨åˆ†é€šè¿‡åœ°å€è½¬æ¢ï¼ˆNATï¼‰æœºåˆ¶ä¸Šç½‘ï¼Œå³åœ¨è½¬å‘åŒ…æ—¶å¤´éƒ¨çš„IPåœ°å€å’Œç«¯å£å·ï¼ŒNATè®¾å¤‡ä¸€èˆ¬æ˜¯è·¯ç”±å™¨ä¸­çš„16bç«¯å£å·å¯ä»¥è¡¨ç¤º65536ä¸ªå€¼é™¤å»å‰é¢ä¿ç•™çš„1024ä¸ªå…¶ä½™çš„éƒ½å¯ä»¥æ˜ å°„ç»™å†…ç½‘çš„ä¸Šç½‘è®¾å¤‡ã€‚&lt;/li&gt;
&lt;/ul&gt;</content><author><name>bblu</name><email>gmwblu@gmail.com</email></author><category term="network" /><category term="note" /><summary>ä»¥å‰è€æ˜¯è§‰å¾—å­¦ä¹ ä»€ä¹ˆä¸œè¥¿åº”è¯¥ç”±æµ…å…¥æ·±ï¼Œä¸€æ­¥ä¸€æ­¥æ­¥å…¥æ·±æ¸Šã€‚ç°åœ¨æ„Ÿè§‰å¥½åƒå€’è¿‡æ¥ä¹Ÿæ˜¯å¯è¡Œçš„å½“ç„¶æ‹¿åˆ°ä¸€æœ¬ä¹¦å³ä½¿çœ‹ä¸æ‡‚ä¹Ÿèƒ½åšæŒçœ‹ä¸‹å»æ‰è¡Œã€‚ä¸»è¦æ˜¯ç½‘ç»œè¿™å—çœŸæ˜¯å¦‚æ­¤ï¼Œæœ€æ—©çœ‹è®¡ç®—æœºç½‘ç»œç¬¬äº”ç‰ˆï¼Œäº‘é‡Œé›¾é‡Œçš„é‚£äº›ä»€ä¹ˆå¸¦ç¢°æ’æ£€æµ‹æ˜¯è½½æ³¢ä¾¦å¬æçš„å¾ˆç‹¼ç‹ˆï¼Œåæ¥çœ‹è¯¦è§£TCP/IPæ„Ÿè§‰å°±å¥½ä¸€ç‚¹ï¼Œè¿™ä¸¤å¤©çœ‹åˆ°Kindleé‡Œçš„ç½‘ç»œæ˜¯æ€ä¹ˆè¿æ¥çš„ï¼Œç»ˆäºæœ‰å±±é‡æ°´å¤ç–‘æ— è·¯ï¼ŒæŸ³æš—èŠ±æ˜åˆä¸€æ‘çš„æ„Ÿè§‰äº†ï¼ŒæŠŠä¸€äº›çŸ¥è¯†ç‚¹å’Œä¹‹å‰çš„å›°æƒ‘è®°å½•ä¸€ä¸‹ã€‚</summary></entry><entry><title>ioså¼€å‘TimePieç¬¬5å¤©-ç½‘ç»œå¤‡ä»½æ•°æ®</title><link href="http://bblu.github.io/2018-03-19-swift-timepie-backup.html" rel="alternate" type="text/html" title="ioså¼€å‘TimePieç¬¬5å¤©-ç½‘ç»œå¤‡ä»½æ•°æ®" /><published>2018-03-19T20:22:00+08:00</published><updated>2018-03-19T20:22:00+08:00</updated><id>http://bblu.github.io/swift-timepie-backup</id><content type="html" xml:base="http://bblu.github.io/2018-03-19-swift-timepie-backup.html">&lt;blockquote&gt;
  &lt;p&gt;ä¸€ä¸ªç¨‹åºæœ€æœ‰ä»·å€¼çš„å°±æ˜¯æ•°æ®äº†ï¼Œtodoæ˜¯ä¸€ä¸ªé«˜åº¦ç»“æ„åŒ–çš„æ•°æ®æ”¾åˆ°sqliteæ˜¯æœ€åˆé€‚ä¸è¿‡çš„äº†ï¼Œå­˜åˆ°æœ¬åœ°çš„æ•°æ®åº“ä¸­è¿˜æ˜¯è¿œè¿œä¸å¤Ÿçš„å¦‚æœæ‰‹æœºä¸¢äº†å°±åºŸäº†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;jsonæ•°æ®æœ€å¥½çš„å½’å®¿å°±æ˜¯mongodbï¼Œç”¨mongodbæ”¯æŒæœ€å¥½çš„å°±æ˜¯JavaScriptäº†ï¼Œæ‰€ä»¥åå°ç”¨Express+mongoose+mongodbã€‚è‡³æ­¤è¿™ä¸ªappçš„æ ¸å¿ƒåŠŸèƒ½æ ¹æ®é…ç½®åˆå§‹åŒ–ç•Œé¢ï¼Œæ•°æ®æœ¬åœ°å­˜å‚¨å’Œç½‘ç»œå¤‡ä»½å’Œæ¢å¤å°±å®Œæˆäº†ï¼Œäº”å¤©æ—¶é—´è¿™ä¸ªappè‡³å°‘å¤„äºå¯ç”¨çŠ¶æ€äº†åé¢å°±æ˜¯æŒ‰éœ€ä¼˜åŒ–ï¼Œç„¶åæ˜¯è®¡åˆ’ç¼–æ’ç„¶åæ˜¯ç»Ÿè®¡åˆ†æï¼Œå®Œæˆç‡åˆ†æˆä¸¤ç§ä¸€ç§æ˜¯æ ¹æ®æ—¶é—´é•¿åº¦çš„æ¯”å¦‚æ¯å¤©è¯»ä¹¦1ä¸ªå°æ—¶ï¼Œä¸¥æ ¼çš„æ£€éªŒæ˜¯æ™šä¸Š9ç‚¹-10ç‚¹è¯»ä¹¦ä¸€ä¸ªå°æ—¶ï¼Œè¿™æ ·æ¿€åŠ±è‡ªå·±ä¸æ–­çš„å‘è®¡åˆ’é æ‹¢ã€‚å®šä¸€ä¸ªç›®æ ‡å®Œæˆåç„¶åç»™äºˆè‡ªå·±ä¸€å®šçš„å¥–åŠ±ï¼Œæ¯”å¦‚å¥–åŠ±è‡ªå·±ä¸€ä¸ªQC35ã€‚&lt;/p&gt;

&lt;h3 id=&quot;jsonencoder&quot;&gt;1.å¯¹è±¡ç¼–ç  JSONEncoder&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨JSONEncoderçš„åŒ–å¼€å‘è€…è¦åšçš„å·¥ä½œå°±æ˜¯æŠŠè‡ªå·±çš„å®Œäº‹é¡¹ç»§æ‰¿è‡ªEncodaableå°±å¯ä»¥äº†&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#ä»£ç ç¤ºä¾‹&lt;/span&gt;
struct DoneList: Encodable&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;let &lt;/span&gt;items:[DoneItem]
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
struct DoneItem: Encodable&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;let &lt;/span&gt;id:Int
    &lt;span class=&quot;nb&quot;&gt;let &lt;/span&gt;code:Int      // 3digits support &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;two steps of actions
    ...
    &lt;span class=&quot;nb&quot;&gt;let &lt;/span&gt;desc:String
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#ä»æ•°æ®åˆå§‹åŒ–&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;let &lt;/span&gt;d &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; DoneItem&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;id:id, code:code, star:start, stop:stop,span:span, name:name, alia:&lt;span class=&quot;s2&quot;&gt;&quot;alia&quot;&lt;/span&gt;, desc: &lt;span class=&quot;s2&quot;&gt;&quot;desc&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
doneList.append&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;d&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;#ä¸¤è¡Œä»£ç å®Œæˆéœ€è¦çš„ç¼–ç &lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;let &lt;/span&gt;encoder &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; JSONEncoder&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;let &lt;/span&gt;json &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; try encoder.encode&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;doneList&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;urlrequest&quot;&gt;2.ç½‘ç»œå‘é€ URLRequest&lt;/h3&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#æ¨¡æ‹Ÿå™¨è°ƒè¯•çš„è¯endpointUrlå¯ä»¥å–æœ¬åœ°åœ°å€&lt;/span&gt;
var request &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; URLRequest&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;url: endpointUrl&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
request.httpMethod &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;POST&quot;&lt;/span&gt;
request.httpBody &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; json
request.addValue&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;application/json&quot;&lt;/span&gt;, forHTTPHeaderField: &lt;span class=&quot;s2&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
request.addValue&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;application/json&quot;&lt;/span&gt;, forHTTPHeaderField: &lt;span class=&quot;s2&quot;&gt;&quot;Accept&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;let &lt;/span&gt;task &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; URLSession.shared.dataTask&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;with: request&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
task.resume&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;section&quot;&gt;3.æœåŠ¡ç«¯æ¥æ”¶&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;../assets/in-post/2018-03-19-swift-timepie-bkup.png&quot; alt=&quot;received json&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ServerCode:ã€&lt;a href=&quot;https://github.com/bblu/timepie/tree/master/nodeServer&quot;&gt;nodeServer&lt;/a&gt;ã€‘&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;è®²çœŸåœ¨ç‚¹å‡»æ‰‹æœºbackupæŒ‰é’®æ•°æ®çªçªçš„ä¸Šæ•°æ®çš„é‚£ä¸€åˆ»è¿˜æ˜¯æŒºå…´å¥‹çš„&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;img src=&quot;../assets/in-post/2018-03-19-swift-timepie-upload.png&quot; alt=&quot;upload&quot; /&gt;&lt;/p&gt;</content><author><name>bblu</name><email>gmwblu@gmail.com</email></author><category term="ios" /><category term="swift" /><summary>ä¸€ä¸ªç¨‹åºæœ€æœ‰ä»·å€¼çš„å°±æ˜¯æ•°æ®äº†ï¼Œtodoæ˜¯ä¸€ä¸ªé«˜åº¦ç»“æ„åŒ–çš„æ•°æ®æ”¾åˆ°sqliteæ˜¯æœ€åˆé€‚ä¸è¿‡çš„äº†ï¼Œå­˜åˆ°æœ¬åœ°çš„æ•°æ®åº“ä¸­è¿˜æ˜¯è¿œè¿œä¸å¤Ÿçš„å¦‚æœæ‰‹æœºä¸¢äº†å°±åºŸäº†ã€‚</summary></entry><entry><title>Jmeter å­¦ä¹ ç¬”è®°ä¹‹GettingStarted</title><link href="http://bblu.github.io/2018-03-18-jmeter-get-started-1st.html" rel="alternate" type="text/html" title="Jmeter å­¦ä¹ ç¬”è®°ä¹‹GettingStarted" /><published>2018-03-18T23:34:00+08:00</published><updated>2018-03-18T23:34:00+08:00</updated><id>http://bblu.github.io/jmeter-get-started-1st</id><content type="html" xml:base="http://bblu.github.io/2018-03-18-jmeter-get-started-1st.html">&lt;blockquote&gt;
  &lt;p&gt;Apache JMeter ä¸€ä¸ªæµ‹è¯•webåŠŸèƒ½å’Œæ€§èƒ½çš„å¼€æºJavaè½¯ä»¶ï¼Œå¯¹javaæ¡†æ¶å’Œåè®®æ”¯æŒè‰¯å¥½ï¼ŒåŸºæœ¬ä¸Šåº”ç”¨åè®®éƒ½èƒ½æµ‹è¯•ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;å…ˆä¸Šå›¾å®‰è£…å®Œåé•¿è¿™ä¸ªæ ·å­ï¼Œçœ‹äº†ä¸€ä¸‹è¿™è´§æˆ‘çš„æ„Ÿæƒ³æ˜¯è¿™ä¸ªä¸œè¥¿æ˜¯çº¯ç¨‹åºå‘˜æ€ç»´çš„äº§å“ï¼Œè‚¯å®šæ²¡æœ‰å’Œæµ‹è¯•å•†é‡å»é—®ä»–ä»¬çš„éœ€æ±‚å°±å¼€å‘å‡ºæ¥çš„ä¸œè¥¿ï¼Œéšç€å¼€å‘å‘è¿ç»´å’Œæµ‹è¯•ä¾µå…¥çš„å¤§è¶‹åŠ¿ä»¥åè¿™ç§ç¨‹åºå‹å¥½äº§å“ä¼šè¶Šæ¥è¶Šå¤šçš„ï¼ŒGUIçš„å·¥ä½œåŸç†ç›¸å½“äºæŠŠæµ‹è¯•ç¨‹åºç¼–æ’å¯è§†åŒ–ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥å†™ç¨‹åºå•¦ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../assets/in-post/2018-03-18-jmeter-get-started-1.png&quot; alt=&quot;JmeterMainView&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Web - HTTP, HTTPS (Java, NodeJS, PHP, ASP.NET, â€¦)&lt;/li&gt;
  &lt;li&gt;SOAP / REST Webservices&lt;/li&gt;
  &lt;li&gt;FTP&lt;/li&gt;
  &lt;li&gt;Database via JDBC&lt;/li&gt;
  &lt;li&gt;LDAP&lt;/li&gt;
  &lt;li&gt;Message-oriented middleware (MOM) via JMS&lt;/li&gt;
  &lt;li&gt;Mail - SMTP(S), POP3(S) and IMAP(S)&lt;/li&gt;
  &lt;li&gt;Native commands or shell scripts&lt;/li&gt;
  &lt;li&gt;TCP&lt;/li&gt;
  &lt;li&gt;Java Objects&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æ”¯æŒæµè§ˆå™¨æˆ–ç¨‹åºç•Œé¢å½•åˆ¶æµ‹è¯•ç”¨ä¾‹æˆ–è€…å‘½ä»¤è¡Œæ¨¡å¼å·¥ä½œï¼Œç”ŸæˆåŠ¨æ€é¡µé¢æŠ¥å‘Šã€‚&lt;/p&gt;

&lt;h2 id=&quot;testplan&quot;&gt;TestPlançš„èŠ‚ç‚¹&lt;/h2&gt;
&lt;p&gt;JMeterçš„TestPlanå¯¹åº”çš„åº”è¯¥æ˜¯TestSuitï¼Œå®ƒä¸‹é¢èŠ‚ç‚¹çš„ä»‹ç»ï¼Œæ³¨æ„çš„æ˜¯è¿™äº›ä¸åŒç±»å‹çš„èŠ‚ç‚¹å¯ä»¥äº’ç›¸åµŒå¥—çš„ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Thread groupï¼š the beginning points of any test plan.&lt;/li&gt;
  &lt;li&gt;Controllerï¼šæ§åˆ¶å™¨èŠ‚ç‚¹å¯ä»¥ç»„åˆåµŒå¥—å®ç°æµç¨‹æ§åˆ¶åƒç¨‹åºè¯­è¨€åˆ°æ§åˆ¶è¯­å¥ï¼Œæœ‰ä¸‹é¢ä¸‰ç§ç±»å‹ã€‚&lt;/li&gt;
  &lt;li&gt;Samplers:åŠŸèƒ½å’Œå®ƒåå­—ä¸€æ ·è§¦å‘æœåŠ¡æµ‹è¯•&lt;/li&gt;
  &lt;li&gt;LogicControllers:é€»è¾‘æ§åˆ¶æ¯”å¦‚å¯¹åº”ç™»å½•æ“ä½œåªæ‰§è¡Œä¸€é&lt;/li&gt;
  &lt;li&gt;TestFramentsï¼šå½“å‰TreadGroupçš„åˆ«åä¾›å…¶ä»–groupå¼•ç”¨åšåˆ°å¤ç”¨çš„ç‰¹æ®Šæ§åˆ¶èŠ‚ç‚¹&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;../assets/in-post/2018-03-18-jmeter-get-started-2.png&quot; alt=&quot;JmeterMainView&quot; /&gt;&lt;/p&gt;</content><author><name>bblu</name><email>gmwblu@gmail.com</email></author><category term="test" /><category term="jmeter" /><summary>Apache JMeter ä¸€ä¸ªæµ‹è¯•webåŠŸèƒ½å’Œæ€§èƒ½çš„å¼€æºJavaè½¯ä»¶ï¼Œå¯¹javaæ¡†æ¶å’Œåè®®æ”¯æŒè‰¯å¥½ï¼ŒåŸºæœ¬ä¸Šåº”ç”¨åè®®éƒ½èƒ½æµ‹è¯•ã€‚</summary></entry><entry><title>ioså¼€å‘TimePieç¬¬4å¤©-æ•°æ®å…¥Sqliteåº“</title><link href="http://bblu.github.io/2018-03-18-swift-timepie-sqlite.html" rel="alternate" type="text/html" title="ioså¼€å‘TimePieç¬¬4å¤©-æ•°æ®å…¥Sqliteåº“" /><published>2018-03-18T11:22:00+08:00</published><updated>2018-03-18T11:22:00+08:00</updated><id>http://bblu.github.io/swift-timepie-sqlite</id><content type="html" xml:base="http://bblu.github.io/2018-03-18-swift-timepie-sqlite.html">&lt;blockquote&gt;
  &lt;p&gt;ä¸€ä¸ªç¨‹åºæœ€æœ‰ä»·å€¼çš„å°±æ˜¯æ•°æ®äº†ï¼Œtodoæ˜¯ä¸€ä¸ªé«˜åº¦ç»“æ„åŒ–çš„æ•°æ®æ”¾åˆ°sqliteæ˜¯æœ€åˆé€‚ä¸è¿‡çš„äº†ï¼Œä»¥åå¾€androidä¸Šç§»æ¤ä¹Ÿå¾ˆæ–¹ä¾¿ï¼Œæœç´¢äº†å‡ ä¸ªåŒ…è£…Sqliteçš„åº“éƒ½æ¯”è¾ƒææ€–æ¯”å¦‚Sqlite.swiftï¼Œä»‹äºè¿™ä¸ªåº”ç”¨çš„æ•°æ®é€»è¾‘å¾ˆç®€å•å°±è‡ªå·±å°è£…äº†ä¸€ä¸‹sqliteçš„æ“ä½œï¼Œè¿™é‡Œåˆä¸€ä¸ªå°trickå°±æ˜¯é€‰æ‹©ä¸åŒçš„todoåˆ‡æ¢ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;section&quot;&gt;å¼•ç”¨ä¾èµ–åº“&lt;/h3&gt;
&lt;p&gt;åœ¨é¡¹ç›® General/Linked Frameworks and Libraries/+ æ·»åŠ libSqlite3.tbd&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;å¦‚æœæƒ³è®©sqlite3åº“éšç‰ˆæœ¬æ›´æ–°å¯ä»¥è€ƒè™‘ä½¿ç”¨libsqlite3.0.tbd&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;section-1&quot;&gt;å¸¸ç”¨çš„æ“ä½œ&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;æ³¨é‡Šï¼š Command + /&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;section-2&quot;&gt;å°è£…æ’å…¥æ–¹æ³•&lt;/h3&gt;
&lt;blockquote&gt;
  &lt;p&gt;äºŒè¿›åˆ¶æ•°æ®ä½ å»bindæˆ‘è¿˜èƒ½ç†è§£ï¼Œæ„Ÿè§‰sqliteæ²¡é‚£ä¹ˆéº»çƒ¦intå’Œstringç«Ÿç„¶è¿˜éœ€è¦bindï¼Œåº”è¯¥èƒ½ä¿®æ”¹çš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬å…ˆè¿™æ ·å§ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    func insert&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;item:TodoItem, start:Int, span:Int&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
        var stmt: OpaquePointer?
        
        &lt;span class=&quot;nb&quot;&gt;let &lt;/span&gt;queryString &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;INSERT INTO Done (code, name, start,end,span) VALUES (?,?,?,strftime(&#39;%s&#39;,&#39;now&#39;),?)&quot;&lt;/span&gt;
        
        &lt;span class=&quot;k&quot;&gt;if &lt;/span&gt;sqlite3_prepare&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;db, queryString, -1, &amp;amp;stmt, nil&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; !&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; SQLITE_OK&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nb&quot;&gt;let &lt;/span&gt;errmsg &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; String&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;cString: sqlite3_errmsg&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;db&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;!&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
            print&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;error preparing insert: &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;errmsg)&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
        
        &lt;span class=&quot;k&quot;&gt;if &lt;/span&gt;sqlite3_bind_int&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;stmt, 1, Int32&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;item.code&lt;span class=&quot;o&quot;&gt;))&lt;/span&gt; !&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; SQLITE_OK&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nb&quot;&gt;let &lt;/span&gt;errmsg &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; String&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;cString: sqlite3_errmsg&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;db&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;!&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
            print&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;failure binding code: &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;errmsg)&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
        
        &lt;span class=&quot;k&quot;&gt;if &lt;/span&gt;sqlite3_bind_text&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;stmt, 2, item.name, -1, nil&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; !&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; SQLITE_OK&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nb&quot;&gt;let &lt;/span&gt;errmsg &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; String&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;cString: sqlite3_errmsg&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;db&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;!&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
            print&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;failure binding name: &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;errmsg)&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if &lt;/span&gt;sqlite3_bind_int&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;stmt, 3, Int32&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;start&lt;span class=&quot;o&quot;&gt;))&lt;/span&gt; !&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; SQLITE_OK&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nb&quot;&gt;let &lt;/span&gt;errmsg &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; String&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;cString: sqlite3_errmsg&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;db&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;!&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
            print&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;failure binding start: &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;errmsg)&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
        
        &lt;span class=&quot;k&quot;&gt;if &lt;/span&gt;sqlite3_bind_int&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;stmt, 4, Int32&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;span&lt;span class=&quot;o&quot;&gt;))&lt;/span&gt; !&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; SQLITE_OK&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nb&quot;&gt;let &lt;/span&gt;errmsg &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; String&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;cString: sqlite3_errmsg&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;db&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;!&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
            print&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;failure binding span: &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;errmsg)&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
        
        &lt;span class=&quot;k&quot;&gt;if &lt;/span&gt;sqlite3_step&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;stmt&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; !&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; SQLITE_DONE &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nb&quot;&gt;let &lt;/span&gt;errmsg &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; String&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;cString: sqlite3_errmsg&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;db&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;!&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
            print&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;failure inserting todo: &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;errmsg)&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
        print&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;itme saved successfully&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;view code:ã€&lt;a href=&quot;https://github.com/bblu/timepie/blob/e819a589dad15a79648b0375ff94665cb68a8cd4/TimePie/SqliteUtil.swift&quot;&gt;sqliteutil.swift&lt;/a&gt;ã€‘&lt;/p&gt;</content><author><name>bblu</name><email>gmwblu@gmail.com</email></author><category term="ios" /><category term="swift" /><summary>ä¸€ä¸ªç¨‹åºæœ€æœ‰ä»·å€¼çš„å°±æ˜¯æ•°æ®äº†ï¼Œtodoæ˜¯ä¸€ä¸ªé«˜åº¦ç»“æ„åŒ–çš„æ•°æ®æ”¾åˆ°sqliteæ˜¯æœ€åˆé€‚ä¸è¿‡çš„äº†ï¼Œä»¥åå¾€androidä¸Šç§»æ¤ä¹Ÿå¾ˆæ–¹ä¾¿ï¼Œæœç´¢äº†å‡ ä¸ªåŒ…è£…Sqliteçš„åº“éƒ½æ¯”è¾ƒææ€–æ¯”å¦‚Sqlite.swiftï¼Œä»‹äºè¿™ä¸ªåº”ç”¨çš„æ•°æ®é€»è¾‘å¾ˆç®€å•å°±è‡ªå·±å°è£…äº†ä¸€ä¸‹sqliteçš„æ“ä½œï¼Œè¿™é‡Œåˆä¸€ä¸ªå°trickå°±æ˜¯é€‰æ‹©ä¸åŒçš„todoåˆ‡æ¢ã€‚</summary></entry><entry><title>ç®€ä»‹è®¾è®¡æ¨¡å¼-é€‚é…å™¨æ¨¡å¼</title><link href="http://bblu.github.io/2018-03-14-design-pattern-adepter.html" rel="alternate" type="text/html" title="ç®€ä»‹è®¾è®¡æ¨¡å¼-é€‚é…å™¨æ¨¡å¼" /><published>2018-03-14T01:17:00+08:00</published><updated>2018-03-14T01:17:00+08:00</updated><id>http://bblu.github.io/design-pattern-adepter</id><content type="html" xml:base="http://bblu.github.io/2018-03-14-design-pattern-adepter.html">&lt;blockquote&gt;
  &lt;p&gt;è®¾è®¡æ¨¡å¼ï¼ˆPatternï¼‰æ˜¯ç”¨æ¥è§£å†³å¸¸è§çš„æ¨¡å¼åŒ–çš„é—®é¢˜ï¼Œè¿™äº›é—®é¢˜æœ‰æ™®éçš„åº”ç”¨åœºæ™¯äºæ˜¯å°±è¿™äº›åœºæ™¯çš„å…±åŒç‚¹æå–å‡ºæœ‰é’ˆå¯¹æ€§çš„è§£å†³æ–¹æ¡ˆã€‚è®¾è®¡æ¨¡å¼çš„ä½ç½®åœ¨æ¶æ„ï¼ˆarchitectureï¼‰ä¹‹ä¸‹ï¼Œæ¶æ„é¢å‘çš„æ˜¯ç³»ç»Ÿçš„æ•´ä½“ï¼Œæ¯”å¦‚åˆ†å±‚ï¼Œæ¨¡å—åŒ–ï¼ŒMVCï¼ŒOOAç­‰ç­‰è¿™äº›éƒ½å±äºæ¶æ„æ¨¡å¼ï¼Œèƒ½æ”¾åˆ°ä¸€èµ·çš„æ¦‚å¿µè¿˜æœ‰ä¸ªç¼–ç¨‹è¯­è¨€èŒƒå¼(paradigm)åƒæ³›å‹ï¼ŒOOPç­‰,å®ƒä»¬éƒ½æ˜¯åœ¨è¯­è¨€ä¹‹ä¸Šçš„æŠ€æœ¯ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;section&quot;&gt;é€‚é…å™¨æ¨¡å¼&lt;/h3&gt;
&lt;p&gt;æ—¥å¸¸æœ€å¸¸è§çš„é€‚é…å™¨çš„ä¾‹å­å°±æ˜¯å„ç§ç”µæºé€‚é…å™¨ï¼Œæ‰‹æœºæ˜¯ä½å‹ç”µå™¨ï¼ˆ5vï¼Œç›´æµï¼‰ï¼Œæ¥åˆ°å¸‚ç”µï¼ˆ220Vï¼Œäº¤æµï¼‰ç›´æ¥å°±ç»™çˆ†äº†ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªç”µæºæ¥å£ä¸åŒ¹é…çš„é—®é¢˜äºæ˜¯å‚å•†å°±ç”Ÿäº§äº†ç”µæºé€‚é…å™¨ï¼Œé€šè¿‡é€‚é…å™¨çš„é€‚é…æ‰‹æœºå°±èƒ½è·å¾—å®ƒéœ€è¦çš„å……ç”µæœåŠ¡äº†ã€‚
ç±»ä¼¼çš„è¿˜æœ‰å¨æˆ¿å€’æ²¹çš„æ¼æ–—ä¸ºäº†é€‚é…ä¸åŒå®¹å™¨å£å¾„ä¸ä¸€è‡´çš„é—®é¢˜ï¼Œè¿˜æœ‰ç®¡é“ä¸Šçš„å˜å¾„ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œå†²å‡»é’»é€šè¿‡ä¸€ä¸ªå’Œå†²å‡»é’»å¤´åº•åº§é€‚é…çš„å¤¹å¤´å°±å¯ä»¥å®‰è£…æ™®é€šé’»å¤´ä½¿ç”¨äº†ã€‚&lt;/p&gt;

&lt;h3 id=&quot;section-1&quot;&gt;ç»´åŸºç™¾ç§‘&lt;/h3&gt;
&lt;p&gt;åœ¨è®¾è®¡æ¨¡å¼ä¸­ï¼Œé€‚é…å™¨æ¨¡å¼ï¼ˆè‹±è¯­ï¼šadapter patternï¼‰æœ‰æ—¶å€™ä¹Ÿç§°åŒ…è£…æ ·å¼æˆ–è€…åŒ…è£…(wrapper)ã€‚å°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¥æˆç”¨æˆ·æ‰€æœŸå¾…çš„ã€‚ä¸€ä¸ªé€‚é…ä½¿å¾—å› æ¥å£ä¸å…¼å®¹è€Œä¸èƒ½åœ¨ä¸€èµ·å·¥ä½œçš„ç±»èƒ½åœ¨ä¸€èµ·å·¥ä½œï¼Œåšæ³•æ˜¯å°†ç±»è‡ªå·±çš„æ¥å£åŒ…è£¹åœ¨ä¸€ä¸ªå·²å­˜åœ¨çš„ç±»ä¸­ã€‚&lt;/p&gt;

&lt;h4 id=&quot;section-2&quot;&gt;æœ‰ä¸¤ç§ç±»å‹çš„é€‚é…å™¨æ¨¡å¼ï¼š&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;å¯¹è±¡é€‚é…å™¨æ¨¡å¼
åœ¨è¿™ç§é€‚é…å™¨æ¨¡å¼ä¸­ï¼Œé€‚é…å™¨å®¹çº³ä¸€ä¸ªå®ƒåŒ…è£¹çš„ç±»çš„å®ä¾‹ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œé€‚é…å™¨è°ƒç”¨è¢«åŒ…è£¹å¯¹è±¡çš„ç‰©ç†å®ä½“ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;ç±»é€‚é…å™¨æ¨¡å¼
è¿™ç§é€‚é…å™¨æ¨¡å¼ä¸‹ï¼Œé€‚é…å™¨ç»§æ‰¿è‡ªå·²å®ç°çš„ç±»ï¼ˆä¸€èˆ¬å¤šé‡ç»§æ‰¿ï¼‰ã€‚&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;è¯¦è§&lt;a href=&quot;https://zh.wikipedia.org/wiki/%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F&quot;&gt;ç»´åŸºç™¾ç§‘&lt;/a&gt;&lt;/p&gt;</content><author><name>bblu</name><email>gmwblu@gmail.com</email></author><category term="design" /><summary>è®¾è®¡æ¨¡å¼ï¼ˆPatternï¼‰æ˜¯ç”¨æ¥è§£å†³å¸¸è§çš„æ¨¡å¼åŒ–çš„é—®é¢˜ï¼Œè¿™äº›é—®é¢˜æœ‰æ™®éçš„åº”ç”¨åœºæ™¯äºæ˜¯å°±è¿™äº›åœºæ™¯çš„å…±åŒç‚¹æå–å‡ºæœ‰é’ˆå¯¹æ€§çš„è§£å†³æ–¹æ¡ˆã€‚è®¾è®¡æ¨¡å¼çš„ä½ç½®åœ¨æ¶æ„ï¼ˆarchitectureï¼‰ä¹‹ä¸‹ï¼Œæ¶æ„é¢å‘çš„æ˜¯ç³»ç»Ÿçš„æ•´ä½“ï¼Œæ¯”å¦‚åˆ†å±‚ï¼Œæ¨¡å—åŒ–ï¼ŒMVCï¼ŒOOAç­‰ç­‰è¿™äº›éƒ½å±äºæ¶æ„æ¨¡å¼ï¼Œèƒ½æ”¾åˆ°ä¸€èµ·çš„æ¦‚å¿µè¿˜æœ‰ä¸ªç¼–ç¨‹è¯­è¨€èŒƒå¼(paradigm)åƒæ³›å‹ï¼ŒOOPç­‰,å®ƒä»¬éƒ½æ˜¯åœ¨è¯­è¨€ä¹‹ä¸Šçš„æŠ€æœ¯ã€‚</summary></entry><entry><title>ç®€ä»‹è®¾è®¡æ¨¡å¼-å·¥å‚æ¨¡å¼</title><link href="http://bblu.github.io/2018-03-14-design-pattern-factory.html" rel="alternate" type="text/html" title="ç®€ä»‹è®¾è®¡æ¨¡å¼-å·¥å‚æ¨¡å¼" /><published>2018-03-14T00:20:00+08:00</published><updated>2018-03-14T00:20:00+08:00</updated><id>http://bblu.github.io/design-pattern-factory</id><content type="html" xml:base="http://bblu.github.io/2018-03-14-design-pattern-factory.html">&lt;blockquote&gt;
  &lt;p&gt;è®¾è®¡æ¨¡å¼æ˜¯ç”¨æ¥è§£å†³å¸¸è§çš„æ¨¡å¼åŒ–çš„é—®é¢˜ï¼Œè¿™äº›é—®é¢˜æœ‰æ™®éçš„åº”ç”¨åœºæ™¯äºæ˜¯å°±è¿™äº›åœºæ™¯çš„å…±åŒç‚¹æå–å‡ºæœ‰é’ˆå¯¹æ€§çš„è§£å†³æ–¹æ¡ˆã€‚è®¾è®¡æ¨¡å¼çš„ä½ç½®åœ¨æ¶æ„ä¹‹ä¸‹ï¼Œæ¶æ„é¢å‘çš„æ˜¯ç³»ç»Ÿçš„æ•´ä½“ï¼Œæ¯”å¦‚åˆ†å±‚ï¼Œæ¨¡å—åŒ–ï¼ŒMVCï¼ŒOOç­‰ç­‰è¿™äº›éƒ½å±äºæ¶æ„æ¨¡å¼ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;section&quot;&gt;å·¥å‚æ¨¡å¼&lt;/h2&gt;
&lt;p&gt;å·¥å‚å°±æ˜¯ç”¨æ¥åˆ›å»ºäº§å“çš„ã€‚å·¥å‚æ¨¡å¼åˆ†ä¸ºç®€å•å·¥å‚å’ŒæŠ½è±¡å·¥å‚ä¸¤ç§ï¼Œä»–ä»¬æœ‰å‡ ä¸ªä¸åŒç‚¹ï¼šä¸€æ˜¯ç®€å•å·¥å‚æ˜¯ä¸ªèƒ½ç›´æ¥ç”¨çš„å·¥å‚å¯ä»¥ç”Ÿäº§å‡ºå®ä¾‹ï¼ŒæŠ½è±¡å·¥å‚åªæ˜¯å·¥å‚æ¨¡æ¿ä¸èƒ½ç”¨æ¥åˆ›å»ºå®ä¾‹ã€‚äºŒæ˜¯ç®€å•å·¥å‚éšè—æ¥åˆ›å»ºç»†èŠ‚æ–¹ä¾¿ç”¨æˆ·ä½¿ç”¨ï¼ŒæŠ½è±¡å·¥å‚æŠŠåˆ›å»ºçš„ç»†èŠ‚äº¤ç»™ç”¨æˆ·å»å®ç°ï¼Œå®ä¾‹æ˜¯ç³»ç»Ÿåœ¨ä½¿ç”¨ã€‚ä¸‰æŠ½è±¡å·¥å‚ä¸ç®€å•ã€‚æŠ½è±¡å·¥å‚æ˜¯äº§å“çš„åˆ›å»ºçš„è¡Œä¸ºçº¦æŸçš„æ¨¡æ¿(å‚è€ƒC++çš„æ¨¡æ¿ç±»æ¯”å¦‚std::map)ä½†ä¸èƒ½ç›´æ¥ç”¨ï¼Œå¿…é¡»æ ¹æ®æ¨¡æ¿åˆ›å»ºå‡ºè‡ªå·±çš„å·¥å‚å®ä¾‹ï¼ˆæ¯”å¦‚std::map&amp;lt;int,string&amp;gt;ï¼‰å°±å¯ä»¥ç”¨äº†ï¼‰ã€‚æŠ½è±¡å·¥å‚æ˜¯æŠŠäº§å“è®¾è®¡å’Œäº§å“åˆ›å»ºåˆ†ç¦»ã€‚è¿™ä¸ªè¿‡ç¨‹åƒç”Ÿäº§æ‰‹æœºï¼Œè®¾è®¡éƒ¨é—¨å…³æ³¨çš„æ˜¯ç»“æœï¼Œç”Ÿäº§éƒ¨é—¨å…³æ³¨çš„æ˜¯è¿‡ç¨‹ï¼Œè®¾è®¡éƒ¨é—¨ä¸éœ€è¦äº†è§£æ‰‹æœºåˆ¶é€ çš„ç»†èŠ‚ï¼Œç”Ÿäº§éƒ¨é—¨å®ç°æ¥è¿™äº›æŠ€æœ¯ç»†èŠ‚ã€‚&lt;/p&gt;

&lt;p&gt;æŠ½è±¡å·¥å‚éœ€è¦ç³»ç»Ÿæ¶æ„æ”¯æŒï¼Œé€‚ç”¨äºæœ‰å¤§é‡ä¸åŒå¯¹è±¡æœ‰ç»Ÿä¸€è¡Œä¸ºä½†æ˜¯åˆ›å»ºæ–¹å¼ä¸åŒçš„åœºæ™¯ï¼ŒåŒæ ·çš„å‚æ•°äº§ç”Ÿçš„å¯¹è±¡æ˜¯ä¸ä¸€æ ·çš„ã€‚æ¯”å¦‚å‚æ•°åŒ–å»ºæ¨¡ç³»ç»Ÿä¸­ï¼ŒshapeFactoryæœ‰CircleFactoryå’ŒRectFactoryä¸¤ä¸ªå®ç°ï¼ŒåŒæ ·çš„å‚æ•°1è¢«è¿™ä¸¤ä¸ªå·¥å‚è°ƒç”¨createShapeå»åˆ›å»ºäº§å“ï¼ŒcircleFactoryåˆ›å»ºçš„æ˜¯å•ä½åœ†ï¼Œè€ŒRectFactoryåˆ›å»ºçš„æ˜¯å•ä½çŸ©å½¢ã€‚è™½ç„¶åˆ›å»ºçš„ç»†èŠ‚ä¸ä¸€æ ·ä½†æ˜¯æŠŠå®ƒä»¬æ‰”åˆ°ç”»æ¿ä¸­å®ƒä»¬çš„æ—‹è½¬ï¼Œç§»åŠ¨ï¼Œç¼©æ”¾ã€è®¾ç½®é¢œè‰²çº¿å®½ç­‰ç­‰æ¥å£éƒ½æ˜¯ç»Ÿä¸€çš„ï¼Œè¿™äº›shapeåˆ›å»ºåæ˜¯ç³»ç»Ÿåœ¨æ“ä½œä»–ä»¬ã€‚&lt;/p&gt;

&lt;p&gt;psï¼šæˆ‘ä¸€ç›´ä¸æŠŠC++çš„æ¨¡æ¿æŠ€æœ¯å½“ä½œæ³›å‹ç¼–ç¨‹ï¼ŒåŸå› å°±æ˜¯å‡½æ•°æ¨¡ç‰ˆåƒå®çš„è¿›åŒ–ç‰ˆï¼Œæ¨¡ç‰ˆç±»æ˜¯æŠ½è±¡çš„è™½ç„¶ä»æ¨¡ç‰ˆçš„è§’åº¦çœ‹çš„ç¡®æ˜¯åšåˆ°äº†æ³›å‹ï¼Œä½†æ˜¯è¿™ä¸ªæ³›å‹çš„æ¨¡ç‰ˆå¹¶ä¸èƒ½ç›´æ¥å»ç”¨å¿…é¡»é ç¨‹åºå‘˜æ‰‹åŠ¨å…·å‹åˆ°ä¸€ä¸ªå…·ä½“ç±»å‹å»ç”¨ï¼Œå’ŒåŠ¨æ€æ³›å‹è¿˜æœ‰å·®è·ç®—æ˜¯æ³›å‹çš„ä½çº§å½¢æ€å§ã€‚&lt;/p&gt;

&lt;h3 id=&quot;section-1&quot;&gt;ç»´åŸºç™¾ç§‘-æŠ½è±¡å·¥å‚&lt;/h3&gt;
&lt;p&gt;æŠ½è±¡å·¥å‚æ¨¡å¼ï¼ˆè‹±è¯­ï¼šAbstract factory patternï¼‰æ˜¯ä¸€ç§è½¯ä»¶å¼€å‘è®¾è®¡æ¨¡å¼ã€‚æŠ½è±¡å·¥å‚æ¨¡å¼æä¾›äº†ä¸€ç§æ–¹å¼ï¼Œå¯ä»¥å°†ä¸€ç»„å…·æœ‰åŒä¸€ä¸»é¢˜çš„å•ç‹¬çš„å·¥å‚å°è£…èµ·æ¥ã€‚åœ¨æ­£å¸¸ä½¿ç”¨ä¸­ï¼Œå®¢æˆ·ç«¯ç¨‹åºéœ€è¦åˆ›å»ºæŠ½è±¡å·¥å‚çš„å…·ä½“å®ç°ï¼Œç„¶åä½¿ç”¨æŠ½è±¡å·¥å‚ä½œä¸ºæ¥å£æ¥åˆ›å»ºè¿™ä¸€ä¸»é¢˜çš„å…·ä½“å¯¹è±¡ã€‚å®¢æˆ·ç«¯ç¨‹åºä¸éœ€è¦çŸ¥é“ï¼ˆæˆ–å…³å¿ƒï¼‰å®ƒä»è¿™äº›å†…éƒ¨çš„å·¥å‚æ–¹æ³•ä¸­è·å¾—å¯¹è±¡çš„å…·ä½“ç±»å‹ï¼Œå› ä¸ºå®¢æˆ·ç«¯ç¨‹åºä»…ä½¿ç”¨è¿™äº›å¯¹è±¡çš„é€šç”¨æ¥å£ã€‚æŠ½è±¡å·¥å‚æ¨¡å¼å°†ä¸€ç»„å¯¹è±¡çš„å®ç°ç»†èŠ‚ä¸ä»–ä»¬çš„ä¸€èˆ¬ä½¿ç”¨åˆ†ç¦»å¼€æ¥ã€‚&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;å¦‚å›¾æŠ½è±¡å·¥å‚éœ€è¦é…åˆç³»ç»Ÿçš„æŠ½è±¡äº§å“ä¸€èµ·ç”¨&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;img src=&quot;../assets/in-post/2018-03-14-Abstract_factory.svg&quot; alt=&quot;AbstractFactory&quot; /&gt;&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&quot;&quot;
Provide an interface for creating families of related or dependent
objects without specifying their concrete classes.
&quot;&quot;&quot;&lt;/span&gt;

import abc

class AbstractFactory&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;metaclass&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;abc.ABCMeta&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;:
    &lt;span class=&quot;s2&quot;&gt;&quot;&quot;&quot;
    Declare an interface for operations that create abstract product
    objects.
    &quot;&quot;&quot;&lt;/span&gt;

    @abc.abstractmethod
    def create_product_a&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;:
        pass

    @abc.abstractmethod
    def create_product_b&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;:
        pass


class ConcreteFactory1&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;AbstractFactory&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;:
    &lt;span class=&quot;s2&quot;&gt;&quot;&quot;&quot;
    Implement the operations to create concrete product objects.
    &quot;&quot;&quot;&lt;/span&gt;

    def create_product_a&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;:
        &lt;span class=&quot;k&quot;&gt;return &lt;/span&gt;ConcreteProductA1&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;

    def create_product_b&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;:
        &lt;span class=&quot;k&quot;&gt;return &lt;/span&gt;ConcreteProductB1&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;


class ConcreteFactory2&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;AbstractFactory&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;:
    &lt;span class=&quot;s2&quot;&gt;&quot;&quot;&quot;
    Implement the operations to create concrete product objects.
    &quot;&quot;&quot;&lt;/span&gt;

    def create_product_a&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;:
        &lt;span class=&quot;k&quot;&gt;return &lt;/span&gt;ConcreteProductA2&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;

    def create_product_b&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;:
        &lt;span class=&quot;k&quot;&gt;return &lt;/span&gt;ConcreteProductB2&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;


class AbstractProductA&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;metaclass&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;abc.ABCMeta&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;:
    &lt;span class=&quot;s2&quot;&gt;&quot;&quot;&quot;
    Declare an interface for a type of product object.
    &quot;&quot;&quot;&lt;/span&gt;

    @abc.abstractmethod
    def interface_a&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;:
        pass


class ConcreteProductA1&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;AbstractProductA&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;:
    &lt;span class=&quot;s2&quot;&gt;&quot;&quot;&quot;
    Define a product object to be created by the corresponding concrete
    factory.
    Implement the AbstractProduct interface.
    &quot;&quot;&quot;&lt;/span&gt;

    def interface_a&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;:
        pass


class ConcreteProductA2&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;AbstractProductA&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;:
    &lt;span class=&quot;s2&quot;&gt;&quot;&quot;&quot;
    Define a product object to be created by the corresponding concrete
    factory.
    Implement the AbstractProduct interface.
    &quot;&quot;&quot;&lt;/span&gt;

    def interface_a&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;:
        pass


class AbstractProductB&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;metaclass&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;abc.ABCMeta&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;:
    &lt;span class=&quot;s2&quot;&gt;&quot;&quot;&quot;
    Declare an interface for a type of product object.
    &quot;&quot;&quot;&lt;/span&gt;

    @abc.abstractmethod
    def interface_b&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;:
        pass


class ConcreteProductB1&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;AbstractProductB&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;:
    &lt;span class=&quot;s2&quot;&gt;&quot;&quot;&quot;
    Define a product object to be created by the corresponding concrete
    factory.
    Implement the AbstractProduct interface.
    &quot;&quot;&quot;&lt;/span&gt;

    def interface_b&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;:
        pass


class ConcreteProductB2&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;AbstractProductB&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;:
    &lt;span class=&quot;s2&quot;&gt;&quot;&quot;&quot;
    Define a product object to be created by the corresponding concrete
    factory.
    Implement the AbstractProduct interface.
    &quot;&quot;&quot;&lt;/span&gt;

    def interface_b&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;:
        pass


def main&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;:
    &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;factory &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;ConcreteFactory1&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;, ConcreteFactory2&lt;span class=&quot;o&quot;&gt;())&lt;/span&gt;:
        product_a &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; factory.create_product_a&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
        product_b &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; factory.create_product_b&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
        product_a.interface_a&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
        product_b.interface_b&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;


&lt;span class=&quot;k&quot;&gt;if &lt;/span&gt;__name__ &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;__main__&quot;&lt;/span&gt;:
    main&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Code above:&lt;a href=&quot;https://sourcemaking.com/design_patterns/abstract_factory/python/1&quot;&gt;Abstract Factory in Python&lt;/a&gt;&lt;/p&gt;</content><author><name>bblu</name><email>gmwblu@gmail.com</email></author><category term="design" /><summary>è®¾è®¡æ¨¡å¼æ˜¯ç”¨æ¥è§£å†³å¸¸è§çš„æ¨¡å¼åŒ–çš„é—®é¢˜ï¼Œè¿™äº›é—®é¢˜æœ‰æ™®éçš„åº”ç”¨åœºæ™¯äºæ˜¯å°±è¿™äº›åœºæ™¯çš„å…±åŒç‚¹æå–å‡ºæœ‰é’ˆå¯¹æ€§çš„è§£å†³æ–¹æ¡ˆã€‚è®¾è®¡æ¨¡å¼çš„ä½ç½®åœ¨æ¶æ„ä¹‹ä¸‹ï¼Œæ¶æ„é¢å‘çš„æ˜¯ç³»ç»Ÿçš„æ•´ä½“ï¼Œæ¯”å¦‚åˆ†å±‚ï¼Œæ¨¡å—åŒ–ï¼ŒMVCï¼ŒOOç­‰ç­‰è¿™äº›éƒ½å±äºæ¶æ„æ¨¡å¼ã€‚</summary></entry><entry><title>ioså¼€å‘TimePieç¬¬3å¤©-æ·»åŠ UIPickerView</title><link href="http://bblu.github.io/2018-03-11-swift-timepie-3rd.html" rel="alternate" type="text/html" title="ioså¼€å‘TimePieç¬¬3å¤©-æ·»åŠ UIPickerView" /><published>2018-03-11T00:00:00+08:00</published><updated>2018-03-11T00:00:00+08:00</updated><id>http://bblu.github.io/swift-timepie-3rd</id><content type="html" xml:base="http://bblu.github.io/2018-03-11-swift-timepie-3rd.html">&lt;blockquote&gt;
  &lt;p&gt;è§£æjsonåˆå§‹åŒ–pickerviewé€‰æ‹©todoäº‹é¡¹ï¼Œä¸€å¼€å§‹æƒ³æŠŠPickerçš„Datasourceå’ŒDelegateç‹¬ç«‹å‡ºå»ï¼Œäº’ç›¸æ“ä½œèµ·æ¥å¤ªå¤æ‚å…ˆæ”¾å¼ƒäº†ä»¥åå†è¯´å§ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;section&quot;&gt;å¸¸ç”¨çš„æ“ä½œ&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;é‡æ„ï¼š Command + click å¯ä»¥è°ƒå‡ºé€‰é¡¹è½¬åˆ°å®šä¹‰&lt;/li&gt;
  &lt;li&gt;æŸ¥æ‰¾ï¼š Command + F&lt;/li&gt;
  &lt;li&gt;æ›¿æ¢ï¼š Command + Option+F&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;uipickerview&quot;&gt;UIPickerViewæ›´æ–°é€‰é¡¹å’Œè®¾ç½®é»˜è®¤é¡¹&lt;/h3&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    public func pickerView&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;_ pickerView: UIPickerView, didSelectRow row: Int, inComponent component: Int&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
        &lt;span class=&quot;nb&quot;&gt;let &lt;/span&gt;select0 &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; picker.selectedRow&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;inComponent: 0&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
        var index &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; select0 &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; 100 + component &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; row
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;component&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;0&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
            picker.reloadComponent&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; //é‡æ–°åŠ è½½äºŒçº§é€‰é¡¹
            picker.selectRow&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1, inComponent: 1, animated: &lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; //äºŒçº§é€‰é¡¹é‡Œé»˜è®¤çš„ç´¢å¼•æ˜¯1
            index +&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 1
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
        print&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;pickerView.delegate.didSelectRow[select0=&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;select0),com=&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;component),row=&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;row)],index=&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;index)&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
        curLabel.text &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;current is &quot;&lt;/span&gt; + getLabel&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;index:index&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;../assets/in-post/2018-03-11-swift-timepie-picker.png&quot; alt=&quot;add source file to project&quot; /&gt;&lt;/p&gt;</content><author><name>bblu</name><email>gmwblu@gmail.com</email></author><category term="ios" /><category term="swift" /><summary>è§£æjsonåˆå§‹åŒ–pickerviewé€‰æ‹©todoäº‹é¡¹ï¼Œä¸€å¼€å§‹æƒ³æŠŠPickerçš„Datasourceå’ŒDelegateç‹¬ç«‹å‡ºå»ï¼Œäº’ç›¸æ“ä½œèµ·æ¥å¤ªå¤æ‚å…ˆæ”¾å¼ƒäº†ä»¥åå†è¯´å§ã€‚</summary></entry><entry><title>ioså¼€å‘TimePieç¬¬2å¤©-è§£æjsonæ·»åŠ æŒ‰é’®</title><link href="http://bblu.github.io/2018-03-09-swift-timepie-2nd.html" rel="alternate" type="text/html" title="ioså¼€å‘TimePieç¬¬2å¤©-è§£æjsonæ·»åŠ æŒ‰é’®" /><published>2018-03-09T00:00:00+08:00</published><updated>2018-03-09T00:00:00+08:00</updated><id>http://bblu.github.io/swift-timepie-2nd</id><content type="html" xml:base="http://bblu.github.io/2018-03-09-swift-timepie-2nd.html">&lt;blockquote&gt;
  &lt;p&gt;è¢«é”¤å­æ‰“å‡»ä¹‹åå°±æ²¡æ€ä¹ˆå»å†™æ—¥ç¨‹äº†ï¼Œé™¤äº†å¤±æœ›å¦ä¸€ä¸ªå¾ˆé‡è¦çš„åŸå› æ˜¯ç›´æ¥åœ¨Googleæ—¥å†ä¸Šæ— è®ºæ˜¯æ·»åŠ è®¡åˆ’è¿˜æ˜¯ä¿®æ”¹è®¡åˆ’éƒ½å¤ªéº»çƒ¦ï¼Œä¸ºè‡ªå·±åˆä¸æ˜¯èƒ½å®Œå…¨æŒ‰ç…§æ—¶é—´è®¡åˆ’å»æ‰§è¡Œçš„äººï¼Œä¹Ÿæ²¡æœ‰é‚£ä¹ˆå¤šæ—¶é—´å»æäº†ã€‚é‚£å°±æ¢æ‰‹æœºäº†ï¼Œåœ¨è‹¹æœåº”ç”¨å¸‚åœºä¸Šæœé›†äº†åå‡ æ¬¾æ—¶é—´æ—¥ç¨‹ç®¡ç†çš„è½¯ä»¶å‘ç°éƒ½ä¸æ˜¯æˆ‘æƒ³è¦çš„ï¼Œäºæ˜¯å°±æƒ³è‡ªå·±å¼€å‘ä¸€ä¸ªè¿™å°±æ˜¯æˆ‘å¼€å‘è¿™ä¸ªè½¯ä»¶çš„åŸå› ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æœ€æ—©èµ·åå«Mydayæ„Ÿè§‰å¤ªåœŸäº†è¿™æ¬¡é‡æ–°åšæ”¹åå«TimePieï¼Œgithubå•ç‹¬èµ·äº†ä¸€ä¸ªã€&lt;a href=&quot;https://github.com/bblu/timepie&quot;&gt;TimePie&lt;/a&gt;ã€‘ã€‚&lt;/p&gt;

&lt;h2 id=&quot;section&quot;&gt;å„ç§ç™½ç—´é—®é¢˜&lt;/h2&gt;
&lt;p&gt;### 1.æ·»åŠ æŒ‰é’®äº‹ä»¶
è¿™ä¸ªä»¥å‰éƒ½æ˜¯æœ‰é¼ æ ‡çš„ï¼Œè¿™æ¬¡å‡ºå·®æ²¡å¸¦é¼ æ ‡å•å‡»äº†åŠå¤©å°±æ˜¯ä¸èƒ½æŠŠæŒ‰é’®å…³è”åˆ°äº‹ä»¶åˆ›å»ºä¸Šï¼Œä¸€æ™šä¸Šä¹Ÿæ— è§£ç›´åˆ°ç¬¬äºŒå¤©æ‰æç„¶å¤§æ‚Ÿåº”è¯¥æ˜¯å³å‡»ã€‚&lt;/p&gt;

&lt;h3 id=&quot;section-1&quot;&gt;2.æ·»åŠ èµ„æºæ–‡ä»¶&lt;/h3&gt;
&lt;p&gt;èµ„æºæ–‡ä»¶çš„ç»“æ„è¦å’Œè§£ç çš„ç»“æ„å¯¹åº”
&lt;code class=&quot;highlighter-rouge&quot;&gt;base
{
    &quot;user&quot;:&quot;bblu&quot;,
    &quot;date&quot;:&quot;2018-03-09&quot;,
    &quot;items&quot;:[
             {&quot;name&quot;: &quot;work&quot;,&quot;alias&quot;:&quot;å·¥ä½œ&quot;,&quot;icon&quot;:&quot;ğŸ“Œ&quot;,&quot;code&quot;:0,&quot;span&quot;:360},
             {&quot;name&quot;: &quot;coding&quot;,&quot;alias&quot;:&quot;ç¼–ç &quot;,&quot;icon&quot;:&quot;ğŸ‘¨ğŸ»â€ğŸ’»&quot;,&quot;code&quot;:1,&quot;span&quot;:60}
    ]
}
&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;å†™å¥½jsonçš„é…ç½®æ–‡ä»¶æ”¾åˆ°å¯¹åº”ç›®å½•ä¸‹,æ‰¾çš„ä»£ç è¿™ä¹ˆä¹Ÿè¯»ä¸å‡ºæ¥ï¼Œåå¤çœ‹è§†é¢‘å’ŒæŸ¥èµ„æ–™å‘ç°æ˜¯è‡ªå·±ç™½ç—´äº†ï¼
è§£å†³æ–¹æ³•ï¼šæ‰“å¼€build Phasesä¸­çš„ copy Bundle Resourcesç‚¹å‡»ä¸‹é¢çš„+æŠŠä½ éœ€æ±‚çš„æ–‡ä»¶æ·»åŠ è¿›å»ï¼Œç„¶åå†è¿è¡Œå°±å¯ä»¥è·å–åˆ°ä½ çš„æ–‡ä»¶è·¯å¾„äº†ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../assets/in-post/2018-03-09-swift-json-file.png&quot; alt=&quot;add source file to project&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;swift-4codable&quot;&gt;3.swift 4æ–°å¢çš„codableæ–¹å¼å®šä¹‰è‡ªå·±çš„æ•°æ®æ¨¡å¼&lt;/h3&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;struct TodoConfig:Decodable&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;let &lt;/span&gt;user:String
    &lt;span class=&quot;nb&quot;&gt;let &lt;/span&gt;date:String
    &lt;span class=&quot;nb&quot;&gt;let &lt;/span&gt;items:[TodoItem]
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

struct TodoItem: Decodable&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;let &lt;/span&gt;name:String
    &lt;span class=&quot;nb&quot;&gt;let alias&lt;/span&gt;:String
    &lt;span class=&quot;nb&quot;&gt;let &lt;/span&gt;icon:String
    &lt;span class=&quot;nb&quot;&gt;let &lt;/span&gt;code:Int
    var span:Int
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;### 4.é€šè¿‡ä»£ç åˆå§‹åŒ–æŒ‰é’®&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    func addButtons&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;items:[TodoItem]&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;item &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;items&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nb&quot;&gt;let &lt;/span&gt;pos &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; item.code
            //pos:   0,  1,  2,  3,  4
            //     100,101,102,103,104
            &lt;span class=&quot;nb&quot;&gt;let &lt;/span&gt;px &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;pos % 10&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; 80
            &lt;span class=&quot;nb&quot;&gt;let &lt;/span&gt;py &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 400 + &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;pos / 10&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; 50
            &lt;span class=&quot;nb&quot;&gt;let &lt;/span&gt;btnItem &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; UIButton&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;frame: CGRect&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;x:px, y: py, width: 80, height: 30&lt;span class=&quot;o&quot;&gt;))&lt;/span&gt;
            //btnItem.addTarget&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;self, action: Selector&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;clickItem&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;, 
            &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;: UIControlEvents.touchUpInside&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
            btnItem.translatesAutoresizingMaskIntoConstraints &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;false
            &lt;/span&gt;btnItem.setTitle&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;item.alias, &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;: UIControlState.normal&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
            btnItem.setTitleColor&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;UIColor.blue, &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;: UIControlState.normal&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
            //btnItem.backgroundColor &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; UIColor.lightGray
            // btnItem.addTarget&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;self, action: Selector&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;clickItem&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;, 
            &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;: UIControlEvents.touchUpInside&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
            self.view.addSubview&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;btnItem&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;../assets/in-post/2018-03-09-swift-timepie-btn.png&quot; alt=&quot;add source file to project&quot; /&gt;&lt;/p&gt;</content><author><name>bblu</name><email>gmwblu@gmail.com</email></author><category term="ios" /><category term="swift" /><summary>è¢«é”¤å­æ‰“å‡»ä¹‹åå°±æ²¡æ€ä¹ˆå»å†™æ—¥ç¨‹äº†ï¼Œé™¤äº†å¤±æœ›å¦ä¸€ä¸ªå¾ˆé‡è¦çš„åŸå› æ˜¯ç›´æ¥åœ¨Googleæ—¥å†ä¸Šæ— è®ºæ˜¯æ·»åŠ è®¡åˆ’è¿˜æ˜¯ä¿®æ”¹è®¡åˆ’éƒ½å¤ªéº»çƒ¦ï¼Œä¸ºè‡ªå·±åˆä¸æ˜¯èƒ½å®Œå…¨æŒ‰ç…§æ—¶é—´è®¡åˆ’å»æ‰§è¡Œçš„äººï¼Œä¹Ÿæ²¡æœ‰é‚£ä¹ˆå¤šæ—¶é—´å»æäº†ã€‚é‚£å°±æ¢æ‰‹æœºäº†ï¼Œåœ¨è‹¹æœåº”ç”¨å¸‚åœºä¸Šæœé›†äº†åå‡ æ¬¾æ—¶é—´æ—¥ç¨‹ç®¡ç†çš„è½¯ä»¶å‘ç°éƒ½ä¸æ˜¯æˆ‘æƒ³è¦çš„ï¼Œäºæ˜¯å°±æƒ³è‡ªå·±å¼€å‘ä¸€ä¸ªè¿™å°±æ˜¯æˆ‘å¼€å‘è¿™ä¸ªè½¯ä»¶çš„åŸå› ã€‚</summary></entry></feed>
